<html><head></head><body><div id="sbo-rt-content"><div id="_idContainer210" class="_idGenObjectStyleOverride-1">&#13;
			<p id="_idParaDest-214" class="Chapter-Title" lang="en-US" xml:lang="en-US"><span class="ChapterMarker">23. </span><a id="_idTextAnchor285"/>Creating a CentOS 8 <a id="_idIndexMarker492"/><a id="_idIndexMarker493"/>KVM Networked Bridge Interface</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">By default, the KVM virtualization environment on CentOS 8 creates a virtual network to which virtual machines may connect. It is also possible to configure a direct connection using a MacVTap driver, though as outlined in the chapter entitled <a href="../Text/Virtualization_Overview.xhtml#_idTextAnchor248"><span class="My-Italic _idGenCharOverride-1">“An Overview of Virtualization Techniques”</span></a><span class="My-Italic _idGenCharOverride-1">, </span>this approach does not allow the host and guest systems to communicate. </p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">The goal of this chapter is to cover the steps involved in creating a network bridge on CentOS 8 enabling guest systems to share one or more of the host system’s physical network connections while still allowing the guest and host systems to communicate.</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">In the remainder of this chapter we will cover the steps necessary to configure a CentOS 8 network bridge for use by KVM-based guest operating systems.</p>&#13;
			<p id="_idParaDest-215" class="Heading-1-1" lang="en-US" xml:lang="en-US"><span class="Heading11Marker">23.1 </span><a id="_idTextAnchor286"/><a id="_idTextAnchor287"/>Getting the Current Network Settings</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">A network bridge can be created using the NetworkManager command-line interface tool <a id="_idIndexMarker494"/>(<span class="My-Italic _idGenCharOverride-1">nmcli</span>). The NetworkManager is installed and enabled by default on CentOS 8 systems and is responsible for detecting and connecting to network devices in addition to providing an interface for managing networking configurations.</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">A list of current network connections on the host system can be displayed as follows:</p>&#13;
			<p class="Code"># nmcli con show</p>&#13;
			<p class="Code">NAME         UUID                                  TYPE      DEVICE </p>&#13;
			<p class="Code">eno1         99d40009-6bb1-4182-baad-a103941c90ff  ethernet  eno1   </p>&#13;
			<p class="Code">virbr0       7cb1265e-ffb9-4cb3-aaad-2a6fe5880d38  bridge    virbr0 </p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">In the above output we can see that the host has an Ethernet network connection established via a device named <span class="My-Italic _idGenCharOverride-1">eno1</span> and the default bridge interface named <span class="My-Italic _idGenCharOverride-1">virbr0</span> provides access to the NAT-based virtual network to which KVM guest systems are connected by default.</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Similarly, the following command can be used to identify the devices (both virtual and physical) that are currently configured on the system:</p>&#13;
			<p class="Code"># nmcli device show</p>&#13;
			<p class="Code">GENERAL.DEVICE:                         eno1</p>&#13;
			<p class="Code">GENERAL.TYPE:                           ethernet</p>&#13;
			<p class="Code">GENERAL.HWADDR:                         AC:16:2D:11:16:73</p>&#13;
			<p class="Code">GENERAL.MTU:                            1500</p>&#13;
			<p class="Code">GENERAL.STATE:                          100 (connected)</p>&#13;
			<p class="Code">GENERAL.CONNECTION:                     eno1</p>&#13;
			<p class="Code">GENERAL.CON-PATH:                       /org/freedesktop/NetworkManager/ActiveConnection/1</p>&#13;
			<p class="Code">WIRED-PROPERTIES.CARRIER:               on</p>&#13;
			<p class="Code">IP4.ADDRESS[1]:                         192.168.86.59/24</p>&#13;
			<p class="Code">IP4.GATEWAY:                            192.168.86.1</p>&#13;
			<p class="Code">IP4.ROUTE[1]:                           dst = 0.0.0.0/0, nh = 192.168.86.1, mt = 100</p>&#13;
			<p class="Code">IP4.ROUTE[2]:                           dst = 192.168.86.0/24, nh = 0.0.0.0, mt = 100</p>&#13;
			<p class="Code">IP4.DNS[1]:                             192.168.86.1</p>&#13;
			<p class="Code">IP4.DOMAIN[1]:                          lan</p>&#13;
			<p class="Code">IP6.ADDRESS[1]:                         fe80::6deb:f739:7d67:2242/64</p>&#13;
			<p class="Code">IP6.GATEWAY:                            --</p>&#13;
			<p class="Code">IP6.ROUTE[1]:                           dst = fe80::/64, nh = ::, mt = 100</p>&#13;
			<p class="Code">IP6.ROUTE[2]:                           dst = ff00::/8, nh = ::, mt = 256, table=255</p>&#13;
			<p class="Code"> </p>&#13;
			<p class="Code">GENERAL.DEVICE:                         virbr0</p>&#13;
			<p class="Code">GENERAL.TYPE:                           bridge</p>&#13;
			<p class="Code">GENERAL.HWADDR:                         52:54:00:59:30:22</p>&#13;
			<p class="Code">GENERAL.MTU:                            1500</p>&#13;
			<p class="Code">GENERAL.STATE:                          100 (connected)</p>&#13;
			<p class="Code">GENERAL.CONNECTION:                     virbr0</p>&#13;
			<p class="Code">GENERAL.CON-PATH:                       /org/freedesktop/NetworkManager/ActiveConnection/2</p>&#13;
			<p class="Code">IP4.ADDRESS[1]:                         192.168.122.1/24</p>&#13;
			<p class="Code">IP4.GATEWAY:                            --</p>&#13;
			<p class="Code">IP4.ROUTE[1]:                           dst = 192.168.122.0/24, nh = 0.0.0.0, mt = 0</p>&#13;
			<p class="Code">IP6.GATEWAY:                            --</p>&#13;
			<p class="Code">.</p>&#13;
			<p class="Code">.</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">The above partial output indicates that the host system on which the command was executed contains a physical Ethernet device (eno1) and the virtual bridge (virbr0).</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">The <span class="My-Italic _idGenCharOverride-1">virsh</span> command may also be used to list the virtual networks currently configured on the system:</p>&#13;
			<p class="Code"># virsh net-list --all</p>&#13;
			<p class="Code">Name                 State      Autostart </p>&#13;
			<p class="Code">-----------------------------------------</p>&#13;
			<p class="Code">default              active     yes</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">At this point, the only virtual network present is the default network provided by virbr0. Now that some basic information about the current network configuration has been obtained, the next step is to create a network bridge connected to the physical network device (in this case the device named eno1).</p>&#13;
			<p id="_idParaDest-216" class="Heading-1-1" lang="en-US" xml:lang="en-US"><span class="Heading11Marker">23.2 </span><a id="_idTextAnchor288"/>Creating a Network Bridge from the Command-Line</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">The first step in creating the network bridge is to add a new connection to the network configuration. This can be achieved using the <a id="_idIndexMarker495"/><span class="My-Italic _idGenCharOverride-1">nmcli</span> tool, specifying that the connection is to be a bridge and providing names for both the connection and the interface:</p>&#13;
			<p class="Code"># nmcli con add ifname br0 type bridge con-name br0</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Once the connection has been added, a bridge slave interface needs to be established between physical device eno1 (the slave) and the bridge connection br0 (the master) as follows:</p>&#13;
			<p class="Code"># nmcli con add type bridge-slave ifname eno1 master br0</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">At this point, the NetworkManager connection list should read as follows:</p>&#13;
			<p class="Code"># nmcli con show</p>&#13;
			<p class="Code">NAME               UUID                                  TYPE      DEVICE </p>&#13;
			<p class="Code">eno1               66f0abed-db43-4d79-8f5e-2cbf8c7e3aff  ethernet  eno1   </p>&#13;
			<p class="Code">virbr0             0fa934d5-0508-47b7-a119-33a232b03f64  bridge    virbr0 </p>&#13;
			<p class="Code">br0                59b6631c-a283-41b9-bbf9-56a60ec75653  bridge    br0    </p>&#13;
			<p class="Code">bridge-slave-eno1  395bb34b-5e02-427a-ab31-762c9f878908  ethernet  --</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">The next step is to start up the bridge interface. If the steps to configure the bridge are being performed over a network connection (i.e. via SSH) this step can be problematic because the current eno1 connection must be closed down before the bridge connection can be brought up. This means that the current connection will be lost before the bridge connection can be enabled to replace it, potentially leaving the remote host unreachable.</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">If you are accessing the host system remotely this problem can be avoided by creating a shell script to perform the network changes. This will ensure that the bridge interface is enabled after the eno1 interface is brought down, allowing you to reconnect to the host after the changes are complete. Begin by creating a shell script file named <span class="My-Italic _idGenCharOverride-1">bridge.sh</span> containing the following commands:</p>&#13;
			<p class="Code">#!/bin/bash</p>&#13;
			<p class="Code">nmcli con down eno1</p>&#13;
			<p class="Code">nmcli con up br0</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Once the script has been created, execute it as follows:</p>&#13;
			<p class="Code"># sh ./bridge.sh</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">When the script executes, the connection will be lost when the eno1 connection is brought down. After waiting a few seconds, however, it should be possible to reconnect to the host once the br0 connection has been activated.</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">If you are working locally on the host, the two <span class="My-Italic _idGenCharOverride-1">nmcli</span> commands can be run within a terminal window without any risk of losing connectivity:</p>&#13;
			<p class="Code"># nmcli con down eno1</p>&#13;
			<p class="Code"># nmcli con up br0</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Once the bridge is up and running, the connection list should now include both the bridge and the bridge-slave connections:</p>&#13;
			<p class="Code"># nmcli con show</p>&#13;
			<p class="Code">NAME               UUID                                  TYPE      DEVICE </p>&#13;
			<p class="Code">br0                59b6631c-a283-41b9-bbf9-56a60ec75653  bridge    br0    </p>&#13;
			<p class="Code">bridge-slave-eno1  395bb34b-5e02-427a-ab31-762c9f878908  ethernet  eno1   </p>&#13;
			<p class="Code">virbr0             0fa934d5-0508-47b7-a119-33a232b03f64  bridge    virbr0 </p>&#13;
			<p class="Code">eno1               66f0abed-db43-4d79-8f5e-2cbf8c7e3aff  ethernet  --</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Note that the eno1 connection is still listed but is actually no longer active. To exclude inactive connections from the list, simply use the --active flag when requesting the list:</p>&#13;
			<p class="Code"># nmcli con show --active</p>&#13;
			<p class="Code">NAME               UUID                                  TYPE      DEVICE </p>&#13;
			<p class="Code">br0                c2fa30cb-b1a1-4107-80dd-b1765878ab4f  bridge    br0    </p>&#13;
			<p class="Code">bridge-slave-eno1  21e8c945-cb94-4c09-99b0-17af9b5a7319  ethernet  eno1   </p>&#13;
			<p class="Code">virbr0             a877302e-ea02-42fe-a3c1-483440aae774  bridge    virbr0</p>&#13;
			<p id="_idParaDest-217" class="Heading-1-1" lang="en-US" xml:lang="en-US"><span class="Heading11Marker">23.3 </span><a id="_idTextAnchor289"/><a id="_idTextAnchor290"/>Declaring the KVM Bridged Network</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">At this point, the bridge connection is present on the system but is not visible to the KVM environment. Running the <span class="My-Italic _idGenCharOverride-1">virsh</span> command should still list the default network as being the only available network option:</p>&#13;
			<p class="Code"># virsh net-list --all</p>&#13;
			<p class="Code"> Name                 State      Autostart     Persistent</p>&#13;
			<p class="Code">----------------------------------------------------------</p>&#13;
			<p class="Code"> default              active     yes           yes</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Before the bridge can be used by a virtual machine it must be declared and added to the KVM network configuration. This involves the creation of a definition file and, once again, the use of the <span class="My-Italic _idGenCharOverride-1">virsh</span> command-line tool.</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Begin by creating a definition file for the bridge network named <span class="My-Italic _idGenCharOverride-1">bridge.xml</span> that reads as follows:</p>&#13;
			<p class="Code">&lt;network&gt;</p>&#13;
			<p class="Code">  &lt;name&gt;br0&lt;/name&gt;</p>&#13;
			<p class="Code">  &lt;forward mode="bridge"/&gt;</p>&#13;
			<p class="Code">  &lt;bridge name="br0" /&gt;</p>&#13;
			<p class="Code">&lt;/network&gt;</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Next, use the file to define the new network:</p>&#13;
			<p class="Code"># virsh net-define ./bridge.xml</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Once the network has been defined, start it and, if required, configure it to autostart each time the system reboots:</p>&#13;
			<p class="Code"># virsh net-start br0</p>&#13;
			<p class="Code"># virsh net-autostart br0</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Once again list the networks to verify that the bridge network is now accessible within the KVM environment:</p>&#13;
			<p class="Code"># virsh net-list --all</p>&#13;
			<p class="Code"> Name                 State      Autostart     Persistent</p>&#13;
			<p class="Code">----------------------------------------------------------</p>&#13;
			<p class="Code"> br0                  active     yes           yes</p>&#13;
			<p class="Code"> default              active     yes           yes</p>&#13;
			<p id="_idParaDest-218" class="Heading-1-1" lang="en-US" xml:lang="en-US"><span class="Heading11Marker">23.4 </span><a id="_idTextAnchor291"/>Using a Bridge Network in a Virtual Machine</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">To create a virtual machine that makes use of the bridge network, use the <span class="My-Italic _idGenCharOverride-1">virt-install</span> --network option and specify the br0 bridge name. For example:</p>&#13;
			<p class="Code"># virt-install --name MyFedora --memory 1024 --disk path=/tmp/myFedora.img,size=10 <span class="My-Bold _idGenCharOverride-2">--network network=br0 </span>--os-variant fedora29 --cdrom /home/demo/Downloads/Fedora-Server-dvd-x86_64-29-1.2.iso </p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">When the guest operating system is running it will appear on the same physical network as the host system and will no longer be on the NAT-based virtual network.</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">To modify an existing virtual machine so that it uses the bridge, use the <span class="My-Italic _idGenCharOverride-1">virsh edit</span> command. This command loads the XML definition file into an editor where changes can be made and saved: </p>&#13;
			<p class="Code"># virsh edit GuestName</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">By default, the file will be loaded into the vi editor. To use a different editor, simply change the $EDITOR environment variable, for example:</p>&#13;
			<p class="Code"># export EDITOR=gedit</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">To change from the default virtual network, locate the &lt;interface&gt; section of the file which will read as follows for a NAT based configuration:</p>&#13;
			<p class="Code">&lt;interface type='network'&gt;</p>&#13;
			<p class="Code">      &lt;mac address='&lt;your mac address here&gt;'/&gt;</p>&#13;
			<p class="Code">      &lt;source network='default'/&gt;</p>&#13;
			<p class="Code">      &lt;model type='virtio'/&gt;</p>&#13;
			<p class="Code">      &lt;address type='pci' domain='0x0000' bus='0x01' slot='0x00' function='0x0'/&gt;</p>&#13;
			<p class="Code">&lt;/interface&gt;</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Alternatively, if the virtual machine was using a direct connection, the entry may read as follows:</p>&#13;
			<p class="Code">&lt;interface type='direct'&gt;</p>&#13;
			<p class="Code">      &lt;mac address='&lt;your mac address here&gt;'/&gt;</p>&#13;
			<p class="Code">      &lt;source dev='eno1' mode='vepa'/&gt;</p>&#13;
			<p class="Code">      &lt;model type='virtio'/&gt;</p>&#13;
			<p class="Code">      &lt;address type='pci' domain='0x0000' bus='0x01' slot='0x00' function='0x0'/&gt;</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">To  use the bridge, change the source network property to read as follows before saving the file:</p>&#13;
			<p class="Code">&lt;interface type='<span class="My-Bold _idGenCharOverride-2">network</span>'&gt;</p>&#13;
			<p class="Code">      &lt;mac address='&lt;your mac address here&gt;'/&gt;</p>&#13;
			<p class="Code">      <span class="My-Bold _idGenCharOverride-2">&lt;source network='br0'/&gt;</span></p>&#13;
			<p class="Code">      &lt;model type='virtio'/&gt;</p>&#13;
			<p class="Code">      &lt;address type='pci' domain='0x0000' bus='0x01' slot='0x00' function='0x0'/&gt;</p>&#13;
			<p class="Code">&lt;/interface&gt;</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">If the virtual machine is already running, the change will not take effect until it is restarted.</p>&#13;
			<p id="_idParaDest-219" class="Heading-1-1" lang="en-US" xml:lang="en-US"><span class="Heading11Marker">23.5 </span><a id="_idTextAnchor292"/>Creating a Bridge Network using nm-connection-editor</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">If either local or remote desktop access is available on the host system, much of the bridge configuration process can be performed using the <a id="_idIndexMarker496"/><a id="_idIndexMarker497"/><span class="My-Italic _idGenCharOverride-1">nm-connection-editor </span>graphical tool. To use this tool, open a Terminal window within the desktop and enter the following command:</p>&#13;
			<p class="Code"># nm-connection-editor</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">When the tool has loaded, the window shown in <a href="../Text/KVM_Network_Bridge.xhtml#_idTextAnchor293">Figure 23-1</a> will appear listing the currently configured network connections (essentially the same output as that generated by the <span class="My-Italic _idGenCharOverride-1">nmcli con show</span> command):</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1" lang="en-US" xml:lang="en-US"><img class="_idGenObjectAttribute-1" src="Images/rhel_8_nm_connection_editor_home.png" alt="" width="600" height="437"/></p>&#13;
			<p class="Figure-Caption" lang="en-US" xml:lang="en-US"><span class="FigureCaptionMarker">Figure 23-1</span><a id="_idTextAnchor293"/></p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">To create a new connection, click on the ‘+’ button located in the bottom left-hand corner of the window. From the resulting dialog (<a href="../Text/KVM_Network_Bridge.xhtml#_idTextAnchor294">Figure 23-2</a>) select the Bridge option from the menu:</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1" lang="en-US" xml:lang="en-US"><img class="_idGenObjectAttribute-2" src="Images/rhel_8_connection_editor_new_bridge.png" alt="" width="560" height="319"/></p>&#13;
			<p class="Figure-Caption" lang="en-US" xml:lang="en-US"><span class="FigureCaptionMarker">Figure 23-2</span><a id="_idTextAnchor294"/></p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">With the bridge option selected, click on the <span class="My-Italic _idGenCharOverride-1">Create...</span> button to proceed to the bridge configuration screen. Begin by changing both the connection and interface name fields to br0 before clicking on the <span class="My-Italic _idGenCharOverride-1">Add </span>button located to the right of the Bridge connections list as highlighted in <a href="../Text/KVM_Network_Bridge.xhtml#_idTextAnchor295">Figure 23-3</a>:</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1" lang="en-US" xml:lang="en-US"><img class="_idGenObjectAttribute-3" src="Images/rhel_8_nm_connection_editor_bridge_config.png" alt="" width="588" height="742"/></p>&#13;
			<p class="Figure-Caption" lang="en-US" xml:lang="en-US"><span class="FigureCaptionMarker">Figure 23-3</span><a id="_idTextAnchor295"/></p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">From the connection type dialog (<a href="../Text/KVM_Network_Bridge.xhtml#_idTextAnchor296">Figure 23-4</a>) change the menu setting to <span class="My-Italic _idGenCharOverride-1">Ethernet</span> before clicking on the <span class="My-Italic _idGenCharOverride-1">Create... </span>button:</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1" lang="en-US" xml:lang="en-US"><img class="_idGenObjectAttribute-4" src="Images/rhel_8_nm_connection_manager_bridge_type.png" alt="" width="560" height="316"/></p>&#13;
			<p class="Figure-Caption" lang="en-US" xml:lang="en-US"><span class="FigureCaptionMarker">Figure 23-4</span><a id="_idTextAnchor296"/></p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Another dialog will now appear in which the bridge slave connection needs to be configured. Within this dialog, select the physical network to which the bridge is to connect (for example <span class="My-Italic _idGenCharOverride-1">eno1</span>) from the Device menu:</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1" lang="en-US" xml:lang="en-US"><img class="_idGenObjectAttribute-5" src="Images/rhel_8_nm_connection_editor_slave_device.png" alt="" width="613" height="582"/></p>&#13;
			<p class="Figure-Caption" lang="en-US" xml:lang="en-US"><span class="FigureCaptionMarker">Figure 23-5</span></p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Click on the <span class="My-Italic _idGenCharOverride-1">Save</span> button to apply the changes and return to the <span class="My-Italic _idGenCharOverride-1">Editing br0</span> dialog (as illustrated in <a href="../Text/KVM_Network_Bridge.xhtml#_idTextAnchor295">Figure 23-3</a> above). Within this dialog, click on the <span class="My-Italic _idGenCharOverride-1">Save</span> button to create the bridge. On returning to the main window, the new bridge and slave connections should now be listed:</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1" lang="en-US" xml:lang="en-US"><img class="_idGenObjectAttribute-6" src="Images/rhel_8_nm_connection_editor_bridge_listed.png" alt="" width="600" height="437"/></p>&#13;
			<p class="Figure-Caption" lang="en-US" xml:lang="en-US"><span class="FigureCaptionMarker">Figure 23-6</span></p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">All that remains is to bring down the original eno1 connection and bring up the br0 connection using the steps outlined in the previous chapter (remembering to perform these steps in a shell script if the host is being accessed remotely):</p>&#13;
			<p class="Code"># nmcli con down eno1</p>&#13;
			<p class="Code"># nmcli con up br0</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">It will also be necessary, as it was when creating the bridge using the command-line tool, to add this bridge to the KVM network configuration. To do so, simply repeat the steps outlined in the section above entitled <a href="../Text/KVM_Network_Bridge.xhtml#_idTextAnchor290"><span class="My-Italic _idGenCharOverride-1">“Declaring the KVM Bridged Network”</span></a>. Once this step has been taken, the bridge is ready to be used by guest virtual machines.</p>&#13;
			<p id="_idParaDest-220" class="Heading-1-1" lang="en-US" xml:lang="en-US"><span class="Heading11Marker">23.6 </span><a id="_idTextAnchor297"/>Summary</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">By default, KVM virtual machines are connected to a virtual network that uses NAT to provide access to the network to which the host system is connected. If the guests are required to appear on the network with their own IP addresses, the guests need to be configured to share the physical network interface of the host system. As outlined in this chapter, this can be achieved using either the <span class="My-Italic _idGenCharOverride-1">nmcli</span> or <span class="My-Italic _idGenCharOverride-1">nm-connection-editor</span> tools to create a networked bridge interface<span class="My-Italic _idGenCharOverride-1">.</span></p>&#13;
		</div>&#13;
</div>



  </body></html>