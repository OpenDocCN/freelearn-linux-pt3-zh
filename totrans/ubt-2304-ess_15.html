<html><head></head><body>
<div class="_idGenObjectStyleOverride-1" id="_idContainer231">
<p class="Chapter-Title" id="_idParaDest-141" lang="en-US"><span class="ChapterMarker"><span class="koboSpan" id="kobo.1.1">16. </span></span><a id="_idTextAnchor256"/><a id="_idTextAnchor257"/><span class="koboSpan" id="kobo.2.1">Basic Ubuntu Firewall Configuration with firewalld</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.3.1">All Linux distributions are provided with a firewall solution of some form. </span><span class="koboSpan" id="kobo.3.2">In the case of Ubuntu  this takes the form of the Uncomplicated Firewall outlined in the previous chapter. </span><span class="koboSpan" id="kobo.3.3">This chapter will introduce a more advanced firewall solution available for Ubuntu in the form of firewalld.</span></p>
<p class="Heading-1-1" id="_idParaDest-142" lang="en-US"><span class="Heading11Marker"><span class="koboSpan" id="kobo.4.1">16.1 </span></span><a id="_idTextAnchor258"/><a id="_idTextAnchor259"/><span class="koboSpan" id="kobo.5.1">An Introduction to </span><a id="_idIndexMarker364"/><a id="_idIndexMarker365"/><span class="koboSpan" id="kobo.6.1">firewalld</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.7.1">Originally developed for Red Hat-based Linux distributions, the firewalld service uses a set of rules to control incoming network traffic and define which traffic is to be blocked and which is to be allowed to pass through to the system and is built on top of a more complex firewall tool named </span><a id="_idIndexMarker366"/><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.8.1">iptables</span></span><span class="koboSpan" id="kobo.9.1">. </span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.10.1">The firewalld system provides a flexible way to manage incoming traffic. </span><span class="koboSpan" id="kobo.10.2">The firewall could, for example, be configured to block traffic arriving from a specific external IP address or to prevent all traffic arriving on a particular TCP/IP port. </span><span class="koboSpan" id="kobo.10.3">Rules may also be defined to forward incoming traffic to different systems or to act as an internet gateway to protect other computers on a network.</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.11.1">In keeping with common security practices, a default firewalld installation is configured to block all access with the exception of SSH remote login and the DHCP service used by the system to obtain a dynamic IP address (both of which are essential if the system administrator is to be able to gain access to the system after completing the installation).</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.12.1">The key elements of firewall configuration on Ubuntu are </span><a id="_idIndexMarker367"/><a id="_idIndexMarker368"/><a id="_idIndexMarker369"/><a id="_idIndexMarker370"/><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.13.1">zones</span></span><span class="koboSpan" id="kobo.14.1">, </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.15.1">interfaces</span></span><span class="koboSpan" id="kobo.16.1">, </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.17.1">services,</span></span><span class="koboSpan" id="kobo.18.1"> and </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.19.1">ports</span></span><span class="koboSpan" id="kobo.20.1">.</span></p>
<p class="Heading-1-1-1" id="_idParaDest-143" lang="en-US"><span class="Heading111Marker"><span class="koboSpan" id="kobo.21.1">16.1.1 </span></span><a id="_idTextAnchor260"/><a id="_idIndexMarker371"/><span class="koboSpan" id="kobo.22.1">Zones</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.23.1">By default, firewalld is installed with a range of pre-configured </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.24.1">zones. </span></span><span class="koboSpan" id="kobo.25.1">A zone is a preconfigured set of rules which can be applied to the system at any time to quickly implement firewall configurations for specific scenarios. </span><span class="koboSpan" id="kobo.25.2">The </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.26.1">block</span></span><span class="koboSpan" id="kobo.27.1"> zone, for example, blocks all incoming traffic, while the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.28.1">home</span></span><span class="koboSpan" id="kobo.29.1"> zone imposes less strict rules on the assumption that the system is running in a safer environment where a greater level of trust is expected. </span><span class="koboSpan" id="kobo.29.2">New zones may be added to the system, and existing zones modified to add or remove rules. </span><span class="koboSpan" id="kobo.29.3">Zones may also be deleted entirely from the system. </span><a href="Ubuntu_Firewall_Configuration.xhtml#_idTextAnchor261"><span class="koboSpan" id="kobo.30.1">Table 16-1</span></a><span class="koboSpan" id="kobo.31.1"> lists the set of zones available by default on an Ubuntu system:</span></p>
<table class="Basic-Table TableOverride-1" id="table001-3">
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr class="Basic-Table">
<td class="Basic-Table">
<p class="My-Basic-Paragraph" lang="en-US"><span class="My-Bold _idGenCharOverride-1"><span class="koboSpan" id="kobo.32.1">Zone</span></span></p>
</td>
<td class="Basic-Table">
<p class="My-Basic-Paragraph" lang="en-US"><span class="My-Bold _idGenCharOverride-1"><span class="koboSpan" id="kobo.33.1">Description</span></span></p>
</td>
</tr>
</thead>
<tbody>
<tr class="Basic-Table _idGenTableRowColumn-1">
<td class="Basic-Table">
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.34.1">drop</span></p>
</td>
<td class="Basic-Table">
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.35.1">The most secure zone. </span><span class="koboSpan" id="kobo.35.2">Only outgoing connections are permitted and all incoming connections are dropped without any notification to the connecting client.</span></p>
</td>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table">
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.36.1">block</span></p>
</td>
<td class="Basic-Table">
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.37.1">Similar to the drop zone with the exception that incoming connections are rejected with an icmp-host-prohibited or icmp6-adm-prohibited notification.</span></p>
</td>
</tr>
<tr class="Basic-Table _idGenTableRowColumn-1">
<td class="Basic-Table">
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.38.1">public</span></p>
</td>
<td class="Basic-Table">
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.39.1">Intended for use when connected to public networks or the internet where other computers are not known to be trustworthy. </span><span class="koboSpan" id="kobo.39.2">Allows select incoming connections.</span></p>
</td>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table">
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.40.1">external</span></p>
</td>
<td class="Basic-Table">
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.41.1">When a system is acting as the internet gateway for a network of computers, the external zone is applied to the interface that is connected to the internet.</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.42.1">This zone is used in conjunction with the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.43.1">internal</span></span><span class="koboSpan" id="kobo.44.1"> zone when implementing masquerading or network address translation (NAT) as outlined later in this chapter. </span><span class="koboSpan" id="kobo.44.2">Allows select incoming connections</span></p>
</td>
</tr>
<tr class="Basic-Table _idGenTableRowColumn-1">
<td class="Basic-Table">
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.45.1">internal</span></p>
</td>
<td class="Basic-Table">
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.46.1">Used with the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.47.1">external</span></span><span class="koboSpan" id="kobo.48.1"> zone and applied to the interface that is connected to the internal network. </span><span class="koboSpan" id="kobo.48.2">Assumes that the computers on the internal network are trusted. </span><span class="koboSpan" id="kobo.48.3">Allows select incoming connections.</span></p>
</td>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table">
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.49.1">dmz</span></p>
</td>
<td class="Basic-Table">
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.50.1">For use when the system is running in the demilitarized zone (DMZ). </span><span class="koboSpan" id="kobo.50.2">These are generally computers that are publicly accessible but isolated from other parts of your internal network. </span><span class="koboSpan" id="kobo.50.3">Allows select incoming connections.</span></p>
</td>
</tr>
<tr class="Basic-Table _idGenTableRowColumn-1">
<td class="Basic-Table">
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.51.1">work</span></p>
</td>
<td class="Basic-Table">
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.52.1">For use when running a system on a network in a work environment where other computers are trusted. </span><span class="koboSpan" id="kobo.52.2">Allows select incoming connections.</span></p>
</td>
</tr>
<tr class="Basic-Table">
<td class="Basic-Table">
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.53.1">home</span></p>
</td>
<td class="Basic-Table">
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.54.1">For use when running a system on a home network where other computers are trusted. </span><span class="koboSpan" id="kobo.54.2">Allows select incoming connections.</span></p>
</td>
</tr>
<tr class="Basic-Table _idGenTableRowColumn-1">
<td class="Basic-Table">
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.55.1">trusted</span></p>
</td>
<td class="Basic-Table">
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.56.1">The least secure zone. </span><span class="koboSpan" id="kobo.56.2">All incoming connections are accepted.</span></p>
</td>
</tr>
</tbody>
</table>
<p class="Table-Caption" lang="en-US"><span class="TableCaptionMarker"><span class="koboSpan" id="kobo.57.1">Table 16-1</span></span><a id="_idTextAnchor261"/></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.58.1">To review specific settings for a zone, refer to the corresponding XML configuration file located on the system in the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.59.1">/usr/lib/firewalld/zones</span></span><span class="koboSpan" id="kobo.60.1"> directory. </span><span class="koboSpan" id="kobo.60.2">The following, for example, lists the content of the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.61.1">public.xml</span></span><span class="koboSpan" id="kobo.62.1"> zone configuration file:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.63.1">&lt;?xml version=”1.0” encoding=”utf-8”?&gt;</span></p>
<p class="Code"><span class="koboSpan" id="kobo.64.1">&lt;zone&gt;</span></p>
<p class="Code"><span class="koboSpan" id="kobo.65.1">  &lt;short&gt;Public&lt;/short&gt;</span></p>
<p class="Code"><span class="koboSpan" id="kobo.66.1">  &lt;description&gt;For use in public areas. </span><span class="koboSpan" id="kobo.66.2">You do not trust the other computers on networks to not harm your computer. </span><span class="koboSpan" id="kobo.66.3">Only selected incoming connections are accepted.&lt;/description&gt;</span></p>
<p class="Code"><span class="koboSpan" id="kobo.67.1">  &lt;service name=”ssh”/&gt;</span></p>
<p class="Code"><span class="koboSpan" id="kobo.68.1">  &lt;service name=”mdns”/&gt;</span></p>
<p class="Code"><span class="koboSpan" id="kobo.69.1">  &lt;service name=”dhcpv6-client”/&gt;</span></p>
<p class="Code"><span class="koboSpan" id="kobo.70.1">&lt;/zone&gt;</span></p>
<p class="Heading-1-1-1" id="_idParaDest-144" lang="en-US"><span class="Heading111Marker"><span class="koboSpan" id="kobo.71.1">16.1.2 </span></span><a id="_idTextAnchor262"/><a id="_idIndexMarker372"/><span class="koboSpan" id="kobo.72.1">Interfaces</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.73.1">Any Ubuntu system connected to the internet or a network (or both) will contain at least one </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.74.1">interface</span></span><span class="koboSpan" id="kobo.75.1"> in the form of either a physical or virtual network device. </span><span class="koboSpan" id="kobo.75.2">When firewalld is active, each of these interfaces is assigned to a zone allowing different levels of firewall security to be assigned to different interfaces. </span><span class="koboSpan" id="kobo.75.3">Consider a server containing two interfaces, one connected externally to the internet and the other to an internal network. </span><span class="koboSpan" id="kobo.75.4">In such a scenario, the external facing interface would most likely be assigned to the more restrictive </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.76.1">external</span></span><span class="koboSpan" id="kobo.77.1"> zone, while the internal interface might use the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.78.1">internal</span></span><span class="koboSpan" id="kobo.79.1"> zone.</span></p>
<p class="Heading-1-1-1" id="_idParaDest-145" lang="en-US"><span class="Heading111Marker"><span class="koboSpan" id="kobo.80.1">16.1.3 </span></span><a id="_idTextAnchor263"/><span class="koboSpan" id="kobo.81.1">Services</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.82.1">TCP/IP defines a set of services that communicate on standard ports. </span><span class="koboSpan" id="kobo.82.2">Secure HTTPS web connections, for example, use port 443, while the SMTP email service uses port 25. </span><span class="koboSpan" id="kobo.82.3">To selectively enable incoming traffic for specific services, firewalld rules can be added to zones. </span><span class="koboSpan" id="kobo.82.4">The </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.83.1">home</span></span><span class="koboSpan" id="kobo.84.1"> zone, for example, does not permit incoming HTTPS connections by default. </span><span class="koboSpan" id="kobo.84.2">This traffic can be enabled by adding rules to a zone to allow incoming HTTPS connections without having to reference the specific port number.</span></p>
<p class="Heading-1-1-1" id="_idParaDest-146" lang="en-US"><span class="Heading111Marker"><span class="koboSpan" id="kobo.85.1">16.1.4 </span></span><a id="_idTextAnchor264"/><a id="_idIndexMarker373"/><a id="_idIndexMarker374"/><span class="koboSpan" id="kobo.86.1">Ports</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.87.1">Although common TCP/IP services can be referenced when adding firewalld rules, situations will arise where incoming connections need to be allowed on a specific port that is not allocated to a service. </span><span class="koboSpan" id="kobo.87.2">This can be achieved by adding rules that reference specific ports instead of services. </span></p>
<p class="Heading-1-1" id="_idParaDest-147" lang="en-US"><span class="Heading11Marker"><span class="koboSpan" id="kobo.88.1">16.2 </span></span><a id="_idTextAnchor265"/><span class="koboSpan" id="kobo.89.1">Checking </span><a id="_idIndexMarker375"/><span class="koboSpan" id="kobo.90.1">firewalld Status </span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.91.1">The firewalld service is not usually installed and enabled by default on all Ubuntu installations. </span><span class="koboSpan" id="kobo.91.2">The status of the service can be checked via the following command:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.92.1"># systemctl status firewalld</span></p>
<p class="Code"><span class="koboSpan" id="kobo.93.1">● firewalld.service - firewalld - dynamic firewall daemon</span></p>
<p class="Code"><span class="koboSpan" id="kobo.94.1">     Loaded: loaded (/lib/systemd/system/firewalld.service; enabled; vendor preset: enabled)</span></p>
<p class="Code"><span class="koboSpan" id="kobo.95.1">     Active: active (running) since Mon 2023-07-17 19:21:53 UTC; 16s ago</span></p>
<p class="Code"><span class="koboSpan" id="kobo.96.1">       Docs: man:firewalld(1)</span></p>
<p class="Code"><span class="koboSpan" id="kobo.97.1">   Main PID: 27151 (firewalld)</span></p>
<p class="Code"><span class="koboSpan" id="kobo.98.1">      Tasks: 2 (limit: 4517)</span></p>
<p class="Code"><span class="koboSpan" id="kobo.99.1">     Memory: 24.0M</span></p>
<p class="Code"><span class="koboSpan" id="kobo.100.1">        CPU: 244ms</span></p>
<p class="Code"><span class="koboSpan" id="kobo.101.1">     CGroup: /system.slice/firewalld.service</span></p>
<p class="Code"><span class="koboSpan" id="kobo.102.1">             └─27151 /usr/bin/python3 /usr/sbin/firewalld --nofork --nopid</span></p>
<p class="Code"><span class="koboSpan" id="kobo.103.1">Jul 17 19:21:53 demoserver systemd[1]: Starting firewalld - dynamic firewall daemon...</span></p>
<p class="Code"><span class="koboSpan" id="kobo.104.1">Jul 17 19:21:53 demoserver systemd[1]: Started firewalld - dynamic firewall daemon.</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.105.1">If necessary, the firewalld service may be installed as follows:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.106.1"># apt install firewalld</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.107.1">The firewalld service is enabled by default, so it will start automatically both after installation is complete and each time the system boots.</span></p>
<p class="Heading-1-1" id="_idParaDest-148" lang="en-US"><span class="Heading11Marker"><span class="koboSpan" id="kobo.108.1">16.3 </span></span><a id="_idTextAnchor266"/><span class="koboSpan" id="kobo.109.1">Configuring Firewall Rules with </span><a id="_idIndexMarker377"/><a id="_idIndexMarker378"/><span class="koboSpan" id="kobo.110.1">firewall-cmd</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.111.1">The </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.112.1">firewall-cmd</span></span><span class="koboSpan" id="kobo.113.1"> command-line utility allows information about the firewalld configuration to be viewed and changes to be made to zones and rules from within a terminal window. </span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.114.1">When making changes to the </span><a id="_idIndexMarker379"/><a id="_idIndexMarker380"/><span class="koboSpan" id="kobo.115.1">firewall settings, it is important to be aware of the concepts of </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.116.1">runtim</span></span><span class="koboSpan" id="kobo.117.1">e and </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.118.1">permanent</span></span><span class="koboSpan" id="kobo.119.1"> configurations. </span><span class="koboSpan" id="kobo.119.2">By default, any rule changes are considered to be runtime configuration changes. </span><span class="koboSpan" id="kobo.119.3">This means that while the changes will take effect immediately, they will be lost next time the system restarts or the firewalld service reloads, for example, by issuing the following command:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.120.1"># </span><a id="_idIndexMarker381"/><span class="koboSpan" id="kobo.121.1">firewall-cmd --reload</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.122.1">To make a change permanent, the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.123.1">--permanent</span></span><span class="koboSpan" id="kobo.124.1"> command-line option must be used. </span><span class="koboSpan" id="kobo.124.2">Permanent changes do not take effect until the firewalld service reloads but will remain in place until manually changed.</span></p>
<p class="Heading-1-1-1" id="_idParaDest-149" lang="en-US"><span class="Heading111Marker"><span class="koboSpan" id="kobo.125.1">16.3.1 </span></span><a id="_idTextAnchor267"/><span class="koboSpan" id="kobo.126.1">Identifying and Changing the Default Zone</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><a id="_idIndexMarker382"/><a id="_idIndexMarker383"/><span class="koboSpan" id="kobo.127.1">To identify the default zone (in other words, the zone to which all interfaces will be assigned unless a different zone is specifically selected), use the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.128.1">firewall-cmd</span></span><span class="koboSpan" id="kobo.129.1"> tool as follows:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.130.1"># firewall-cmd --get-default-zone</span></p>
<p class="Code"><span class="koboSpan" id="kobo.131.1">public</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.132.1">To change the default to a different zone:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.133.1"># firewall-cmd --set-default-zone=home</span></p>
<p class="Code"><span class="koboSpan" id="kobo.134.1">success</span></p>
<p class="Heading-1-1-1" id="_idParaDest-150" lang="en-US"><span class="Heading111Marker"><span class="koboSpan" id="kobo.135.1">16.3.2 </span></span><a id="_idTextAnchor268"/><span class="koboSpan" id="kobo.136.1">Displaying Zone Information</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><a id="_idIndexMarker384"/><a id="_idIndexMarker385"/><span class="koboSpan" id="kobo.137.1">To list all of the zones available on the system:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.138.1"># firewall-cmd --get-zones</span></p>
<p class="Code"><span class="koboSpan" id="kobo.139.1">block dmz drop external home internal public trusted work</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.140.1">Obtain a list of zones currently active together with the interfaces to which they are assigned as follows:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.141.1"># firewall-cmd --get-active-zones</span></p>
<p class="Code"><span class="koboSpan" id="kobo.142.1">external</span></p>
<p class="Code"><span class="koboSpan" id="kobo.143.1">  interfaces: eth0</span></p>
<p class="Code"><span class="koboSpan" id="kobo.144.1">internal</span></p>
<p class="Code"><span class="koboSpan" id="kobo.145.1"> interfaces: eth1</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.146.1">All of the rules currently configured for a specific zone may be listed as follows:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.147.1"># firewall-cmd --zone=home --list-all</span></p>
<p class="Code"><span class="koboSpan" id="kobo.148.1">home (active)</span></p>
<p class="Code"><span class="koboSpan" id="kobo.149.1">  target: default</span></p>
<p class="Code"><span class="koboSpan" id="kobo.150.1">  icmp-block-inversion: no</span></p>
<p class="Code"><span class="koboSpan" id="kobo.151.1">  interfaces: eth0</span></p>
<p class="Code"><span class="koboSpan" id="kobo.152.1">  sources: </span></p>
<p class="Code"><span class="koboSpan" id="kobo.153.1">  services: cockpit dhcpv6-client http mdns samba-client ssh</span></p>
<p class="Code"><span class="koboSpan" id="kobo.154.1">  ports: </span></p>
<p class="Code"><span class="koboSpan" id="kobo.155.1">  protocols: </span></p>
<p class="Code"><span class="koboSpan" id="kobo.156.1">  masquerade: no</span></p>
<p class="Code"><span class="koboSpan" id="kobo.157.1">  forward-ports: </span></p>
<p class="Code"><span class="koboSpan" id="kobo.158.1">  source-ports: </span></p>
<p class="Code"><span class="koboSpan" id="kobo.159.1">  icmp-blocks: </span></p>
<p class="Code"><span class="koboSpan" id="kobo.160.1">  rich rules: </span></p>
<p class="My-Basic-Paragraph" lang="en-US"><a id="_idIndexMarker386"/><a id="_idIndexMarker387"/><span class="koboSpan" id="kobo.161.1">Use the following command to list the services currently available for inclusion in a firewalld rule:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.162.1"># firewall-cmd --get-services</span></p>
<p class="Code"><span class="koboSpan" id="kobo.163.1">RH-Satellite-6 amanda-client amanda-k5-client amqp amqps apcupsd audit bacula bacula-client bgp bitcoin bitcoin-rpc bitcoin-testnet bitcoin-testnet-rpc ceph ceph-mon cfengine cockpit ...</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.164.1">To list the services currently enabled for a zone:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.165.1"># firewall-cmd --zone=public --list-services</span></p>
<p class="Code"><span class="koboSpan" id="kobo.166.1">cockpit dhcpv6-client ssh</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><a id="_idIndexMarker388"/><a id="_idIndexMarker389"/><span class="koboSpan" id="kobo.167.1">A list of port rules can be obtained as follows:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.168.1"># firewall-cmd --zone=public --list-ports</span></p>
<p class="Code"><span class="koboSpan" id="kobo.169.1">9090/tcp</span></p>
<p class="Heading-1-1-1" id="_idParaDest-151" lang="en-US"><span class="Heading111Marker"><span class="koboSpan" id="kobo.170.1">16.3.3 </span></span><a id="_idTextAnchor269"/><span class="koboSpan" id="kobo.171.1">Adding and Removing Zone Services</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><a id="_idIndexMarker390"/><a id="_idIndexMarker391"/><span class="koboSpan" id="kobo.172.1">To add a service to a zone, in this case adding HTTPS to the public zone, the following command would be used:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.173.1"># firewall-cmd --zone=public --add-service=https</span></p>
<p class="Code"><span class="koboSpan" id="kobo.174.1">success</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.175.1">By default, this is a </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.176.1">runtime</span></span><span class="koboSpan" id="kobo.177.1"> change, so the added rule will be lost after a system reboot. </span><span class="koboSpan" id="kobo.177.2">To add a service permanently so that it remains in effect next time the system restarts, use the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.178.1">--permanent</span></span><span class="koboSpan" id="kobo.179.1"> flag:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.180.1"># firewall-cmd --zone=public --permanent --add-service=https</span></p>
<p class="Code"><span class="koboSpan" id="kobo.181.1">success</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.182.1">To verify that a service has been added permanently, be sure to include the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.183.1">--permanent</span></span><span class="koboSpan" id="kobo.184.1"> flag when requesting the service list:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.185.1"># firewall-cmd --zone=public --permanent --list-services</span></p>
<p class="Code"><span class="koboSpan" id="kobo.186.1">cockpit dhcpv6-client http https ssh</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.187.1">Note that as a permanent change, this new rule will not take effect until the system restarts or firewalld reloads:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.188.1"># firewall-cmd --reload </span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.189.1">Remove a service from a zone using the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.190.1">--remove-service</span></span><span class="koboSpan" id="kobo.191.1"> option. </span><span class="koboSpan" id="kobo.191.2">Since this is a runtime change, the rule will be re-instated the next time the system restarts:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.192.1"># firewall-cmd --zone=public --remove-service=https</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.193.1">To remove a service permanently, use the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.194.1">--permanent</span></span><span class="koboSpan" id="kobo.195.1"> flag, remembering to reload firewalld if the change is required to take immediate effect:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.196.1"># firewall-cmd --zone=public --permanent --remove-service=https</span></p>
<p class="Heading-1-1-1" id="_idParaDest-152" lang="en-US"><span class="Heading111Marker"><span class="koboSpan" id="kobo.197.1">16.3.4 </span></span><a id="_idTextAnchor270"/><a id="_idIndexMarker392"/><a id="_idIndexMarker393"/><span class="koboSpan" id="kobo.198.1">Working with Port-based Rules</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.199.1">To enable a specific port, use the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.200.1">--add-port</span></span><span class="koboSpan" id="kobo.201.1"> option. </span><span class="koboSpan" id="kobo.201.2">Note that when manually defining the port, both the port number and protocol (TCP or UDP) will need to be provided:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.202.1"># firewall-cmd --zone=public --permanent --add-port=5000/tcp</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.203.1">It is also possible to specify a range of ports when adding a rule to a zone:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.204.1"># firewall-cmd --zone=public --permanent --add-port=5900-5999/udp</span></p>
<p class="Heading-1-1-1" id="_idParaDest-153" lang="en-US"><span class="Heading111Marker"><span class="koboSpan" id="kobo.205.1">16.3.5 </span></span><a id="_idTextAnchor271"/><a id="_idIndexMarker394"/><a id="_idIndexMarker395"/><span class="koboSpan" id="kobo.206.1">Creating a New Zone</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.207.1">An entirely new zone may be created by running the following command. </span><span class="koboSpan" id="kobo.207.2">Once created, the zone may be managed in the same way as any of the predefined zones:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.208.1"># firewall-cmd --permanent --new-zone=myoffice</span></p>
<p class="Code"><span class="koboSpan" id="kobo.209.1">success</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.210.1">After adding a new zone, firewalld will need to be restarted before the zone becomes available:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.211.1"># firewall-cmd --reload</span></p>
<p class="Code"><span class="koboSpan" id="kobo.212.1">success</span></p>
<p class="Heading-1-1-1" id="_idParaDest-154" lang="en-US"><span class="Heading111Marker"><span class="koboSpan" id="kobo.213.1">16.3.6 </span></span><a id="_idTextAnchor272"/><span class="koboSpan" id="kobo.214.1">Changing Zone/Interface Assignments</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><a id="_idIndexMarker396"/><a id="_idIndexMarker397"/><span class="koboSpan" id="kobo.215.1">As previously discussed, each interface on the system must be assigned to a zone. </span><span class="koboSpan" id="kobo.215.2">The zone to which an interface is assigned can also be changed using the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.216.1">firewall-cmd</span></span><span class="koboSpan" id="kobo.217.1"> tool. </span><span class="koboSpan" id="kobo.217.2">In the following example, the eth0 interface is assigned to the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.218.1">public</span></span><span class="koboSpan" id="kobo.219.1"> zone:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.220.1"># firewall-cmd --zone=public --change-interface=eth0</span></p>
<p class="Code"><span class="koboSpan" id="kobo.221.1">success</span></p>
<p class="Heading-1-1-1" id="_idParaDest-155" lang="en-US"><span class="Heading111Marker"><span class="koboSpan" id="kobo.222.1">16.3.7 </span></span><a id="_idTextAnchor273"/><span class="koboSpan" id="kobo.223.1">Masquerading </span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.224.1">Masquerading is better known in networking administration circles as Network Address Translation (NAT). </span><span class="koboSpan" id="kobo.224.2">When using an Ubuntu system as a gateway to the internet for a network of computers, masquerading allows all of the internal systems to use the IP address of that Ubuntu system when communicating over the internet. </span><span class="koboSpan" id="kobo.224.3">This has the advantage of hiding the internal IP addresses of any systems from malicious external entities and also avoids the necessity to allocate a public IP address to every computer on the network. </span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.225.1">Use the following command to check whether masquerading is already enabled on the firewall:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.226.1"># firewall-cmd --zone=external --query-masquerade</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.227.1">Use the following command to enable masquerading (remembering to use the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.228.1">--permanent</span></span><span class="koboSpan" id="kobo.229.1"> flag if the change is to be permanent):</span></p>
<p class="Code"><span class="koboSpan" id="kobo.230.1"># firewall-cmd --zone=external --add-masquerade</span></p>
<p class="Heading-1-1-1" id="_idParaDest-156" lang="en-US"><span class="Heading111Marker"><span class="koboSpan" id="kobo.231.1">16.3.8 </span></span><a id="_idTextAnchor274"/><span class="koboSpan" id="kobo.232.1">Adding ICMP Rules</span><a id="_idIndexMarker398"/></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.233.1">The Internet Control Message Protocol (ICMP) is used by client systems on networks to send information such as error messages to each other. </span><span class="koboSpan" id="kobo.233.2">It is also the foundation of the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.234.1">ping</span></span><span class="koboSpan" id="kobo.235.1"> command, which network administrators and users alike use to detect whether a particular client is alive on a network. </span><span class="koboSpan" id="kobo.235.2">The ICMP category allows for the blocking of specific ICMP message types. </span><span class="koboSpan" id="kobo.235.3">For example, an administrator might choose to block incoming ping (Echo Request) ICMP messages to prevent the possibility of a ping-based denial of service (DoS) attack (where a server is maliciously bombarded with so many ping messages that it becomes unable to respond to legitimate requests). </span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.236.1">To view the ICMP types available for inclusion in firewalld rules, run the following command:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.237.1"># firewall-cmd --get-icmptypes</span></p>
<p class="Code"><span class="koboSpan" id="kobo.238.1">address-unreachable bad-header beyond-scope communication-prohibited destination-unreachable echo-reply ...</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.239.1">The following command, for example, permanently adds a rule to block echo-reply (ping request) messages for the public zone:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.240.1"># firewall-cmd --zone=public --permanent --add-icmp-block=echo-reply</span></p>
<p class="Heading-1-1-1" id="_idParaDest-157" lang="en-US"><span class="Heading111Marker"><span class="koboSpan" id="kobo.241.1">16.3.9 </span></span><a id="_idTextAnchor275"/><span class="koboSpan" id="kobo.242.1">Implementing </span><a id="_idIndexMarker399"/><a id="_idIndexMarker400"/><span class="koboSpan" id="kobo.243.1">Port Forwarding</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.244.1">Port forwarding is used in conjunction with masquerading when the Ubuntu system acts as a gateway to the internet for an internal network of computer systems. </span><span class="koboSpan" id="kobo.244.2">Port forwarding allows traffic arriving at the firewall via the internet on a specific port to be forwarded to a particular system on the internal network. </span><span class="koboSpan" id="kobo.244.3">This is perhaps best described by way of an example. </span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.245.1">Suppose that an Ubuntu system is acting as the firewall for an internal network of computers and one of the systems on the network is configured as a web server. </span><span class="koboSpan" id="kobo.245.2">Let’s assume the web server system has an IP address of 192.168.2.20. </span><span class="koboSpan" id="kobo.245.3">The domain record for the web site hosted on this system is configured with the public IP address behind which the Ubuntu firewall system sits. </span><span class="koboSpan" id="kobo.245.4">When an HTTP web page request arrives on port 80 the Ubuntu system acting as the firewall needs to know what to do with it. </span><span class="koboSpan" id="kobo.245.5">By configuring port forwarding it is possible to direct all web traffic to the internal system hosting the web server (in this case, IP address 192.168.2.20), either continuing to use port 80 or diverting the traffic to a different port on the destination server. </span><span class="koboSpan" id="kobo.245.6">In fact, port forwarding can even be configured to forward the traffic to a different port on the same system as the firewall (a concept known as local forwarding). </span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.246.1">To use port forwarding, begin by enabling masquerading as follows (in this case the assumption is made that the interface connected to the internet has been assigned to the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.247.1">external</span></span><span class="koboSpan" id="kobo.248.1"> zone):</span></p>
<p class="Code"><span class="koboSpan" id="kobo.249.1"># firewall-cmd --zone=external --add-masquerade</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.250.1">To forward from a port to a different local port, a command similar to the following would be used:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.251.1"># firewall-cmd --zone=external --add-forward-port=port=22:proto=tcp:toport=2750</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.252.1">In the above example, any TCP traffic arriving on port 22 will be forwarded to port 2750 on the local system. </span><span class="koboSpan" id="kobo.252.2">The following command, on the other hand, forwards port 20 on the local system to port 22 on the system with the IP address of 192.168.0.19:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.253.1"># firewall-cmd --zone=external \</span></p>
<p class="Code"><span class="koboSpan" id="kobo.254.1">          --add-forward-port=port=20:proto=tcp:toport=22:toaddr=192.168.0.19</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.255.1">Similarly, the following command forwards local port 20 to port 2750 on the system with IP address 192.168.0.18:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.256.1"># firewall-cmd --zone=external --add-forward-port=port=20:proto=tcp:toport=2750:toaddr=192.168.0.18</span></p>
<p class="Heading-1-1" id="_idParaDest-158" lang="en-US"><span class="Heading11Marker"><span class="koboSpan" id="kobo.257.1">16.4 </span></span><a id="_idTextAnchor276"/><a id="_idTextAnchor278"/><span class="koboSpan" id="kobo.258.1">Managing firewalld using </span><a id="_idIndexMarker402"/><a id="_idIndexMarker403"/><span class="koboSpan" id="kobo.259.1">firewall-config</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.260.1">If you have access to the graphical desktop environment, the firewall may also be configured using the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.261.1">firewall-config</span></span><span class="koboSpan" id="kobo.262.1"> tool. </span><span class="koboSpan" id="kobo.262.2">Though not installed by default, </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.263.1">firewall-config</span></span><span class="koboSpan" id="kobo.264.1"> may be installed as follows:</span></p>
<p class="Code"><span class="koboSpan" id="kobo.265.1"># apt install firewall-config</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.266.1">When launched, the main </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.267.1">firewall-config</span></span><span class="koboSpan" id="kobo.268.1"> screen appears as illustrated in </span><a href="Ubuntu_Firewall_Configuration.xhtml#_idTextAnchor279"><span class="koboSpan" id="kobo.269.1">Figure 16-1</span></a><span class="koboSpan" id="kobo.270.1">:</span></p>
<p class="Centered-Image" lang="en-US"><span class="koboSpan" id="kobo.271.1"><img alt="" class="_idGenObjectAttribute-1" src="image/ubuntu_firewall-config.jpg"/></span></p>
<p class="Figure-Caption" lang="en-US"><span class="FigureCaptionMarker"><span class="koboSpan" id="kobo.272.1">Figure 16-1</span></span><a id="_idTextAnchor279"/></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.273.1">The key areas of the tool can be summarized as follows:</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="My-Bold _idGenCharOverride-1"><span class="koboSpan" id="kobo.274.1">A</span></span><span class="koboSpan" id="kobo.275.1"> - Displays all of the currently active interfaces and the zones to which they are assigned. </span><span class="koboSpan" id="kobo.275.2">To assign an interface to a different zone, select it from this panel, click on the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.276.1">Change Zone</span></span><span class="koboSpan" id="kobo.277.1"> button and select the required zone from the resulting dialog.</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="My-Bold _idGenCharOverride-1"><span class="koboSpan" id="kobo.278.1">B</span></span><span class="koboSpan" id="kobo.279.1"> - Controls whether the information displayed and any changes made within the tool apply to the runtime or permanent rules.</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="My-Bold _idGenCharOverride-1"><span class="koboSpan" id="kobo.280.1">C</span></span><span class="koboSpan" id="kobo.281.1"> - The list of zones, services or IPSets configured on the system. </span><span class="koboSpan" id="kobo.281.2">The information listed in this panel depends on the selection made from toolbar F. </span><span class="koboSpan" id="kobo.281.3">Selecting an item from the list in this panel updates the main panel marked D.</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="My-Bold _idGenCharOverride-1"><span class="koboSpan" id="kobo.282.1">D</span></span><span class="koboSpan" id="kobo.283.1"> - The main panel containing information about the current category selection in toolbar E. </span><span class="koboSpan" id="kobo.283.2">In this example, the panel is displaying services for the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.284.1">public</span></span><span class="koboSpan" id="kobo.285.1"> zone. </span><span class="koboSpan" id="kobo.285.2">The checkboxes next to each service control whether the service is enabled or not within the firewall. </span><span class="koboSpan" id="kobo.285.3">It is within these category panels that new rules can be added or existing rules configured or removed.</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="My-Bold _idGenCharOverride-1"><span class="koboSpan" id="kobo.286.1">E</span></span><span class="koboSpan" id="kobo.287.1"> - Controls the content displayed in panel D. </span><span class="koboSpan" id="kobo.287.2">Selecting items from this bar displays the current rule for the chosen category.</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="My-Bold _idGenCharOverride-1"><span class="koboSpan" id="kobo.288.1">F</span></span><span class="koboSpan" id="kobo.289.1"> - Controls the list displayed in panel C.</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.290.1">The </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.291.1">firewall-config</span></span><span class="koboSpan" id="kobo.292.1"> tool is straightforward and intuitive to use and allows many of the tasks available with </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.293.1">firewall-cmd</span></span><span class="koboSpan" id="kobo.294.1"> to be performed in a visual environment. </span></p>
<p class="Heading-1-1" id="_idParaDest-159" lang="en-US"><span class="Heading11Marker"><span class="koboSpan" id="kobo.295.1">16.5 </span></span><a id="_idTextAnchor280"/><span class="koboSpan" id="kobo.296.1">Summary</span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.297.1">A carefully planned and implemented firewall is a vital component of any secure system. </span><span class="koboSpan" id="kobo.297.2">In the case of Ubuntu, the firewalld service provides a firewall system that is both flexible and easy to administer. </span></p>
<p class="My-Basic-Paragraph" lang="en-US"><span class="koboSpan" id="kobo.298.1">The firewalld service uses the concept of zones to group together sets of firewall rules and includes a suite of pre-defined zones designed to meet a range of firewall protection requirements. </span><span class="koboSpan" id="kobo.298.2">These zones may be modified to add or remove rules or entirely new zones created and configured. </span><span class="koboSpan" id="kobo.298.3">The network devices on the system that connect to networks or the internet are referred to as interfaces. </span><span class="koboSpan" id="kobo.298.4">Each interface, in turn, is assigned to a zone. </span><span class="koboSpan" id="kobo.298.5">The primary tools for working with firewalld are the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.299.1">firewall-cmd </span></span><span class="koboSpan" id="kobo.300.1">command-line tool and the </span><span class="My-Italic _idGenCharOverride-1"><span class="koboSpan" id="kobo.301.1">firewall-config</span></span><span class="koboSpan" id="kobo.302.1"> graphical utility. </span></p>
</div>
</body></html>