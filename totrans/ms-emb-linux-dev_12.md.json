["```\n$ sudo apt install e2fsprogs genext2fs mtd-utils squashfs-tools util-linux \n```", "```\n=> tftpboot 0x100000 uImage\n=> erase 0x40040000 0x403fffff\n=> cp.b 0x100000 0x40040000 $(filesize) \n```", "```\n=> tftpboot 0x82000000 uImage\n=> nand erase 0x280000 0x400000\n=> nand write 0x82000000 0x280000 $(filesize) \n```", "```\n<mtddef>  := <mtd-id>:<partdef>[,<partdef>]\n<partdef> := <size>[@<offset>][<name>][ro][lk][slc]\n<mtd-id>  := unique name used in mapping driver/device (mtd->name)\n<size>    := standard linux memsize OR \"-\" to denote all remaining space\n             size is automatically truncated at end of device\n             if specified or truncated size is 0 the part is skipped\n<offset>  := standard linux memsize\n             if omitted the part will immediately follow the previous part\n             or 0 if the first part\n<name>    := '(' NAME ')' \n```", "```\nmtdparts=:512k(SPL)ro,780k(U-Boot)ro,128k(U-BootEnv),4m(Kernel),-(Filesystem) \n```", "```\n# cat /proc/mtd\ndev: size erasesize name\nmtd0: 00080000 00020000 \"SPL\"\nmtd1: 000C3000 00020000 \"U-Boot\"\nmtd2: 00020000 00020000 \"U-BootEnv\"\nmtd3: 00400000 00020000 \"Kernel\"\nmtd4: 07A9D000 00020000 \"Filesystem\" \n```", "```\n# mtdinfo /dev/mtd0\nmtd0\nName: SPL\nType: nand\n272 Creating a Storage Strategy\nEraseblock size: 131072 bytes, 128.0 KiB\nAmount of eraseblocks: 4 (524288 bytes, 512.0 KiB)\nMinimum input/output unit size: 2048 bytes\nSub-page size: 512 bytes\nOOB size: 64 bytes\nCharacter device major/minor: 90:0\nBad blocks are allowed: true\nDevice is writable: false \n```", "```\nnand@0,0 {\n #address-cells = <1>;\n #size-cells = <1>;\n partition@0 {\n  label = \"SPL\";\n  reg = <0 0x80000>;\n };\n partition@80000 {\n  label = \"U-Boot\";\n  reg = <0x80000 0xc3000>;\n };\n partition@143000 {\n  label = \"U-BootEnv\";\n  reg = <0x143000 0x20000>;\n };\n partition@163000 {\n  label = \"Kernel\";\n  reg = <0x163000 0x400000>;\n };\n partition@563000 {\n  label = \"Filesystem\";\n  reg = <0x563000 0x7a9d000>;\n };\n}; \n```", "```\nstatic struct mtd_partition omap3beagle_nand_partitions[] = {\n {\n  .name = \"X-Loader\",\n  .offset = 0,\n  .size = 4 * NAND_BLOCK_SIZE,\n  .mask_flags = MTD_WRITEABLE, /* force read-only */\n },\n {\n  .name = \"U-Boot\",\n  .offset = 0x80000;\n  .size = 15 * NAND_BLOCK_SIZE,\n  .mask_flags = MTD_WRITEABLE, /* force read-only */\n },\n {\n  .name = \"U-Boot Env\",\n  .offset = 0x260000;\n  .size = 1 * NAND_BLOCK_SIZE,\n },\n {\n  .name = \"Kernel\",\n  .offset = 0x280000;\n  .size = 32 * NAND_BLOCK_SIZE,\n },\n {\n  .name = \"File System\",\n  .offset = 0x680000;\n  .size = MTDPART_SIZ_FULL,\n },\n}; \n```", "```\n# flash_erase -j /dev/mtd6 0 0\n# mount -t jffs2 mtd6 /mnt \n```", "```\n$ mkfs.jffs2 -n -e 0x20000 -p -d ~/rootfs -o ~/rootfs.jffs2\n$ sumtool -n -e 0x20000 -p -i ~/rootfs.jffs2 -o ~/rootfs-sum.jffs2 \n```", "```\nnand erase clean 163000 7a9d000\nnand write 82000000 163000 7a9d000 \n```", "```\n# flash_erase -j /dev/mtd6 0 0\n# nandwrite /dev/mtd6 rootfs-sum.jffs2 \n```", "```\nroot=/dev/mtdblock6 rootfstype=jffs2 \n```", "```\n$ git clone git://www.aleph1.co.uk/yaffs2\n$ cd yaffs2\n$ ./patch-ker.sh c m <path to your link source> \n```", "```\n# flash_erase /dev/mtd/mtd6 0 0\n# mount -t yaffs2 /dev/mtdblock6 /mnt \n```", "```\n$ mkyaffs2 -c 2048 -s 64 rootfs rootfs.yaffs2 \n```", "```\n# flash_erase /dev/mtd6 0 0\n# nandwrite -a /dev/mtd6 rootfs.yaffs2 \n```", "```\nroot=/dev/mtdblock6 rootfstype=yaffs2 \n```", "```\n# ubiformat /dev/mtd6 -s 2048\nubiformat: mtd0 (nand), size 134217728 bytes (128.0 MiB), 1024 eraseblocks of 131072 bytes (128.0 KiB), min. I/O size 2048 bytes \n```", "```\n# ubiattach -p /dev/mtd6 -O 2048\nUBI device number 0, total 1024 LEBs (130023424 bytes, 124.0 MiB), available 998 LEBs (126722048 bytes, 120.9 MiB), LEB size 126976 bytes (124.0 KiB) \n```", "```\n# ubimkvol /dev/ubi0 -N vol_1 -s 32MiB\nVolume ID 0, size 265 LEBs (33648640 bytes, 32.1 MiB), LEB size 126976 bytes (124.0 KiB), dynamic, name \"vol_1\", alignment 1\n# ubimkvol /dev/ubi0 -N vol_2 -m\nVolume ID 1, size 733 LEBs (93073408 bytes, 88.8 MiB), LEB size 126976 bytes (124.0 KiB), dynamic, name \"vol_2\", alignment 1 \n```", "```\n# ubinfo -a /dev/ubi0\nubi0\nVolumes count: 2\nLogical eraseblock size: 126976 bytes, 124.0 KiB\nTotal amount of logical eraseblocks: 1024 (130023424 bytes, 124.0 MiB)\nAmount of available logical eraseblocks: 0 (0 bytes)\nMaximum count of volumes 128\nCount of bad physical eraseblocks: 0\nCount of reserved physical eraseblocks: 20\nCurrent maximum erase counter value: 1\nMinimum input/output unit size: 2048 bytes\nCharacter device major/minor: 250:0\nPresent volumes: 0, 1\nVolume ID: 0 (on ubi0)\nType: dynamic\nAlignment: 1\nSize: 265 LEBs (33648640 bytes, 32.1 MiB)\nState: OK\nName: vol_1\nCharacter device major/minor: 250:1\n-----------------------------------\nVolume ID: 1 (on ubi0)\nType: dynamic\nAlignment: 1\nSize: 733 LEBs (93073408 bytes, 88.8 MiB)\nState: OK\nName: vol_2\nCharacter device major/minor: 250:2 \n```", "```\n# mount -t ubifs ubi0:vol_1 /mnt \n```", "```\n$ mkfs.ubifs -r rootfs -m 2048 -e 124KiB -c 256 -o rootfs.ubi \n```", "```\n[ubifsi_vol_1]\nmode=ubi\nimage=rootfs.ubi\nvol_id=0\nvol_name=vol_1\nvol_size=32MiB\nvol_type=dynamic\n[ubifsi_vol_2]\nmode=ubi\nimage=data.ubi\nvol_id=1\nvol_name=vol_2\nvol_type=dynamic\nvol_flags=autoresize \n```", "```\n$ ubinize -o ~/ubi.img -p 128KiB -m 2048 -s 512 ubinize.cfg \n```", "```\n# ubiformat /dev/mtd6 -s 2048\n# nandwrite /dev/mtd6 /ubi.img\n# ubiattach -p /dev/mtd6 -O 2048 \n```", "```\nubi.mtd=6 root=ubi0:vol_1 rootfstype=ubifs \n```", "```\n$ sudo ./flashbench -a /dev/mmcblk0 --blocksize=1024\nalign 536870912 pre 4.38ms on 4.48ms post 3.92ms diff 332µs\nalign 268435456 pre 4.86ms on 4.9ms post 4.48ms diff 227µs\nalign 134217728 pre 4.57ms on 5.99ms post 5.12ms diff 1.15ms\nalign 67108864 pre 4.95ms on 5.03ms post 4.54ms diff 292µs\nalign 33554432 pre 5.46ms on 5.48ms post 4.58ms diff 462µs\nalign 16777216 pre 3.16ms on 3.28ms post 2.52ms diff 446µs\nalign 8388608 pre 3.89ms on 4.1ms post 3.07ms diff 622µs\nalign 4194304 pre 4.01ms on 4.89ms post 3.9ms diff 940µs\nalign 2097152 pre 3.55ms on 4.42ms post 3.46ms diff 917µs\nalign 1048576 pre 4.19ms on 5.02ms post 4.09ms diff 876µs\nalign 524288 pre 3.83ms on 4.55ms post 3.65ms diff 805µs\nalign 262144 pre 3.95ms on 4.25ms post 3.57ms diff 485µs\nalign 131072 pre 4.2ms on 4.25ms post 3.58ms diff 362µs\nalign 65536 pre 3.89ms on 4.24ms post 3.57ms diff 511µs\nalign 32768 pre 3.94ms on 4.28ms post 3.6ms diff 502µs\nalign 16384 pre 4.82ms on 4.86ms post 4.17ms diff 372µs\nalign 8192 pre 4.81ms on 4.83ms post 4.16ms diff 349µs\nalign 4096 pre 4.16ms on 4.21ms post 4.16ms diff 52.4µs\nalign 2048 pre 4.16ms on 4.16ms post 4.17ms diff 9ns \n```", "```\n# grep -s \"\" /sys/block/mmcblk0/queue/discard_*\n/sys/block/mmcblk0/queue/discard_granularity:2097152\n/sys/block/mmcblk0/queue/discard_max_bytes:2199023255040\n/sys/block/mmcblk0/queue/discard_zeroes_data:1 \n```", "```\n# sudo fstrim -v /\n/: 2061000704 bytes were trimmed \n```", "```\n# mkfs.ext4 /dev/mmcblk0p2\n# mount -t ext4 -o discard /dev/mmcblk0p1 /mnt \n```", "```\n$ genext2fs -B 1024 -b 10000 -d rootfs rootfs.ext4 \n```", "```\n$ tune2fs -j -J size=1 -O filetype,extents,uninit_bg,dir_index rootfs.ext4\n$ e2fsck -pDf rootfs.ext4 \n```", "```\n# mkfs.f2fs -l rootfs /dev/mmcblock0p1\n# mount -t f2fs /dev/mmcblock0p1 /mnt \n```", "```\n# mount -t vfat /dev/mmcblock1p1 /mnt \n```", "```\n$ mksquashfs rootfs rootfs.squashfs \n```", "```\n# mount -t tmpfs tmp_files /tmp \n```", "```\n# mount -t tmpfs -o size=1m tmp_files /tmp \n```", "```\n/var/cache -> /tmp\n/var/lock -> /tmp\n/var/log -> /tmp\n/var/run -> /tmp\n/var/spool -> /tmp\n/var/tmp -> /tmp \n```", "```\n/tmp -> /var/tmp\n/var/lock -> /run/lock\n/var/log -> /var/volatile/log\n/var/run -> /run\n/var/tmp -> /var/volatile/tmp \n```", "```\n    $ mkdir -p /var/volatile/lib\n    $ cp -a /var/lib/* /var/volatile/lib\n    $ mount --bind /var/volatile/lib /var/lib \n    ```"]