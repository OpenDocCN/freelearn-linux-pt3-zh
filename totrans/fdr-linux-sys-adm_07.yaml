- en: '3'
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Tuning the Desktop Environment
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: With the operating system installed on our computer and the least necessary
    configuration completed, we can continue with the customization of our workstation,
    looking to optimize the processes. But at this point, it is very important to
    feel comfortable with the experience as users of our desktop environment. In this
    chapter, we will look, step by step, at how to have a customized desktop environment;
    you can omit or add any component to your liking, based on your personal taste.
    The desktop environment we are going to use is **GNOME**, but most of the customizations,
    except the GNOME plugins, could be done in any desktop environment.
  prefs: []
  type: TYPE_NORMAL
- en: 'The following customization components are covered in the chapter:'
  prefs: []
  type: TYPE_NORMAL
- en: Initial system tuning
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Customizing the panel and taskbar
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Making tasks easy with widgets
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Handy applications with docks
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Technical requirements
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: For the exercises in this chapter, you need to have a personal computer with
    **Fedora Workstation** installed, with release 37, the release this book is based
    on. If you do not have the operating system installed on the computer, you can
    refer to the previous chapter where I provided the best practices for its installation.
  prefs: []
  type: TYPE_NORMAL
- en: Let’s start the desktop tuning with resource optimization.
  prefs: []
  type: TYPE_NORMAL
- en: Initial system tuning
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Tuning a Linux system involves many of its components. For this reason, we will
    start by going through desktop tuning step by step so that we have a workstation
    optimized as best as possible. As always, in these cases, the main thing to take
    care of is the memory and CPU usage of our computer.
  prefs: []
  type: TYPE_NORMAL
- en: 'According to Fedora’s official documentation ([https://docs.fedoraproject.org/en-US/fedora/latest/release-notes/welcome/Hardware_Overview/](https://docs.fedoraproject.org/en-US/fedora/latest/release-notes/welcome/Hardware_Overview/)),
    the minimum system requirements that we must have in our hardware are as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: 2 GHz dual-core processor or faster
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 2 GB system memory
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'According to several resource usage benchmark websites, such as diffen.com
    ([https://www.diffen.com/difference/GNOME_vs_KDE](https://www.diffen.com/difference/GNOME_vs_KDE)),
    webdock.io ([https://webdock.io/en/docs/how-guides/desktop-environments/overview-of-desktop-environments](https://webdock.io/en/docs/how-guides/desktop-environments/overview-of-desktop-environments)),
    and pcgamebenchmark.com ([https://www.pcgamebenchmark.com/find-the-gnome-system-requirements](https://www.pcgamebenchmark.com/find-the-gnome-system-requirements)),
    the GNOME desktop has the following specifications:'
  prefs: []
  type: TYPE_NORMAL
- en: 800 MHz CPU power (1 GHz for optimal performance)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 512 MB of **Random Access Memory** (**RAM**) (1 GB for optimal performance)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: A tuning that can help us, if we have limited system memory, is adjusting the
    **swappiness** value.
  prefs: []
  type: TYPE_NORMAL
- en: '`0` to `100`, a ratio between *anonymous pages* and *file pages*.'
  prefs: []
  type: TYPE_NORMAL
- en: Tuning the swappiness value
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The swappiness value determines the amount of data written to the virtual memory
    of the hard disk drive (swap space), which can slow down the system.
  prefs: []
  type: TYPE_NORMAL
- en: 'By default, this value is `60`, which you can verify by running the following
    command from Terminal:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: '[root@workstation ~]# cat /etc/sysctl.conf'
  prefs: []
  type: TYPE_NORMAL
- en: '...output omitted...'
  prefs: []
  type: TYPE_NORMAL
- en: The default value is 60, decrementing the value of parameter
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: vm.swappiness=10
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '[root@workstation ~]# dnf install gnome-tweaks'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE2]'
  prefs: []
  type: TYPE_PRE
- en: '[root@workstation ~]# dnf install gnome-shell-extension-background-logo'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE3]'
  prefs: []
  type: TYPE_PRE
- en: '[root@workstation ~]# dnf install conky'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE4]'
  prefs: []
  type: TYPE_PRE
- en: '[acallejas@workstation ~]$ git clone \'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE5]'
  prefs: []
  type: TYPE_PRE
- en: '.harmattan-assets and .harmattan-themes directories to the user’s home directory,
    keeping them as hidden directories:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE6]'
  prefs: []
  type: TYPE_PRE
- en: Note
  prefs: []
  type: TYPE_NORMAL
- en: '**Hidden directories** are those that have a name beginning with a period (**.**).'
  prefs: []
  type: TYPE_NORMAL
- en: We’ll create a file in the `.config/autostart` directory in the user’s home
    directory to add `conky` to the system startup. With this, when we start our session,
    `conky` runs and displays it on the desktop.
  prefs: []
  type: TYPE_NORMAL
- en: 'Create the `~/.config/autostart/start_conky.desktop` file with the following
    content:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE7]'
  prefs: []
  type: TYPE_PRE
- en: '[acallejas@workstation ~]$ cat .config/autostart/start_conky.sh'
  prefs: []
  type: TYPE_NORMAL
- en: '#!/bin/bash'
  prefs: []
  type: TYPE_NORMAL
- en: killall conky
  prefs: []
  type: TYPE_NORMAL
- en: sleep 10
  prefs: []
  type: TYPE_NORMAL
- en: 'start_conky.sh script:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE8]'
  prefs: []
  type: TYPE_PRE
- en: Note
  prefs: []
  type: TYPE_NORMAL
- en: You can find both files in the repository of this book at [https://github.com/PacktPublishing/Fedora-Linux-System-Administration/tree/main/chapter3](https://github.com/PacktPublishing/Fedora-Linux-System-Administration/tree/main/chapter3).
  prefs: []
  type: TYPE_NORMAL
- en: 'As indicated in the `conky_harmattan` documentation, register a private API
    key in **OpenWeatherMap** ([http://openweathermap.org/](http://openweathermap.org/))
    to get the current weather information. On the same page, find the city code by
    searching for it and copying the code from the URL address of the browser:'
  prefs: []
  type: TYPE_NORMAL
- en: '![Figure 3.32 – OpenWeatherMap page](img/3.32.jpg)'
  prefs: []
  type: TYPE_IMG
- en: Figure 3.32 – OpenWeatherMap page
  prefs: []
  type: TYPE_NORMAL
- en: 'Add both pieces of data by editing the `~/.``harmattan-themes/Glass/God-Mode/.conkyrc`
    file:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE9]'
  prefs: []
  type: TYPE_PRE
- en: 'Save the file and test the configuration by running `conky` from Terminal:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE10]'
  prefs: []
  type: TYPE_PRE
- en: '[acallejas@workstation ~]$ vi .harmattan-themes/Glass/God-Mode/.conkyrc'
  prefs: []
  type: TYPE_NORMAL
- en: '...output omitted...'
  prefs: []
  type: TYPE_NORMAL
- en: '-------------------------------------'
  prefs: []
  type: TYPE_NORMAL
- en: --  Window Specifications
  prefs: []
  type: TYPE_NORMAL
- en: '-------------------------------------'
  prefs: []
  type: TYPE_NORMAL
- en: gap_x=1900,
  prefs: []
  type: TYPE_NORMAL
- en: gap_y=15,
  prefs: []
  type: TYPE_NORMAL
- en: '...output omitted...'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE11]'
  prefs: []
  type: TYPE_PRE
- en: own_window_argb_visual=true,
  prefs: []
  type: TYPE_NORMAL
- en: own_window_argb_value=0,
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE12]'
  prefs: []
  type: TYPE_PRE
- en: ${if_existing /proc/net/route enp1s0}
  prefs: []
  type: TYPE_NORMAL
- en: '${voffset -344}${goto 40}${color5}Up: ${color2}${upspeed enp1s0}${color5}${goto
    150}Down: ${color2}${downspeed enp1s0}'
  prefs: []
  type: TYPE_NORMAL
- en: ${voffset 10}${goto 40}${upspeedgraph enp1s0 26,80 FFFFFF FFFFFF}${goto 150}${downspeedgraph
    enp1s0 26,80 FFFFFF FFFFFF}
  prefs: []
  type: TYPE_NORMAL
- en: '${voffset 9}${goto 40}${color5}Sent: ${color2}${totalup enp1s0}${color5}${goto
    150}Received: ${color2}${totaldown enp1s0}'
  prefs: []
  type: TYPE_NORMAL
- en: ${else}
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE13]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE14]'
  prefs: []
  type: TYPE_PRE
- en: '[PRE15]'
  prefs: []
  type: TYPE_PRE
