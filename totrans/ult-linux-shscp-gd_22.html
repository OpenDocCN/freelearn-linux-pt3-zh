<html><head></head><body>
  <div id="_idContainer432" class="Basic-Text-Frame">
    <h1 class="chapterNumber"><span class="koboSpan" id="kobo.1.1">22</span></h1>
    <h1 id="_idParaDest-470" class="chapterTitle"><span class="koboSpan" id="kobo.2.1">Introduction to Z Shell Scripting</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.3.1">Thus far, we’ve mainly talked about </span><code class="inlineCode"><span class="koboSpan" id="kobo.4.1">bash</span></code><span class="koboSpan" id="kobo.5.1">, since it’s the preeminent login shell and scripting environment for Linux. </span><span class="koboSpan" id="kobo.5.2">In recent years, a fairly new kid on the block, </span><strong class="keyWord"><span class="koboSpan" id="kobo.6.1">Z Shell</span></strong><span class="koboSpan" id="kobo.7.1"> (</span><code class="inlineCode"><span class="koboSpan" id="kobo.8.1">zsh</span></code><span class="koboSpan" id="kobo.9.1">) has </span><a id="_idIndexMarker1395"/><span class="koboSpan" id="kobo.10.1">been gaining a bit of popularity as a default login shell. </span><span class="koboSpan" id="kobo.10.2">But, even on the operating systems that come with </span><code class="inlineCode"><span class="koboSpan" id="kobo.11.1">zsh</span></code><span class="koboSpan" id="kobo.12.1"> as the login shell, </span><code class="inlineCode"><span class="koboSpan" id="kobo.13.1">bash</span></code><span class="koboSpan" id="kobo.14.1"> is still there, and </span><code class="inlineCode"><span class="koboSpan" id="kobo.15.1">bash</span></code><span class="koboSpan" id="kobo.16.1"> is what most people still use for scripting purposes. </span><span class="koboSpan" id="kobo.16.2">Be aware though, that scripting in </span><code class="inlineCode"><span class="koboSpan" id="kobo.17.1">zsh</span></code><span class="koboSpan" id="kobo.18.1"> does have certain advantages, such as better math capabilities, enhanced variable expansion, and the ability to use native </span><code class="inlineCode"><span class="koboSpan" id="kobo.19.1">zsh</span></code><span class="koboSpan" id="kobo.20.1"> commands instead of utilities such as </span><code class="inlineCode"><span class="koboSpan" id="kobo.21.1">find</span></code><span class="koboSpan" id="kobo.22.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.23.1">grep</span></code><span class="koboSpan" id="kobo.24.1">, or </span><code class="inlineCode"><span class="koboSpan" id="kobo.25.1">sed</span></code><span class="koboSpan" id="kobo.26.1">. </span><span class="koboSpan" id="kobo.26.2">These features can help you create scripts that are a bit simpler and lighter than equivalent </span><code class="inlineCode"><span class="koboSpan" id="kobo.27.1">bash</span></code><span class="koboSpan" id="kobo.28.1"> scripts.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.29.1">Most articles and YouTube videos that you see about </span><code class="inlineCode"><span class="koboSpan" id="kobo.30.1">zsh</span></code><span class="koboSpan" id="kobo.31.1"> focus on the user interface enhancements, and very few focus on </span><code class="inlineCode"><span class="koboSpan" id="kobo.32.1">zsh</span></code><span class="koboSpan" id="kobo.33.1"> scripting. </span><span class="koboSpan" id="kobo.33.2">Unfortunately, the few books and tutorials that do focus on </span><code class="inlineCode"><span class="koboSpan" id="kobo.34.1">zsh</span></code><span class="koboSpan" id="kobo.35.1"> scripting aren’t very well-written, and you won’t get much out of them. </span><span class="koboSpan" id="kobo.35.2">Hopefully, I can provide some clarification.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.36.1">Rather than present a detailed tutorial, I’d like to just present a high-level overview of </span><code class="inlineCode"><span class="koboSpan" id="kobo.37.1">zsh</span></code><span class="koboSpan" id="kobo.38.1"> scripting, so that you can decide for yourself if it’s for you.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.39.1">Topics in this chapter include:</span></p>
    <ul>
      <li class="bulletList"><span class="koboSpan" id="kobo.40.1">Introducing </span><code class="inlineCode"><span class="koboSpan" id="kobo.41.1">zsh</span></code></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.42.1">Installing </span><code class="inlineCode"><span class="koboSpan" id="kobo.43.1">zsh</span></code></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.44.1">Understanding the Unique Features of </span><code class="inlineCode"><span class="koboSpan" id="kobo.45.1">zsh</span></code><span class="koboSpan" id="kobo.46.1"> Scripting</span></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.47.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.48.1">zsh </span></code><span class="koboSpan" id="kobo.49.1">Modules</span></li>
    </ul>
    <p class="normal"><span class="koboSpan" id="kobo.50.1">If you’re ready, let’s dig in.</span></p>
    <h1 id="_idParaDest-471" class="heading 1"><span class="koboSpan" id="kobo.51.1">Technical Requirements</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.52.1">You can use any of your Linux virtual machines for this chapter. </span><span class="koboSpan" id="kobo.52.2">As always, you can grab the demo scripts by doing:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.53.1">git clone https://github.com/PacktPublishing/The-Ultimate-Linux-Shell-Scripting-Guide.git
</span></code></pre>
    <h1 id="_idParaDest-472" class="heading 1"><span class="koboSpan" id="kobo.54.1">Introducing zsh</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.55.1">Z Shell was</span><a id="_idIndexMarker1396"/><span class="koboSpan" id="kobo.56.1"> created in 1990 by Paul Falstad. </span><span class="koboSpan" id="kobo.56.2">It’s an extension of the Bourne Shell, but also includes features from </span><code class="inlineCode"><span class="koboSpan" id="kobo.57.1">bash</span></code><span class="koboSpan" id="kobo.58.1">, Korn Shell (</span><code class="inlineCode"><span class="koboSpan" id="kobo.59.1">ksh</span></code><span class="koboSpan" id="kobo.60.1">), and C Shell (</span><code class="inlineCode"><span class="koboSpan" id="kobo.61.1">tcsh</span></code><span class="koboSpan" id="kobo.62.1">).</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.63.1">The </span><strong class="keyWord"><span class="koboSpan" id="kobo.64.1">C Shell</span></strong><span class="koboSpan" id="kobo.65.1">, which</span><a id="_idIndexMarker1397"/><span class="koboSpan" id="kobo.66.1"> used to be somewhat popular with Unix and Unix-like distros, is vastly different from anything you’ve seen. </span><span class="koboSpan" id="kobo.66.2">Writing a C Shell script is more akin to writing a C language program than it is to what you’re used to. </span><span class="koboSpan" id="kobo.66.3">So if you’re a C language programmer, you might like it. </span><span class="koboSpan" id="kobo.66.4">If you’re not, then you might not like it so much.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.67.1">Z Shell comes as the default login shell for both macOS and Kali Linux. </span><span class="koboSpan" id="kobo.67.2">For pretty much everything else, you’ll need to install it yourself. </span><span class="koboSpan" id="kobo.67.3">As far as </span><code class="inlineCode"><span class="koboSpan" id="kobo.68.1">zsh</span></code><span class="koboSpan" id="kobo.69.1"> scripting goes, most of what you’ve learned about scripting in </span><code class="inlineCode"><span class="koboSpan" id="kobo.70.1">bash</span></code><span class="koboSpan" id="kobo.71.1"> also applies to scripting in </span><code class="inlineCode"><span class="koboSpan" id="kobo.72.1">zsh</span></code><span class="koboSpan" id="kobo.73.1">. </span><span class="koboSpan" id="kobo.73.2">So, in this chapter I’ll just present the unique features of </span><code class="inlineCode"><span class="koboSpan" id="kobo.74.1">zsh</span></code><span class="koboSpan" id="kobo.75.1">, and show you some simple scripting examples.</span></p>
    <h1 id="_idParaDest-473" class="heading 1"><span class="koboSpan" id="kobo.76.1">Installing zsh</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.77.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.78.1">zsh</span></code><span class="koboSpan" id="kobo.79.1"> package is</span><a id="_idIndexMarker1398"/><span class="koboSpan" id="kobo.80.1"> available in all Linux and BSD-type distros that I’ve tried, as well as on </span><a id="_idIndexMarker1399"/><span class="koboSpan" id="kobo.81.1">OpenIndiana. </span><span class="koboSpan" id="kobo.81.2">The package name is </span><code class="inlineCode"><span class="koboSpan" id="kobo.82.1">zsh</span></code><span class="koboSpan" id="kobo.83.1"> in all cases, so you can just install it with your normal package manager.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.84.1">On the BSD distros, you’ll have the same path problem that you had with </span><code class="inlineCode"><span class="koboSpan" id="kobo.85.1">bash</span></code><span class="koboSpan" id="kobo.86.1">. </span><span class="koboSpan" id="kobo.86.2">That is, on BSD distros, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.87.1">zsh</span></code><span class="koboSpan" id="kobo.88.1"> executable is in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.89.1">/usr/local/bin/</span></code><span class="koboSpan" id="kobo.90.1"> directory, instead of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.91.1">/bin/</span></code><span class="koboSpan" id="kobo.92.1"> directory. </span><span class="koboSpan" id="kobo.92.2">That’s okay, though. </span><span class="koboSpan" id="kobo.92.3">Just create a symbolic link in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.93.1">/bin/</span></code><span class="koboSpan" id="kobo.94.1"> directory, as you did for </span><code class="inlineCode"><span class="koboSpan" id="kobo.95.1">bash</span></code><span class="koboSpan" id="kobo.96.1">. </span><span class="koboSpan" id="kobo.96.2">On my FreeBSD machine, the command looks like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.97.1">donnie@freebsd-zfs:~ $ which zsh
/usr/local/bin/zsh
donnie@freebsd-zfs:~ $ sudo ln -s /usr/local/bin/zsh /bin/zsh
donnie@freebsd-zfs:~ $ which zsh
/bin/zsh
donnie@freebsd-zfs:~ $
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.98.1">Now, if you need to run your </span><code class="inlineCode"><span class="koboSpan" id="kobo.99.1">zsh</span></code><span class="koboSpan" id="kobo.100.1"> scripts on Linux, OpenIndiana, and BSD machines, you can use the same shebang line, which looks like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.101.1">#!/bin/zsh
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.102.1">If you want to use </span><code class="inlineCode"><span class="koboSpan" id="kobo.103.1">zsh</span></code><span class="koboSpan" id="kobo.104.1"> as your temporary login shell, you can just enter </span><code class="inlineCode"><span class="koboSpan" id="kobo.105.1">zsh</span></code><span class="koboSpan" id="kobo.106.1"> at your normal shell’s command prompt. </span><span class="koboSpan" id="kobo.106.2">If you want to set </span><code class="inlineCode"><span class="koboSpan" id="kobo.107.1">zsh</span></code><span class="koboSpan" id="kobo.108.1"> as your permanent login shell, use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.109.1">chsh</span></code><span class="koboSpan" id="kobo.110.1"> command on Linux and the BSD distros, and the </span><code class="inlineCode"><span class="koboSpan" id="kobo.111.1">passwd</span></code><span class="koboSpan" id="kobo.112.1"> command on OpenIndiana. </span><span class="koboSpan" id="kobo.112.2">Here’s how that looks on Linux and the BSD distros:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.113.1">donnie@ubuntu2404:~$ chsh -s /bin/zsh
Password:
donnie@ubuntu2404:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.114.1">Here’s how it looks on OpenIndiana:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.115.1">donnie@openindiana:~$ passwd -e
Enter existing login password:
Old shell: /bin/bash
New shell: /bin/zsh
passwd: password information changed for donnie
donnie@openindiana:~$
</span></code></pre>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.116.1">Note that when you change the shell for your own user account, you’ll be prompted to enter your own user password. </span><span class="koboSpan" id="kobo.116.2">However, this has nothing to do with </span><code class="inlineCode"><span class="koboSpan" id="kobo.117.1">sudo</span></code><span class="koboSpan" id="kobo.118.1">, because even non-privileged users can use </span><code class="inlineCode"><span class="koboSpan" id="kobo.119.1">chsh</span></code><span class="koboSpan" id="kobo.120.1"> on Linux/BSD distros and </span><code class="inlineCode"><span class="koboSpan" id="kobo.121.1">passwd -e</span></code><span class="koboSpan" id="kobo.122.1"> on OpenIndiana to change their own default shells.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.123.1">The first </span><a id="_idIndexMarker1400"/><span class="koboSpan" id="kobo.124.1">time you log in with </span><code class="inlineCode"><span class="koboSpan" id="kobo.125.1">zsh</span></code><span class="koboSpan" id="kobo.126.1">, you’ll be presented with a setup menu that looks like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.127.1">This is the Z Shell configuration function for new users,
zsh-newuser-install.
</span><span class="koboSpan" id="kobo.127.2">You are seeing this message because you have no zsh startup files
(the files .zshenv, .zprofile, .zshrc, .zlogin in the directory
~).  </span><span class="koboSpan" id="kobo.127.3">This function can help you with a few settings that should
make your use of the shell easier.
</span><span class="koboSpan" id="kobo.127.4">You can:
(q)  Quit and do nothing.  </span><span class="koboSpan" id="kobo.127.5">The function will be run again next time.
</span><span class="koboSpan" id="kobo.127.6">(0)  Exit, creating the file ~/.zshrc containing just a comment.
     </span><span class="koboSpan" id="kobo.127.7">That will prevent this function being run again.
</span><span class="koboSpan" id="kobo.127.8">(1)  Continue to the main menu.
</span><span class="koboSpan" id="kobo.127.9">--- Type one of the keys in parentheses ---
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.128.1">Hit the </span><strong class="screenText"><span class="koboSpan" id="kobo.129.1">1</span></strong><span class="koboSpan" id="kobo.130.1"> key to go to the main menu, and choose your preferred setup options. </span><span class="koboSpan" id="kobo.130.2">The configuration will be saved to the </span><code class="inlineCode"><span class="koboSpan" id="kobo.131.1">.zshrc</span></code><span class="koboSpan" id="kobo.132.1"> file in your home directory.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.133.1">Next, let’s look at some of the unique features of </span><code class="inlineCode"><span class="koboSpan" id="kobo.134.1">zsh</span></code><span class="koboSpan" id="kobo.135.1"> scripting.</span></p>
    <h1 id="_idParaDest-474" class="heading 1"><span class="koboSpan" id="kobo.136.1">Understanding the Unique Features of zsh Scripting</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.137.1">When you script in </span><code class="inlineCode"><span class="koboSpan" id="kobo.138.1">zsh</span></code><span class="koboSpan" id="kobo.139.1">, you </span><a id="_idIndexMarker1401"/><span class="koboSpan" id="kobo.140.1">can take advantage of certain enhancements that aren’t in </span><code class="inlineCode"><span class="koboSpan" id="kobo.141.1">bash</span></code><span class="koboSpan" id="kobo.142.1">. </span><span class="koboSpan" id="kobo.142.2">Here’s a quick review of some of those enhancements.</span></p>
    <h2 id="_idParaDest-475" class="heading 2"><span class="koboSpan" id="kobo.143.1">Differences in Variable Expansion</span></h2>
    <p class="normal"><span class="koboSpan" id="kobo.144.1">In </span><em class="chapterRef"><span class="koboSpan" id="kobo.145.1">Chapter 8—Basic Shell Script Construction</span></em><span class="koboSpan" id="kobo.146.1">, I explained the concept of </span><strong class="keyWord"><span class="koboSpan" id="kobo.147.1">variable expansion</span></strong><span class="koboSpan" id="kobo.148.1">, which</span><a id="_idIndexMarker1402"/><span class="koboSpan" id="kobo.149.1"> is also </span><a id="_idIndexMarker1403"/><span class="koboSpan" id="kobo.150.1">sometimes </span><a id="_idIndexMarker1404"/><span class="koboSpan" id="kobo.151.1">called </span><strong class="keyWord"><span class="koboSpan" id="kobo.152.1">parameter expansion</span></strong><span class="koboSpan" id="kobo.153.1">. </span><span class="koboSpan" id="kobo.153.2">This allows you to write cool scripts that do cool things, such as changing the filename extensions on a whole batch of files at a time. </span><span class="koboSpan" id="kobo.153.3">Most of the same variable expansion constructs that are in </span><code class="inlineCode"><span class="koboSpan" id="kobo.154.1">bash</span></code><span class="koboSpan" id="kobo.155.1"> are also in </span><code class="inlineCode"><span class="koboSpan" id="kobo.156.1">zsh</span></code><span class="koboSpan" id="kobo.157.1">, but </span><code class="inlineCode"><span class="koboSpan" id="kobo.158.1">zsh</span></code><span class="koboSpan" id="kobo.159.1"> has additional ones that provide additional capabilities. </span><span class="koboSpan" id="kobo.159.2">Let’s look at a few examples.</span></p>
    <h3 id="_idParaDest-476" class="heading 3"><span class="koboSpan" id="kobo.160.1">Substituting Values</span></h3>
    <p class="normal"><span class="koboSpan" id="kobo.161.1">Substituting</span><a id="_idIndexMarker1405"/><span class="koboSpan" id="kobo.162.1"> values in </span><code class="inlineCode"><span class="koboSpan" id="kobo.163.1">zsh</span></code><span class="koboSpan" id="kobo.164.1"> works the same as it does in </span><code class="inlineCode"><span class="koboSpan" id="kobo.165.1">bash</span></code><span class="koboSpan" id="kobo.166.1">, with one exception. </span><span class="koboSpan" id="kobo.166.2">That is, if you substitute a value in a text string that includes an exclamation point, you’ll have to escape it in a </span><code class="inlineCode"><span class="koboSpan" id="kobo.167.1">zsh</span></code><span class="koboSpan" id="kobo.168.1"> script. </span><span class="koboSpan" id="kobo.168.2">For example, here’s how it works in </span><code class="inlineCode"><span class="koboSpan" id="kobo.169.1">bash</span></code><span class="koboSpan" id="kobo.170.1">:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.171.1">donnie@fedora:~$ unset name
donnie@fedora:~$ echo "Hello, ${name:-Guest}!"
</span><span class="koboSpan" id="kobo.171.2">Hello, Guest!
</span><span class="koboSpan" id="kobo.171.3">donnie@fedora:~$ name=Horatio
donnie@fedora:~$ echo "Hello, ${name:-Guest}!"
</span><span class="koboSpan" id="kobo.171.4">Hello, Horatio!
</span><span class="koboSpan" id="kobo.171.5">donnie@fedora:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.172.1">As I explained in </span><em class="chapterRef"><span class="koboSpan" id="kobo.173.1">Chapter 8</span></em><span class="koboSpan" id="kobo.174.1">, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.175.1">variable_name:-default_value</span></code><span class="koboSpan" id="kobo.176.1"> construct supplies a default value for any variable that doesn’t yet have a value assigned to it. </span><span class="koboSpan" id="kobo.176.2">This same construct is supposed to work in </span><code class="inlineCode"><span class="koboSpan" id="kobo.177.1">zsh</span></code><span class="koboSpan" id="kobo.178.1">, but watch what happens when I try it:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.179.1">ubuntu2404% unset name
ubuntu2404% echo "Hello, ${name:-Guest}!"
</span><span class="koboSpan" id="kobo.179.2">dquote&gt; "
Hello, Guest
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.180.1">When I hit the </span><strong class="screenText"><span class="koboSpan" id="kobo.181.1">Enter</span></strong><span class="koboSpan" id="kobo.182.1"> key after typing the </span><code class="inlineCode"><span class="koboSpan" id="kobo.183.1">echo</span></code><span class="koboSpan" id="kobo.184.1"> command, </span><code class="inlineCode"><span class="koboSpan" id="kobo.185.1">zsh</span></code><span class="koboSpan" id="kobo.186.1"> takes me to the </span><code class="inlineCode"><span class="koboSpan" id="kobo.187.1">dquote&gt;</span></code><span class="koboSpan" id="kobo.188.1"> prompt. </span><span class="koboSpan" id="kobo.188.2">If I hit the </span><code class="inlineCode"><span class="koboSpan" id="kobo.189.1">"</span></code><span class="koboSpan" id="kobo.190.1"> key a second time, I get the output that I want. </span><span class="koboSpan" id="kobo.190.2">To get it right the first </span><a id="_idIndexMarker1406"/><span class="koboSpan" id="kobo.191.1">time, I’ll just place a </span><code class="inlineCode"><span class="koboSpan" id="kobo.192.1">\</span></code><span class="koboSpan" id="kobo.193.1"> before the </span><code class="inlineCode"><span class="koboSpan" id="kobo.194.1">!</span></code><span class="koboSpan" id="kobo.195.1">, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.196.1">ubuntu2404% unset name               
ubuntu2404% echo "Hello, ${name:-Guest}\!"
</span><span class="koboSpan" id="kobo.196.2">Hello, Guest!
</span><span class="koboSpan" id="kobo.196.3">ubuntu2404% name=Horatio
ubuntu2404% echo "Hello, ${name:-Guest}\!"
</span><span class="koboSpan" id="kobo.196.4">Hello, Horatio!
</span><span class="koboSpan" id="kobo.196.5">Ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.197.1">So, with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.198.1">\</span></code><span class="koboSpan" id="kobo.199.1"> in front of the exclamation point, it works just fine. </span><span class="koboSpan" id="kobo.199.2">I don’t know why the </span><code class="inlineCode"><span class="koboSpan" id="kobo.200.1">!</span></code><span class="koboSpan" id="kobo.201.1"> needs to be escaped in </span><code class="inlineCode"><span class="koboSpan" id="kobo.202.1">zsh</span></code><span class="koboSpan" id="kobo.203.1">, but whatever works, right?</span></p>
    <h3 id="_idParaDest-477" class="heading 3"><span class="koboSpan" id="kobo.204.1">Substituting Substrings</span></h3>
    <p class="normal"><span class="koboSpan" id="kobo.205.1">Substring </span><a id="_idIndexMarker1407"/><span class="koboSpan" id="kobo.206.1">substitution partly works in </span><code class="inlineCode"><span class="koboSpan" id="kobo.207.1">bash</span></code><span class="koboSpan" id="kobo.208.1">, but not completely. </span><span class="koboSpan" id="kobo.208.2">Here’s what I mean.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.209.1">I’ll first create the </span><code class="inlineCode"><span class="koboSpan" id="kobo.210.1">name</span></code><span class="koboSpan" id="kobo.211.1"> variable with the value of </span><code class="inlineCode"><span class="koboSpan" id="kobo.212.1">lionel</span></code><span class="koboSpan" id="kobo.213.1">. </span><span class="koboSpan" id="kobo.213.2">Then, on both </span><code class="inlineCode"><span class="koboSpan" id="kobo.214.1">bash</span></code><span class="koboSpan" id="kobo.215.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.216.1">zsh</span></code><span class="koboSpan" id="kobo.217.1">, I’ll attempt to replace the first lower-case </span><em class="italic"><span class="koboSpan" id="kobo.218.1">l</span></em><span class="koboSpan" id="kobo.219.1"> with an upper-case </span><em class="italic"><span class="koboSpan" id="kobo.220.1">l</span></em><span class="koboSpan" id="kobo.221.1">. </span><span class="koboSpan" id="kobo.221.2">First, on </span><code class="inlineCode"><span class="koboSpan" id="kobo.222.1">bash</span></code><span class="koboSpan" id="kobo.223.1">, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.224.1">donnie@fedora:~$ echo $SHELL
/bin/bash
donnie@fedora:~$ name="lionel"
donnie@fedora:~$ echo "${name/l/L}"
Lionel
donnie@fedora:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.225.1">Now, on </span><code class="inlineCode"><span class="koboSpan" id="kobo.226.1">zsh</span></code><span class="koboSpan" id="kobo.227.1">:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.228.1">ubuntu2404% echo $SHELL
/bin/zsh
ubuntu2404% name="lionel"
ubuntu2404% echo "${name/l/L}"
Lionel
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.229.1">In </span><a id="_idIndexMarker1408"/><span class="koboSpan" id="kobo.230.1">the </span><code class="inlineCode"><span class="koboSpan" id="kobo.231.1">${name/l/L}</span></code><span class="koboSpan" id="kobo.232.1"> construct, you see that I first listed the variable </span><code class="inlineCode"><span class="koboSpan" id="kobo.233.1">name</span></code><span class="koboSpan" id="kobo.234.1"> with a forward slash and the letter that I want to replace, followed by another forward slash and the letter that I want to substitute. </span><span class="koboSpan" id="kobo.234.2">As you can see, this works on both </span><code class="inlineCode"><span class="koboSpan" id="kobo.235.1">bash</span></code><span class="koboSpan" id="kobo.236.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.237.1">zsh</span></code><span class="koboSpan" id="kobo.238.1">. </span><span class="koboSpan" id="kobo.238.2">I can also replace both both occurrences of the lower-case </span><em class="italic"><span class="koboSpan" id="kobo.239.1">l</span></em><span class="koboSpan" id="kobo.240.1"> by using two forward slashes after the </span><code class="inlineCode"><span class="koboSpan" id="kobo.241.1">name</span></code><span class="koboSpan" id="kobo.242.1"> variable, like so:</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.243.1">On </span><code class="inlineCode"><span class="koboSpan" id="kobo.244.1">bash</span></code><span class="koboSpan" id="kobo.245.1">:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.246.1">donnie@fedora:~$ echo "${name//l/L}"
LioneL
donnie@fedora:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.247.1">On </span><code class="inlineCode"><span class="koboSpan" id="kobo.248.1">zsh</span></code><span class="koboSpan" id="kobo.249.1">:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.250.1">ubuntu2404% echo "${name//l/L}"               
LioneL
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.251.1">Again, this works on both </span><code class="inlineCode"><span class="koboSpan" id="kobo.252.1">bash</span></code><span class="koboSpan" id="kobo.253.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.254.1">zsh</span></code><span class="koboSpan" id="kobo.255.1">. </span><span class="koboSpan" id="kobo.255.2">So, if this works on both shells, why am I showing this to you? </span><span class="koboSpan" id="kobo.255.3">Well, it’s just that on </span><code class="inlineCode"><span class="koboSpan" id="kobo.256.1">bash</span></code><span class="koboSpan" id="kobo.257.1">, this only works if the text string doesn’t contain any blank spaces. </span></p>
    <p class="normal"><span class="koboSpan" id="kobo.258.1">Here’s an example of what I mean:</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.259.1">On </span><code class="inlineCode"><span class="koboSpan" id="kobo.260.1">bash</span></code><span class="koboSpan" id="kobo.261.1">:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.262.1">donnie@fedora:~$ names="Donnie and Vicky and Cleopatra"
donnie@fedora:~$ echo "${names//and/&amp;}"
Donnie and Vicky and Cleopatra
donnie@fedora:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.263.1">This time, I wanted to replace all occurrences of </span><em class="italic"><span class="koboSpan" id="kobo.264.1">and</span></em><span class="koboSpan" id="kobo.265.1"> with an ampersand. </span><span class="koboSpan" id="kobo.265.2">But, this doesn’t </span><a id="_idIndexMarker1409"/><span class="koboSpan" id="kobo.266.1">work on </span><code class="inlineCode"><span class="koboSpan" id="kobo.267.1">bash</span></code><span class="koboSpan" id="kobo.268.1"> because the text string contains blank spaces. </span><span class="koboSpan" id="kobo.268.2">So, let’s try this on </span><code class="inlineCode"><span class="koboSpan" id="kobo.269.1">zsh</span></code><span class="koboSpan" id="kobo.270.1">.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.271.1">On </span><code class="inlineCode"><span class="koboSpan" id="kobo.272.1">zsh</span></code><span class="koboSpan" id="kobo.273.1">:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.274.1">ubuntu2404% names="Donnie and Vicky and Cleopatra"
ubuntu2404% echo "${names//and/&amp;}"
Donnie &amp; Vicky &amp; Cleopatra
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.275.1">On </span><code class="inlineCode"><span class="koboSpan" id="kobo.276.1">zsh</span></code><span class="koboSpan" id="kobo.277.1">, having a text string with blank spaces doesn’t matter.</span></p>
    <h3 id="_idParaDest-478" class="heading 3"><span class="koboSpan" id="kobo.278.1">Translating Between Upper and Lower Case</span></h3>
    <p class="normal"><span class="koboSpan" id="kobo.279.1">Here’s an </span><a id="_idIndexMarker1410"/><span class="koboSpan" id="kobo.280.1">example of the exact opposite situation. </span><span class="koboSpan" id="kobo.280.2">This time, I’ll show you something that works on </span><code class="inlineCode"><span class="koboSpan" id="kobo.281.1">bash</span></code><span class="koboSpan" id="kobo.282.1">, but not on </span><code class="inlineCode"><span class="koboSpan" id="kobo.283.1">zsh</span></code><span class="koboSpan" id="kobo.284.1">. </span><span class="koboSpan" id="kobo.284.2">Then, I’ll show you the alternative method for </span><code class="inlineCode"><span class="koboSpan" id="kobo.285.1">zsh</span></code><span class="koboSpan" id="kobo.286.1">.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.287.1">First, let’s say that we want to capitalize the first letter of the value that’s assigned to the </span><code class="inlineCode"><span class="koboSpan" id="kobo.288.1">name</span></code><span class="koboSpan" id="kobo.289.1"> variable. </span><span class="koboSpan" id="kobo.289.2">Here’s how to do it on </span><code class="inlineCode"><span class="koboSpan" id="kobo.290.1">bash</span></code><span class="koboSpan" id="kobo.291.1">:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.292.1">donnie@fedora:~$ name=horatio
donnie@fedora:~$ echo "${name^}"
Horatio
donnie@fedora:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.293.1">All I did here was to place a </span><code class="inlineCode"><span class="koboSpan" id="kobo.294.1">^</span></code><span class="koboSpan" id="kobo.295.1"> after the </span><code class="inlineCode"><span class="koboSpan" id="kobo.296.1">name</span></code><span class="koboSpan" id="kobo.297.1"> variable in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.298.1">echo</span></code><span class="koboSpan" id="kobo.299.1"> statement. </span><span class="koboSpan" id="kobo.299.2">Now, let’s say that I want to capitalize all letters. </span><span class="koboSpan" id="kobo.299.3">I’ll do that by using two </span><code class="inlineCode"><span class="koboSpan" id="kobo.300.1">^</span></code><span class="koboSpan" id="kobo.301.1"> characters, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.302.1">donnie@fedora:~$ echo "${name^^}"
HORATIO
donnie@fedora:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.303.1">If you have a text string with all upper-case characters, use either one or two commas to convert either the first letter or all letters to lower-case, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.304.1">donnie@fedora:~$ name=HORATIO
donnie@fedora:~$ echo "${name,}"
hORATIO
donnie@fedora:~$ echo "${name,,}"
horatio
donnie@fedora:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.305.1">On </span><code class="inlineCode"><span class="koboSpan" id="kobo.306.1">zsh</span></code><span class="koboSpan" id="kobo.307.1">, none </span><a id="_idIndexMarker1411"/><span class="koboSpan" id="kobo.308.1">of this works at all, as you see here:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.309.1">ubuntu2404% name=horatio
ubuntu2404% echo "${name^}"
zsh: bad substitution
ubuntu2404% echo "${name^^}"
zsh: bad substitution
ubuntu2404% name=HORATIO 
ubuntu2404% echo "${name,}"
zsh: bad substitution
ubuntu2404% echo "${name,,}"
zsh: bad substitution
ubuntu2404%
</span></code></pre>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.310.1">I’m showing you this because some </span><code class="inlineCode"><span class="koboSpan" id="kobo.311.1">zsh</span></code><span class="koboSpan" id="kobo.312.1"> scripting books say this will work on </span><code class="inlineCode"><span class="koboSpan" id="kobo.313.1">zsh</span></code><span class="koboSpan" id="kobo.314.1">. </span><span class="koboSpan" id="kobo.314.2">But, as you see, it definitely doesn’t.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.315.1">So, what’s the alternative on </span><code class="inlineCode"><span class="koboSpan" id="kobo.316.1">zsh</span></code><span class="koboSpan" id="kobo.317.1">? </span><span class="koboSpan" id="kobo.317.2">Well, you just use a builtin </span><code class="inlineCode"><span class="koboSpan" id="kobo.318.1">zsh</span></code><span class="koboSpan" id="kobo.319.1"> function. </span><span class="koboSpan" id="kobo.319.2">Let’s first use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.320.1">U</span></code><span class="koboSpan" id="kobo.321.1"> function to convert an entire text string to upper-case:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.322.1">ubuntu2404% name=horatio
ubuntu2404% echo "${(U)name}"
HORATIO
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.323.1">Instead of placing a pair of </span><code class="inlineCode"><span class="koboSpan" id="kobo.324.1">^</span></code><span class="koboSpan" id="kobo.325.1"> characters after the name variable, I just placed a </span><code class="inlineCode"><span class="koboSpan" id="kobo.326.1">(U)</span></code><span class="koboSpan" id="kobo.327.1"> before the </span><code class="inlineCode"><span class="koboSpan" id="kobo.328.1">name</span></code><span class="koboSpan" id="kobo.329.1"> variable.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.330.1">As far as I’ve been able to find, there’s no function that converts just the first letter. </span><span class="koboSpan" id="kobo.330.2">So, let’s convert the first letter like this, instead:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.331.1">ubuntu2404% name=horatio
ubuntu2404% capitalized_name=${name/h/H}
ubuntu2404% echo $capitalized_name
Horatio
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.332.1">This is the same </span><a id="_idIndexMarker1412"/><span class="koboSpan" id="kobo.333.1">method that I’ve just shown you in the previous section.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.334.1">Next, let’s do some globbing.</span></p>
    <h3 id="_idParaDest-479" class="heading 3"><span class="koboSpan" id="kobo.335.1">Extended File Globbing</span></h3>
    <p class="normal"><span class="koboSpan" id="kobo.336.1">“What’s </span><strong class="keyWord"><span class="koboSpan" id="kobo.337.1">file globbing”</span></strong><span class="koboSpan" id="kobo.338.1">, you say? </span><span class="koboSpan" id="kobo.338.2">Well, you’ve </span><a id="_idIndexMarker1413"/><span class="koboSpan" id="kobo.339.1">actually been working with it throughout this book. </span><span class="koboSpan" id="kobo.339.2">It’s just </span><a id="_idIndexMarker1414"/><span class="koboSpan" id="kobo.340.1">that I’ve</span><a id="_idIndexMarker1415"/><span class="koboSpan" id="kobo.341.1"> never told you what it’s called. </span><span class="koboSpan" id="kobo.341.2">All it means is that you can use wildcard characters, such as the </span><code class="inlineCode"><span class="koboSpan" id="kobo.342.1">*</span></code><span class="koboSpan" id="kobo.343.1"> and the </span><code class="inlineCode"><span class="koboSpan" id="kobo.344.1">?</span></code><span class="koboSpan" id="kobo.345.1">, to work with multiple files at the same time. </span><span class="koboSpan" id="kobo.345.2">For example, you can do this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.346.1">donnie@fedora:~$ ls -l *.zip
-rw-r--r--. </span><span class="koboSpan" id="kobo.346.2">1 root   root      32864546 Jul 27  2023 15827_zip.zip
-rw-r--r--. </span><span class="koboSpan" id="kobo.346.3">1 root   root      49115374 Jul 27  2023 21261.zip
-rw-r--r--. </span><span class="koboSpan" id="kobo.346.4">1 root   root      36996449 Jul 27  2023 46523.zip
. </span><span class="koboSpan" id="kobo.346.5">. </span><span class="koboSpan" id="kobo.346.6">.
</span><span class="koboSpan" id="kobo.346.7">. </span><span class="koboSpan" id="kobo.346.8">. </span><span class="koboSpan" id="kobo.346.9">.
</span><span class="koboSpan" id="kobo.346.10">-rw-r--r--. </span><span class="koboSpan" id="kobo.346.11">1 root   root      21798397 Jul 27  2023 tmvx.zip
-rw-r--r--. </span><span class="koboSpan" id="kobo.346.12">1 root   root         60822 Jul 27  2023 U_CAN_Ubuntu_20-04_LTS_V1R4_STIG_SCAP_1-2_Benchmark.zip
-rw-r--r--. </span><span class="koboSpan" id="kobo.346.13">1 root   root        425884 Jul 27  2023 zoneinfo.zip
donnie@fedora:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.347.1">All I’m doing here is using the </span><code class="inlineCode"><span class="koboSpan" id="kobo.348.1">*</span></code><span class="koboSpan" id="kobo.349.1"> wildcard to view all of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.350.1">.zip</span></code><span class="koboSpan" id="kobo.351.1"> files in my directory.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.352.1">You can do all this and more in </span><code class="inlineCode"><span class="koboSpan" id="kobo.353.1">zsh</span></code><span class="koboSpan" id="kobo.354.1">. </span><span class="koboSpan" id="kobo.354.2">The only catch is that you need to have the </span><code class="inlineCode"><span class="koboSpan" id="kobo.355.1">extendedglob</span></code><span class="koboSpan" id="kobo.356.1"> feature turned on. </span><span class="koboSpan" id="kobo.356.2">To verify that it is, look in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.357.1">.zshrc</span></code><span class="koboSpan" id="kobo.358.1"> file in your home directory. </span><span class="koboSpan" id="kobo.358.2">You should see a line that looks something like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.359.1">setopt autocd beep extendedglob nomatch notify
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.360.1">If the </span><code class="inlineCode"><span class="koboSpan" id="kobo.361.1">extendedglob</span></code><span class="koboSpan" id="kobo.362.1"> option is there, then you’re good. </span><span class="koboSpan" id="kobo.362.2">If it isn’t, just add it in. </span><span class="koboSpan" id="kobo.362.3">So now, let’s look at a </span><a id="_idIndexMarker1416"/><span class="koboSpan" id="kobo.363.1">few examples of</span><a id="_idIndexMarker1417"/><span class="koboSpan" id="kobo.364.1"> extended globbing.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.365.1">Why is extended file globbing on </span><code class="inlineCode"><span class="koboSpan" id="kobo.366.1">zsh</span></code><span class="koboSpan" id="kobo.367.1"> useful? </span><span class="koboSpan" id="kobo.367.2">Well, it’s just that in many cases, you’ll be able to use the extended globbing features of </span><code class="inlineCode"><span class="koboSpan" id="kobo.368.1">zsh</span></code><span class="koboSpan" id="kobo.369.1"> instead of using the </span><code class="inlineCode"><span class="koboSpan" id="kobo.370.1">find</span></code><span class="koboSpan" id="kobo.371.1"> utility. </span><span class="koboSpan" id="kobo.371.2">You might find this easier than using </span><code class="inlineCode"><span class="koboSpan" id="kobo.372.1">find</span></code><span class="koboSpan" id="kobo.373.1">. </span><span class="koboSpan" id="kobo.373.2">Or, you might prefer using </span><code class="inlineCode"><span class="koboSpan" id="kobo.374.1">find</span></code><span class="koboSpan" id="kobo.375.1">, if that’s what you’re used to using. </span><span class="koboSpan" id="kobo.375.2">I’ll let you make the decision.</span></p>
      <p class="normal"><span class="koboSpan" id="kobo.376.1">Also, for demo purposes, I’m mainly showing you this with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.377.1">ls</span></code><span class="koboSpan" id="kobo.378.1"> utility. </span><span class="koboSpan" id="kobo.378.2">But, you can also use globbing with other utilities, such as </span><code class="inlineCode"><span class="koboSpan" id="kobo.379.1">cp</span></code><span class="koboSpan" id="kobo.380.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.381.1">mv</span></code><span class="koboSpan" id="kobo.382.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.383.1">rm</span></code><span class="koboSpan" id="kobo.384.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.385.1">chmod</span></code><span class="koboSpan" id="kobo.386.1">, or </span><code class="inlineCode"><span class="koboSpan" id="kobo.387.1">chown</span></code><span class="koboSpan" id="kobo.388.1">.</span></p>
    </div>
    <h4 class="heading 4"><span class="koboSpan" id="kobo.389.1">Filtering ls Output</span></h4>
    <p class="normal"><span class="koboSpan" id="kobo.390.1">With this cool</span><a id="_idIndexMarker1418"/><span class="koboSpan" id="kobo.391.1"> feature enabled, you can do cool things like excluding files that you don’t want to see. </span><span class="koboSpan" id="kobo.391.2">For example, let’s say that you want to see all files in your directory except for the </span><code class="inlineCode"><span class="koboSpan" id="kobo.392.1">.sh</span></code><span class="koboSpan" id="kobo.393.1"> files. </span><span class="koboSpan" id="kobo.393.2">Just do this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.394.1">ubuntu2404% ls -d ^*.sh          
bashlib-0.4		    My_Files
demo_files		    supersecret
deshc-deb		   	    supersecret_trace.txt
Documents		           sysinfo.html
encrypted_password	    sysinfo_posix.lib
encrypted_password.sh.x.c  test.sh.x
expand_1.txt		    user_activity_for_donnie_2024-05-12_09-30.txt
expand_2.txt		    user_activity_for_donnie_2024-07-22_10-40.txt
expand.txt		    user_activity_for_horatio_2024-07-06_07-12.txt
FallOfSudo		    while_demo
file2.txt		           while_demo.sh.x.c
file3.jpg
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.395.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.396.1">^</span></code><span class="koboSpan" id="kobo.397.1"> that </span><a id="_idIndexMarker1419"/><span class="koboSpan" id="kobo.398.1">precedes the </span><code class="inlineCode"><span class="koboSpan" id="kobo.399.1">*.sh</span></code><span class="koboSpan" id="kobo.400.1"> is a negation symbol. </span><span class="koboSpan" id="kobo.400.2">This is what prevents the </span><code class="inlineCode"><span class="koboSpan" id="kobo.401.1">ls</span></code><span class="koboSpan" id="kobo.402.1"> command from showing you the </span><code class="inlineCode"><span class="koboSpan" id="kobo.403.1">.sh</span></code><span class="koboSpan" id="kobo.404.1"> files.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.405.1">Note that I had to include the </span><code class="inlineCode"><span class="koboSpan" id="kobo.406.1">-d</span></code><span class="koboSpan" id="kobo.407.1"> option for </span><code class="inlineCode"><span class="koboSpan" id="kobo.408.1">ls</span></code><span class="koboSpan" id="kobo.409.1">. </span><span class="koboSpan" id="kobo.409.2">Otherwise, you’ll also see files in any subdirectories that you might have. </span><span class="koboSpan" id="kobo.409.3">For some reason, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.410.1">^</span></code><span class="koboSpan" id="kobo.411.1"> filters out the unwanted files in my top level directory, but it doesn’t filter out the unwanted files in the subdirectories. </span><span class="koboSpan" id="kobo.411.2">So, without the </span><code class="inlineCode"><span class="koboSpan" id="kobo.412.1">-d</span></code><span class="koboSpan" id="kobo.413.1">, you’ll also see all files that are in the subdirectories, including the ones that you want to filter out.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.414.1">You can use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.415.1">*~</span></code><span class="koboSpan" id="kobo.416.1"> operator to accomplish the same thing. </span><span class="koboSpan" id="kobo.416.2">Here’s how that looks:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.417.1">ubuntu2404% ls -d *~*.sh
bashlib-0.4		   My_Files
demo_files		   supersecret
deshc-deb		          supersecret_trace.txt
Documents		           sysinfo.html
encrypted_password	    sysinfo_posix.lib
encrypted_password.sh.x.c  test.sh.x
expand_1.txt		    user_activity_for_donnie_2024-05-12_09-30.txt
expand_2.txt		    user_activity_for_donnie_2024-07-22_10-40.txt
expand.txt		    user_activity_for_horatio_2024-07-06_07-12.txt
FallOfSudo		    while_demo
file2.txt		           while_demo.sh.x.c
file3.jpg
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.418.1">As you see, the output is identical to that of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.419.1">ls -d ^.sh</span></code><span class="koboSpan" id="kobo.420.1"> output. </span><span class="koboSpan" id="kobo.420.2">To exclude multiple types of files, just use the </span><em class="italic"><span class="koboSpan" id="kobo.421.1">or</span></em><span class="koboSpan" id="kobo.422.1"> operator (</span><code class="inlineCode"><span class="koboSpan" id="kobo.423.1">|</span></code><span class="koboSpan" id="kobo.424.1">), like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.425.1">ubuntu2404% ls -d *~(*.sh|*.jpg|*.txt|*.c)
bashlib-0.4  Documents		 My_Files      sysinfo_posix.lib
demo_files   encrypted_password  supersecret   test.sh.x
deshc-deb    FallOfSudo		 sysinfo.html  while_demo
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.426.1">So in this</span><a id="_idIndexMarker1420"/><span class="koboSpan" id="kobo.427.1"> case, I filtered out the </span><code class="inlineCode"><span class="koboSpan" id="kobo.428.1">.sh</span></code><span class="koboSpan" id="kobo.429.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.430.1">.jpg</span></code><span class="koboSpan" id="kobo.431.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.432.1">.txt</span></code><span class="koboSpan" id="kobo.433.1">, and </span><code class="inlineCode"><span class="koboSpan" id="kobo.434.1">.c</span></code><span class="koboSpan" id="kobo.435.1"> files. </span><span class="koboSpan" id="kobo.435.2">Now, let’s look at our next trick.</span></p>
    <h4 class="heading 4"><span class="koboSpan" id="kobo.436.1">Grouping ls Searches</span></h4>
    <p class="normal"><span class="koboSpan" id="kobo.437.1">Something </span><a id="_idIndexMarker1421"/><span class="koboSpan" id="kobo.438.1">else that you can’t do in </span><code class="inlineCode"><span class="koboSpan" id="kobo.439.1">bash</span></code><span class="koboSpan" id="kobo.440.1"> is to group your </span><code class="inlineCode"><span class="koboSpan" id="kobo.441.1">ls</span></code><span class="koboSpan" id="kobo.442.1"> searches, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.443.1">ubuntu2404% ls -ld (ex|test)*
-rw-r--r-- 1 donnie donnie    52 Apr 29 20:02 expand_1.txt
-rw-r--r-- 1 donnie donnie   111 Apr 29 20:02 expand_2.txt
-rw-r--r-- 1 donnie donnie    51 Apr 29 20:02 expand.txt
-rwxrw-r-- 1 donnie donnie    48 Jun 30 20:26 test.sh
-rw-rw-r-- 1 donnie donnie     0 Jul  5 19:31 test.sh.dec.sh
-rwxr-xr-x 1 donnie donnie 11440 Jul  5 19:12 test.sh.x
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.444.1">Here, I’m using the </span><code class="inlineCode"><span class="koboSpan" id="kobo.445.1">|</span></code><span class="koboSpan" id="kobo.446.1"> symbol as an </span><em class="italic"><span class="koboSpan" id="kobo.447.1">or</span></em><span class="koboSpan" id="kobo.448.1"> operator, to view all files with either </span><code class="inlineCode"><span class="koboSpan" id="kobo.449.1">ex</span></code><span class="koboSpan" id="kobo.450.1"> or </span><code class="inlineCode"><span class="koboSpan" id="kobo.451.1">test</span></code><span class="koboSpan" id="kobo.452.1"> as the first portion of their filenames.</span></p>
    <h4 class="heading 4"><span class="koboSpan" id="kobo.453.1">Using Globbing Flags</span></h4>
    <p class="normal"><span class="koboSpan" id="kobo.454.1">As you </span><a id="_idIndexMarker1422"/><span class="koboSpan" id="kobo.455.1">know, Linux and Unix operating systems are normally case-sensitive. </span><span class="koboSpan" id="kobo.455.2">So, if you were to use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.456.1">ls *.jpg</span></code><span class="koboSpan" id="kobo.457.1"> command to view all JPEG-type graphics files, you would completely miss any files that might have the </span><code class="inlineCode"><span class="koboSpan" id="kobo.458.1">*.JPG</span></code><span class="koboSpan" id="kobo.459.1"> extension. </span><span class="koboSpan" id="kobo.459.2">With </span><code class="inlineCode"><span class="koboSpan" id="kobo.460.1">zsh</span></code><span class="koboSpan" id="kobo.461.1">, you can use </span><strong class="keyWord"><span class="koboSpan" id="kobo.462.1">globbing flags</span></strong><span class="koboSpan" id="kobo.463.1"> to make</span><a id="_idIndexMarker1423"/><span class="koboSpan" id="kobo.464.1"> your commands case-insensitive. </span><span class="koboSpan" id="kobo.464.2">Here’s an example:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.465.1">ubuntu2404% touch graphic1.jpg graphic2.JPG graphic3.jpg file3.jpg
ubuntu2404% ls *.jpg
file3.jpg  graphic1.jpg  graphic3.jpg
ubuntu2404% ls (#i)*.jpg
file3.jpg  graphic1.jpg  graphic2.JPG  graphic3.jpg
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.466.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.467.1">(#i)</span></code><span class="koboSpan" id="kobo.468.1"> in the second </span><code class="inlineCode"><span class="koboSpan" id="kobo.469.1">ls</span></code><span class="koboSpan" id="kobo.470.1"> command is the globbing flag. </span><span class="koboSpan" id="kobo.470.2">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.471.1">#</span></code><span class="koboSpan" id="kobo.472.1"> indicates that it’s a flag, and it will precede the pattern that you want to match.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.473.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.474.1">(#l)</span></code><span class="koboSpan" id="kobo.475.1"> flag will </span><a id="_idIndexMarker1424"/><span class="koboSpan" id="kobo.476.1">match either a lower-case or upper-case pattern if you specify a lower-case pattern for your search. </span><span class="koboSpan" id="kobo.476.2">If you specify an upper-case pattern, then it will only match the upper-case pattern. </span><span class="koboSpan" id="kobo.476.3">Here’s how that looks:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.477.1">ubuntu2404% ls (#l)*.jpg
file3.jpg  graphic1.jpg  graphic2.JPG  graphic3.jpg
ubuntu2404% ls (#l)*.JPG
graphic2.JPG
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.478.1">You see here that when I specified </span><code class="inlineCode"><span class="koboSpan" id="kobo.479.1">*.jpg</span></code><span class="koboSpan" id="kobo.480.1"> as the pattern, it also found the </span><code class="inlineCode"><span class="koboSpan" id="kobo.481.1">.JPG</span></code><span class="koboSpan" id="kobo.482.1"> file. </span><span class="koboSpan" id="kobo.482.2">But, when I specified </span><code class="inlineCode"><span class="koboSpan" id="kobo.483.1">.JPG</span></code><span class="koboSpan" id="kobo.484.1"> as the pattern, it only found the </span><code class="inlineCode"><span class="koboSpan" id="kobo.485.1">.JPG</span></code><span class="koboSpan" id="kobo.486.1"> file.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.487.1">Now, let’s expand some directories.</span></p>
    <h4 class="heading 4"><span class="koboSpan" id="kobo.488.1">Expanding Directories</span></h4>
    <p class="normal"><span class="koboSpan" id="kobo.489.1">You can</span><a id="_idIndexMarker1425"/><span class="koboSpan" id="kobo.490.1"> use </span><strong class="keyWord"><span class="koboSpan" id="kobo.491.1">globbing qualifiers</span></strong><span class="koboSpan" id="kobo.492.1"> to view</span><a id="_idIndexMarker1426"/><span class="koboSpan" id="kobo.493.1"> different types of directories or files. </span><span class="koboSpan" id="kobo.493.2">We’ll start </span><a id="_idIndexMarker1427"/><span class="koboSpan" id="kobo.494.1">with the qualifiers for directories, which are:</span></p>
    <ul>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.495.1">*(F)</span></code><span class="koboSpan" id="kobo.496.1">: This expands non-empty directories.</span></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.497.1">*(^F)</span></code><span class="koboSpan" id="kobo.498.1">: This expands both plain files and empty directories.</span></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.499.1">*(/^F)</span></code><span class="koboSpan" id="kobo.500.1">: This only expands empty directories.</span></li>
    </ul>
    <p class="normal"><span class="koboSpan" id="kobo.501.1">First, let’s look at the non-empty directories that are in my home directory.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.502.1">ubuntu2404% ls *(F)            
bashlib-0.4:
bashlib     config.cache  config.status  COPYING  Makefile     README
bashlib.in  config.log	  configure	 INSTALL  Makefile.in
. </span><span class="koboSpan" id="kobo.502.2">. </span><span class="koboSpan" id="kobo.502.3">.
</span><span class="koboSpan" id="kobo.502.4">. </span><span class="koboSpan" id="kobo.502.5">. </span><span class="koboSpan" id="kobo.502.6">.
</span><span class="koboSpan" id="kobo.502.7">My_Files:
afile.txt			somefile.txt	 yetanotherfile.txtx
anotherfile.txt			somepicture.jpg  yetanotheryetanotherfile.txt
haveicreatedenoughfilesyet.txt	somescript.sh
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.503.1">You see here</span><a id="_idIndexMarker1428"/><span class="koboSpan" id="kobo.504.1"> that this command shows the non-empty </span><a id="_idIndexMarker1429"/><span class="koboSpan" id="kobo.505.1">directories and their contents. </span><span class="koboSpan" id="kobo.505.2">But, it doesn’t show any files that are in my top-level home directory. </span><span class="koboSpan" id="kobo.505.3">So, it’s all good.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.506.1">Now, I want to see all of the files that are in my top-level home directory, along with any empty directories that might also be there. </span><span class="koboSpan" id="kobo.506.2">I’ll do that like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.507.1">ubuntu2404% ls *(^F)
acl_demo.sh		   rsync_password.sh
diskspace.sh		   shutdown-update.sh
. </span><span class="koboSpan" id="kobo.507.2">. </span><span class="koboSpan" id="kobo.507.3">.
</span><span class="koboSpan" id="kobo.507.4">. </span><span class="koboSpan" id="kobo.507.5">. </span><span class="koboSpan" id="kobo.507.6">.
</span><span class="koboSpan" id="kobo.507.7">rootlock_2.sh		   while_demo.sh.x.c
Documents:
empty_directory:
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.508.1">The two empty directories show up at the bottom of the output.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.509.1">Finally, I only want to see the empty directories, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.510.1">ubuntu2404% ls *(/^F)
Documents:
empty_directory:
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.511.1">Pretty cool, eh?</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.512.1">Next, let’s look at file expansion.</span></p>
    <h4 class="heading 4"><span class="koboSpan" id="kobo.513.1">Expanding Files</span></h4>
    <p class="normal"><span class="koboSpan" id="kobo.514.1">There are</span><a id="_idIndexMarker1430"/><span class="koboSpan" id="kobo.515.1"> several ways to expand files. </span><span class="koboSpan" id="kobo.515.2">First, we’ll expand by either the file or directory file types.</span></p>
    <h5 class="heading 5"><span class="koboSpan" id="kobo.516.1">Expanding Files and Directories</span></h5>
    <p class="normal"><span class="koboSpan" id="kobo.517.1">If you want </span><a id="_idIndexMarker1431"/><span class="koboSpan" id="kobo.518.1">to see the files in your directory, but don’t want to see any directories, do this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.519.1">ubuntu2404% ls *(.)
acl_demo.sh		   rsync_password.sh
diskspace.sh		   shutdown-update.sh
encrypted_password	   sudo_demo1.sh
. </span><span class="koboSpan" id="kobo.519.2">. </span><span class="koboSpan" id="kobo.519.3">.
</span><span class="koboSpan" id="kobo.519.4">. </span><span class="koboSpan" id="kobo.519.5">. </span><span class="koboSpan" id="kobo.519.6">.
</span><span class="koboSpan" id="kobo.519.7">rootlock_1.sh		   while_demo.sh
rootlock_2.sh		   while_demo.sh.x.c
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.520.1">If you only want to see your directories, both empty and non-empty, do this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.521.1">ubuntu2404% ls *(/)
bashlib-0.4:
bashlib     config.cache  config.status  COPYING  Makefile     README
bashlib.in  config.log	  configure	 INSTALL  Makefile.in
. </span><span class="koboSpan" id="kobo.521.2">. </span><span class="koboSpan" id="kobo.521.3">.
</span><span class="koboSpan" id="kobo.521.4">. </span><span class="koboSpan" id="kobo.521.5">. </span><span class="koboSpan" id="kobo.521.6">.
</span><span class="koboSpan" id="kobo.521.7">Documents:
empty_directory:
FallOfSudo:
fallofsudo.py  LICENSE	main.png  README.md
My_Files:
afile.txt			somefile.txt	 yetanotherfile.txtx
anotherfile.txt			somepicture.jpg  yetanotheryetanotherfile.txt
haveicreatedenoughfilesyet.txt	somescript.sh
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.522.1">Okay, I think </span><a id="_idIndexMarker1432"/><span class="koboSpan" id="kobo.523.1">you see what’s going on with this. </span><span class="koboSpan" id="kobo.523.2">Let’s move on to look at file permissions.</span></p>
    <h5 class="heading 5"><span class="koboSpan" id="kobo.524.1">Expanding by File Permissions</span></h5>
    <p class="normal"><span class="koboSpan" id="kobo.525.1">In </span><em class="chapterRef"><span class="koboSpan" id="kobo.526.1">Chapter 20, Shell Script Security</span></em><span class="koboSpan" id="kobo.527.1">, I explained about how file and directory permissions work. </span><span class="koboSpan" id="kobo.527.2">Let’s do a quick review.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.528.1">The </span><a id="_idIndexMarker1433"/><span class="koboSpan" id="kobo.529.1">permissions settings are divided between the </span><em class="italic"><span class="koboSpan" id="kobo.530.1">user</span></em><span class="koboSpan" id="kobo.531.1">—which is what we call the owner of the file or directory—the </span><em class="italic"><span class="koboSpan" id="kobo.532.1">group</span></em><span class="koboSpan" id="kobo.533.1">, and </span><em class="italic"><span class="koboSpan" id="kobo.534.1">others</span></em><span class="koboSpan" id="kobo.535.1">. </span><span class="koboSpan" id="kobo.535.2">Each of these can have any combination of read, write, and executable permissions set for any given file or directory. </span><span class="koboSpan" id="kobo.535.3">If you need to search for files or directories with certain permissions settings, you can use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.536.1">find</span></code><span class="koboSpan" id="kobo.537.1"> utility. </span><span class="koboSpan" id="kobo.537.2">On </span><code class="inlineCode"><span class="koboSpan" id="kobo.538.1">zsh</span></code><span class="koboSpan" id="kobo.539.1">, you can</span><a id="_idIndexMarker1434"/><span class="koboSpan" id="kobo.540.1"> use </span><strong class="keyWord"><span class="koboSpan" id="kobo.541.1">globbing qualifiers</span></strong><span class="koboSpan" id="kobo.542.1"> instead of </span><code class="inlineCode"><span class="koboSpan" id="kobo.543.1">find</span></code><span class="koboSpan" id="kobo.544.1">. </span><span class="koboSpan" id="kobo.544.2">Here’s the list of the qualifiers that you’ll work with:</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.545.1">For the user:</span></p>
    <ul>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.546.1">r:</span></code><span class="koboSpan" id="kobo.547.1">The user has the read permission.</span></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.548.1">w</span></code><span class="koboSpan" id="kobo.549.1">: This denotes files for which the user has the write permission.</span></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.550.1">x</span></code><span class="koboSpan" id="kobo.551.1">: The user has the executable permission.</span></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.552.1">U</span></code><span class="koboSpan" id="kobo.553.1">: This looks for files or directories that belong to the current user.</span></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.554.1">s</span></code><span class="koboSpan" id="kobo.555.1">: This looks for files with the SUID permission set.</span></li>
    </ul>
    <p class="normal"><span class="koboSpan" id="kobo.556.1">For the group:</span></p>
    <ul>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.557.1">A</span></code><span class="koboSpan" id="kobo.558.1">: The group has the read permission.</span></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.559.1">I</span></code><span class="koboSpan" id="kobo.560.1">: The group has the write permission.</span></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.561.1">E</span></code><span class="koboSpan" id="kobo.562.1">: The group has the executable permission.</span></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.563.1">G</span></code><span class="koboSpan" id="kobo.564.1">: This looks for files or directories that belong to the current user’s group.</span></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.565.1">S</span></code><span class="koboSpan" id="kobo.566.1">: This looks for files or directories that have the SGID permission set.</span></li>
    </ul>
    <p class="normal"><span class="koboSpan" id="kobo.567.1">For others:</span></p>
    <ul>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.568.1">R</span></code><span class="koboSpan" id="kobo.569.1">: Others have the read permission.</span></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.570.1">W</span></code><span class="koboSpan" id="kobo.571.1">: Others have the write permission.</span></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.572.1">X</span></code><span class="koboSpan" id="kobo.573.1">: Others have the executable permission.</span></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.574.1">t</span></code><span class="koboSpan" id="kobo.575.1">: This looks for directories that have the sticky bit set.</span></li>
    </ul>
    <p class="normal"><span class="koboSpan" id="kobo.576.1">So, how </span><a id="_idIndexMarker1435"/><span class="koboSpan" id="kobo.577.1">does all this work? </span><span class="koboSpan" id="kobo.577.2">Well, let’s say that you’re in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.578.1">/bin/</span></code><span class="koboSpan" id="kobo.579.1"> directory, and you want to see all of the files that have the SUID permission set. </span><span class="koboSpan" id="kobo.579.2">Just do something like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.580.1">ubuntu2404% cd /bin      
ubuntu2404% ls -ld *(s)  
-rwsr-xr-x 1 root root  72792 Apr  9 07:01 chfn
-rwsr-xr-x 1 root root  44760 Apr  9 07:01 chsh
-rwsr-xr-x 1 root root  39296 Apr  8 15:57 fusermount3
-rwsr-xr-x 1 root root  76248 Apr  9 07:01 gpasswd
-rwsr-xr-x 1 root root  51584 Apr  9 14:02 mount
-rwsr-xr-x 1 root root  40664 Apr  9 07:01 newgrp
-rwsr-xr-x 1 root root  64152 Apr  9 07:01 passwd
-rwsr-xr-x 1 root root  55680 Apr  9 14:02 su
-rwsr-xr-x 1 root root 277936 Apr  8 14:50 sudo
-rwsr-xr-x 1 root root  39296 Apr  9 14:02 umount
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.581.1">If you’re in your own home directory and want to see all of the SUID files that are on the entire filesystem, just make your search recursive, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.582.1">ubuntu2404% ls -ld /**/*(s)
-rwsr-xr-x 1 root root        85064 Feb  6  2024 /snap/core20/2264/usr/bin/chfn
-rwsr-xr-x 1 root root        53040 Feb  6  2024 /snap/core20/2264/usr/bin/chsh
. </span><span class="koboSpan" id="kobo.582.2">. </span><span class="koboSpan" id="kobo.582.3">.
</span><span class="koboSpan" id="kobo.582.4">. </span><span class="koboSpan" id="kobo.582.5">. </span><span class="koboSpan" id="kobo.582.6">.
</span><span class="koboSpan" id="kobo.582.7">-rwsr-xr-x 1 root root       154824 Jul 26 02:32 /usr/lib/snapd/snap-confine
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.583.1">Unlike </span><code class="inlineCode"><span class="koboSpan" id="kobo.584.1">find</span></code><span class="koboSpan" id="kobo.585.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.586.1">ls</span></code><span class="koboSpan" id="kobo.587.1"> isn’t inherently recursive. </span><span class="koboSpan" id="kobo.587.2">So, if want to search through all of the lower-level subdirectories of the directory you’re already in, just do this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.588.1">ubuntu2404% pwd
/home/donnie
ubuntu2404% ls -l **/*(s)
zsh: no matches found: **/*(s)
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.589.1">The only </span><a id="_idIndexMarker1436"/><span class="koboSpan" id="kobo.590.1">difference between this and the full filesystem search is that I used </span><code class="inlineCode"><span class="koboSpan" id="kobo.591.1">**/*(s)</span></code><span class="koboSpan" id="kobo.592.1"> instead of </span><code class="inlineCode"><span class="koboSpan" id="kobo.593.1">/**/*(s)</span></code><span class="koboSpan" id="kobo.594.1">. </span><span class="koboSpan" id="kobo.594.2">(Of course, there are no SUID files in my home directory, which is to be expected.)</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.595.1">If you need to actually do something with this </span><code class="inlineCode"><span class="koboSpan" id="kobo.596.1">ls</span></code><span class="koboSpan" id="kobo.597.1"> output, you can create a </span><code class="inlineCode"><span class="koboSpan" id="kobo.598.1">zsh</span></code><span class="koboSpan" id="kobo.599.1"> script, like this </span><code class="inlineCode"><span class="koboSpan" id="kobo.600.1">find_suid.sh</span></code><span class="koboSpan" id="kobo.601.1"> script:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.602.1">#!/bin/zsh
ls -ld /**/*(s) &gt; suid_files.txt
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.603.1">It’s just a simple little script that creates a text file with a list of the SUID files on your system. </span><span class="koboSpan" id="kobo.603.2">But hey, who says we can’t fancy it up a bit? </span><span class="koboSpan" id="kobo.603.3">Let’s see what we can do in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.604.1">find_suid2.sh</span></code><span class="koboSpan" id="kobo.605.1"> script:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.606.1">#!/bin/zsh
suid_results_file=$1
if [[ -f "$suid_results_file" ]]; then
        echo "This file already exists."
        </span><span class="koboSpan" id="kobo.606.2">exit
fi
ls -ld /**/*(s) &gt; "$suid_results_file"
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.607.1">With this script, you’ll specify the name of the file where you want the results to be saved. </span><span class="koboSpan" id="kobo.607.2">If there’s already a file with that filename, the script will give you a warning message and then exit.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.608.1">You can use any of the other globbing qualifiers in the same manner. </span><span class="koboSpan" id="kobo.608.2">For example, let’s say </span><a id="_idIndexMarker1437"/><span class="koboSpan" id="kobo.609.1">that you need to search through the entire filesystem for files that belong to you. </span><span class="koboSpan" id="kobo.609.2">Let’s see how that works:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.610.1">ubuntu2404% ls -ld /**/*(U) | less
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.611.1">This will make for a very long list, so I have to pipe this into </span><code class="inlineCode"><span class="koboSpan" id="kobo.612.1">less</span></code><span class="koboSpan" id="kobo.613.1"> to prevent the output from scrolling off the top of the screen. </span><span class="koboSpan" id="kobo.613.2">Here’s some of what you’ll see:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.614.1">crw--w----  1 donnie tty    136, 0 Sep  3 20:04 /dev/pts/0
crw-------  1 donnie tty      4, 1 Sep  3 19:24 /dev/tty1
drwxr-x--- 13 donnie donnie   4096 Sep  3 20:02 /home/donnie
-rw-rw-r--  1 donnie donnie     44 Jul 24 20:53 /home/donnie/acl_demo.sh
drwxr-xr-x  2 donnie donnie   4096 Jun 29 21:10 /home/donnie/bashlib-0.4
. </span><span class="koboSpan" id="kobo.614.2">. </span><span class="koboSpan" id="kobo.614.3">.
</span><span class="koboSpan" id="kobo.614.4">. </span><span class="koboSpan" id="kobo.614.5">. </span><span class="koboSpan" id="kobo.614.6">.
</span><span class="koboSpan" id="kobo.614.7">-rw-r--r--  1 donnie donnie      0 Sep  3 19:24 /sys/fs/cgroup/user.slice/user-1000.slice/user@1000.service/memory.reclaim
-rwxrwxrwx  1 donnie donnie   2155 Jul  5 19:31 /usr/bin/deshc
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.615.1">As you see, a typical Linux system has files that belong to you all over the place.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.616.1">This is one clear advantage that </span><code class="inlineCode"><span class="koboSpan" id="kobo.617.1">zsh</span></code><span class="koboSpan" id="kobo.618.1"> has over every other shell, including </span><code class="inlineCode"><span class="koboSpan" id="kobo.619.1">bash</span></code><span class="koboSpan" id="kobo.620.1">. </span><span class="koboSpan" id="kobo.620.2">The extended file globbing capabilities of </span><code class="inlineCode"><span class="koboSpan" id="kobo.621.1">zsh</span></code><span class="koboSpan" id="kobo.622.1"> can replace much of the functionality of </span><code class="inlineCode"><span class="koboSpan" id="kobo.623.1">find</span></code><span class="koboSpan" id="kobo.624.1">, but with much simpler syntax. </span><span class="koboSpan" id="kobo.624.2">(Of course, you can also use this trick with other utilities besides </span><code class="inlineCode"><span class="koboSpan" id="kobo.625.1">ls</span></code><span class="koboSpan" id="kobo.626.1">, such as </span><code class="inlineCode"><span class="koboSpan" id="kobo.627.1">cp</span></code><span class="koboSpan" id="kobo.628.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.629.1">mv</span></code><span class="koboSpan" id="kobo.630.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.631.1">rm</span></code><span class="koboSpan" id="kobo.632.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.633.1">chmod</span></code><span class="koboSpan" id="kobo.634.1">, or </span><code class="inlineCode"><span class="koboSpan" id="kobo.635.1">chown</span></code><span class="koboSpan" id="kobo.636.1">.)</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.637.1">You can also use </span><code class="inlineCode"><span class="koboSpan" id="kobo.638.1">zsh</span></code><span class="koboSpan" id="kobo.639.1"> file globbing to replace utilities such as </span><code class="inlineCode"><span class="koboSpan" id="kobo.640.1">grep</span></code><span class="koboSpan" id="kobo.641.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.642.1">awk</span></code><span class="koboSpan" id="kobo.643.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.644.1">tr</span></code><span class="koboSpan" id="kobo.645.1">. </span><span class="koboSpan" id="kobo.645.2">Honestly though, the syntax for globbing commands that replace those utilities is so convoluted that you’re better off using the utilities. </span><span class="koboSpan" id="kobo.645.3">On the other hand, using </span><code class="inlineCode"><span class="koboSpan" id="kobo.646.1">zsh</span></code><span class="koboSpan" id="kobo.647.1"> file globbing instead could make your scripts somewhat lighter and faster. </span><span class="koboSpan" id="kobo.647.2">And, you can use file globbing in those rare cases where you might find that the utilities aren’t installed.</span></p>
      <p class="normal"><span class="koboSpan" id="kobo.648.1">At any rate, if you want to read about the additional file globbing capabilities of </span><code class="inlineCode"><span class="koboSpan" id="kobo.649.1">zsh</span></code><span class="koboSpan" id="kobo.650.1">, here’s the link:</span></p>
      <p class="normal"><span class="koboSpan" id="kobo.651.1">Zsh Native Scripting Handbook:</span></p>
      <p class="normal"><a href="https://github.zshell.dev/docs/zsh/Zsh-Native-Scripting-Handbook.html"><span class="url"><span class="koboSpan" id="kobo.652.1">https://github.zshell.dev/docs/zsh/Zsh-Native-Scripting-Handbook.html</span></span></a></p>
      <p class="normal"><span class="koboSpan" id="kobo.653.1">You can also find out more about both file globbing and variable expansion by reading the </span><code class="inlineCode"><span class="koboSpan" id="kobo.654.1">zshexpn</span></code><span class="koboSpan" id="kobo.655.1"> man page.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.656.1">All right, let’s talk </span><a id="_idIndexMarker1438"/><span class="koboSpan" id="kobo.657.1">briefly about arrays.</span></p>
    <h2 id="_idParaDest-480" class="heading 2"><span class="koboSpan" id="kobo.658.1">Understanding zsh Arrays</span></h2>
    <p class="normal"><span class="koboSpan" id="kobo.659.1">This </span><a id="_idIndexMarker1439"/><span class="koboSpan" id="kobo.660.1">will be quick, because there are only three things that I want to point out about </span><code class="inlineCode"><span class="koboSpan" id="kobo.661.1">zsh</span></code><span class="koboSpan" id="kobo.662.1"> arrays. </span><span class="koboSpan" id="kobo.662.2">The first thing is that instead of having array index numbers begin with 0, as is the case with </span><code class="inlineCode"><span class="koboSpan" id="kobo.663.1">bash</span></code><span class="koboSpan" id="kobo.664.1"> arrays, the index numbers for </span><code class="inlineCode"><span class="koboSpan" id="kobo.665.1">zsh</span></code><span class="koboSpan" id="kobo.666.1"> arrays begin with 1. </span><span class="koboSpan" id="kobo.666.2">Here’s how it looks on </span><code class="inlineCode"><span class="koboSpan" id="kobo.667.1">bash</span></code><span class="koboSpan" id="kobo.668.1">:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.669.1">donnie@fedora:~$ mybasharray=(vicky cleopatra horatio)
donnie@fedora:~$ echo ${mybasharray[0]}
vicky
donnie@fedora:~$ echo ${mybasharray[1]}
cleopatra
donnie@fedora:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.670.1">You see how using an index number of 0 brings up the first name in the list, and an index number of 1 brings up the second name. </span><span class="koboSpan" id="kobo.670.2">Now, here’s how it looks on </span><code class="inlineCode"><span class="koboSpan" id="kobo.671.1">zsh</span></code><span class="koboSpan" id="kobo.672.1">:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.673.1">ubuntu2404% myzsharray=(vicky cleopatra horatio)
ubuntu2404% echo ${myzsharray[0]}
ubuntu2404% echo ${myzsharray[1]}
vicky
ubuntu2404% echo ${myzsharray[2]}
cleopatra
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.674.1">This time, the index number of 0 brings up nothing, because index 0 doesn’t exist.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.675.1">The second big difference is in how you can view the entire contents of an array. </span><span class="koboSpan" id="kobo.675.2">With </span><code class="inlineCode"><span class="koboSpan" id="kobo.676.1">bash</span></code><span class="koboSpan" id="kobo.677.1">, you need to do something like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.678.1">donnie@fedora:~$ echo ${mybasharray[@]}
vicky cleopatra horatio
donnie@fedora:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.679.1">You can still do this on </span><code class="inlineCode"><span class="koboSpan" id="kobo.680.1">zsh</span></code><span class="koboSpan" id="kobo.681.1"> if you like, but you don’t have to. </span><span class="koboSpan" id="kobo.681.2">Instead, you can just view the contents of the array the same as you’d view the value of a normal variable, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.682.1">ubuntu2404% echo $myzsharray  
vicky cleopatra horatio
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.683.1">Finally, I </span><a id="_idIndexMarker1440"/><span class="koboSpan" id="kobo.684.1">want to show you how to eliminate duplicate entries that might be in a array. </span><span class="koboSpan" id="kobo.684.2">To demonstrate, let’s create an array with a list of fruits, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.685.1">ubuntu2404% fruits=(orange apple orange banana kiwi banana apple orange)
ubuntu2404% echo $fruits
orange apple orange banana kiwi banana apple orange
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.686.1">As you see, there are several duplicates in the list. </span><span class="koboSpan" id="kobo.686.2">To get rid of the duplicates, just do this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.687.1">ubuntu2404% echo ${(u)fruits}
orange apple banana kiwi
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.688.1">Replacing the </span><code class="inlineCode"><span class="koboSpan" id="kobo.689.1">(u)</span></code><span class="koboSpan" id="kobo.690.1"> with </span><code class="inlineCode"><span class="koboSpan" id="kobo.691.1">(U)</span></code><span class="koboSpan" id="kobo.692.1"> prints out the entire list in upper-case letters.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.693.1">ubuntu2404% echo ${(U)fruits}
ORANGE APPLE ORANGE BANANA KIWI BANANA APPLE ORANGE
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.694.1">Combine the </span><code class="inlineCode"><span class="koboSpan" id="kobo.695.1">u</span></code><span class="koboSpan" id="kobo.696.1"> with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.697.1">U</span></code><span class="koboSpan" id="kobo.698.1">, and you’ll eliminate duplicates and print out the list in upper-case letters.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.699.1">ubuntu2404% echo ${(uU)fruits}
ORANGE APPLE BANANA KIWI
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.700.1">To show this in practice, let’s look at the </span><code class="inlineCode"><span class="koboSpan" id="kobo.701.1">fruit_array.sh</span></code><span class="koboSpan" id="kobo.702.1"> script:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.703.1">#!/bin/zsh
fruits=(apple orange banana apple orange kiwi)
echo "Let's look at the entire list of fruits."
</span><span class="koboSpan" id="kobo.703.2">for fruit in $fruits; do
        echo $fruit
done
echo "*****************"
echo "*****************"
echo "Now, let's eliminate the duplicate fruits."
</span><span class="koboSpan" id="kobo.703.3">printf "%s\n" ${(u)fruits}
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.704.1">In the</span><a id="_idIndexMarker1441"/><span class="koboSpan" id="kobo.705.1"> first stanza, I’m using a </span><code class="inlineCode"><span class="koboSpan" id="kobo.706.1">for</span></code><span class="koboSpan" id="kobo.707.1"> loop to print out each individual fruit that’s in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.708.1">fruits</span></code><span class="koboSpan" id="kobo.709.1"> array. </span><span class="koboSpan" id="kobo.709.2">In the second stanza, I wanted to print out each individual fruit, without the duplicates. </span><span class="koboSpan" id="kobo.709.3">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.710.1">echo</span></code><span class="koboSpan" id="kobo.711.1"> would have printed all of the fruits out on a single line, as I showed you in the command-line example above. </span><span class="koboSpan" id="kobo.711.2">So instead of </span><code class="inlineCode"><span class="koboSpan" id="kobo.712.1">echo</span></code><span class="koboSpan" id="kobo.713.1">, I used </span><code class="inlineCode"><span class="koboSpan" id="kobo.714.1">printf</span></code><span class="koboSpan" id="kobo.715.1">. </span><span class="koboSpan" id="kobo.715.2">Here, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.716.1">%s</span></code><span class="koboSpan" id="kobo.717.1"> parameter tells </span><code class="inlineCode"><span class="koboSpan" id="kobo.718.1">printf</span></code><span class="koboSpan" id="kobo.719.1"> to print the designated text strings, which in this case is each member of the array. </span><span class="koboSpan" id="kobo.719.2">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.720.1">\n</span></code><span class="koboSpan" id="kobo.721.1"> option inserts a newline after each fruit. </span><span class="koboSpan" id="kobo.721.2">Running the script looks like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.722.1">ubuntu2404% ./fruit_array.sh
Let's look at the entire list of fruits.
</span><span class="koboSpan" id="kobo.722.2">apple
orange
banana
apple
orange
kiwi
*****************
*****************
Now, let's eliminate the duplicate fruits.
</span><span class="koboSpan" id="kobo.722.3">apple
orange
banana
kiwi
ubuntu2404%
</span></code></pre>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.723.1">There are actually a lot more things that you can do with arrays than I can show you here. </span><span class="koboSpan" id="kobo.723.2">To read about them, take a look at the </span><code class="inlineCode"><span class="koboSpan" id="kobo.724.1">zshexpn</span></code><span class="koboSpan" id="kobo.725.1"> man page.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.726.1">That does it for</span><a id="_idIndexMarker1442"/><span class="koboSpan" id="kobo.727.1"> arrays. </span><span class="koboSpan" id="kobo.727.2">So now, let’s talk about math.</span></p>
    <h2 id="_idParaDest-481" class="heading 2"><span class="koboSpan" id="kobo.728.1">Enhanced Math Capabilities</span></h2>
    <p class="normal"><span class="koboSpan" id="kobo.729.1">In </span><em class="chapterRef"><span class="koboSpan" id="kobo.730.1">Chapter 11—Performing Mathematical Operations</span></em><span class="koboSpan" id="kobo.731.1">, I explained that </span><code class="inlineCode"><span class="koboSpan" id="kobo.732.1">bash</span></code><span class="koboSpan" id="kobo.733.1"> has only</span><a id="_idIndexMarker1443"/><span class="koboSpan" id="kobo.734.1"> limited builtin math capabilities, and that it can only work with integers. </span><span class="koboSpan" id="kobo.734.2">For anything beyond that, you’ll need to use an external program, such as </span><code class="inlineCode"><span class="koboSpan" id="kobo.735.1">bc</span></code><span class="koboSpan" id="kobo.736.1">, in your </span><code class="inlineCode"><span class="koboSpan" id="kobo.737.1">bash</span></code><span class="koboSpan" id="kobo.738.1"> scripts. </span><span class="koboSpan" id="kobo.738.2">On the other hand, </span><code class="inlineCode"><span class="koboSpan" id="kobo.739.1">zsh</span></code><span class="koboSpan" id="kobo.740.1"> has expanded math capabilities built right in.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.741.1">For our first example, let’s try to divide 5 by 2 from the </span><code class="inlineCode"><span class="koboSpan" id="kobo.742.1">zsh</span></code><span class="koboSpan" id="kobo.743.1"> command-line:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.744.1">ubuntu2404% echo $((5/2))
2
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.745.1">Well, that wasn’t what I wanted. </span><span class="koboSpan" id="kobo.745.2">I should see a final answer of 2.5, instead of 2. </span><span class="koboSpan" id="kobo.745.3">What’s going on? </span><span class="koboSpan" id="kobo.745.4">The answer is that to perform floating point math, you have to explicitly express one of the numbers as a floating point number. </span><span class="koboSpan" id="kobo.745.5">So, let’s fix that.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.746.1">ubuntu2404% echo $((5.0/2))
2.5
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.747.1">Much better. </span><span class="koboSpan" id="kobo.747.2">By expressing the first number as 5.0 instead of 5, the floating point math works. </span><span class="koboSpan" id="kobo.747.3">Unfortunately though, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.748.1">zsh</span></code><span class="koboSpan" id="kobo.749.1"> math isn’t quite perfect. </span><span class="koboSpan" id="kobo.749.2">I mean, it worked fine for this division example, but watch what happens when I try any other operation:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.750.1">ubuntu2404% echo $((2.1+2.1))
4.2000000000000002
ubuntu2404% echo $((2.1*2))
4.2000000000000002
ubuntu2404% echo $((2.1-2))
0.10000000000000009
ubuntu2404% echo $((2.1%2))
0.10000000000000009
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.751.1">For some</span><a id="_idIndexMarker1444"/><span class="koboSpan" id="kobo.752.1"> reason that I don’t understand, </span><code class="inlineCode"><span class="koboSpan" id="kobo.753.1">zsh</span></code><span class="koboSpan" id="kobo.754.1"> adds extra trailing digits after the decimal point. </span><span class="koboSpan" id="kobo.754.2">It wouldn’t matter much if they were all zeros, but you also have the spurious 2 and 9 at the end, which throws off our calculations. </span><span class="koboSpan" id="kobo.754.3">Fortunately, we can easily correct that by just assigning the results to a variable, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.755.1">ubuntu2404% ((sum=2.1+2.1))
ubuntu2404% echo $sum
4.2000000000
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.756.1">The trailing zeros are still there, but at least the spurious 2 and 9 digits aren’t.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.757.1">Even after some rather extensive research, I was never able to find any command or option switch that I can use to specify the number of digits to show past the decimal point.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.758.1">Grouping </span><a id="_idIndexMarker1445"/><span class="koboSpan" id="kobo.759.1">math operations, in order to specify their precedence, looks like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.760.1">ubuntu2404% ((product=(2.1+2.1)*8))
ubuntu2404% echo $product        
33.6000000000
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.761.1">If just simple math isn’t enough for you, you can load the </span><code class="inlineCode"><span class="koboSpan" id="kobo.762.1">mathfunc</span></code><span class="koboSpan" id="kobo.763.1"> module, which I’ll show you in the next section.</span></p>
    <h1 id="_idParaDest-482" class="heading 1"><span class="koboSpan" id="kobo.764.1">Using zsh Modules</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.765.1">A lot </span><a id="_idIndexMarker1446"/><span class="koboSpan" id="kobo.766.1">of </span><code class="inlineCode"><span class="koboSpan" id="kobo.767.1">zsh</span></code><span class="koboSpan" id="kobo.768.1"> functionality is contained in loadable </span><code class="inlineCode"><span class="koboSpan" id="kobo.769.1">zsh</span></code><span class="koboSpan" id="kobo.770.1"> modules. </span><span class="koboSpan" id="kobo.770.2">I can’t cover all of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.771.1">zsh</span></code><span class="koboSpan" id="kobo.772.1"> modules in this chapter, so let’s just look at some of the more useful ones.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.773.1">First, let’s see which modules get loaded into a </span><code class="inlineCode"><span class="koboSpan" id="kobo.774.1">zsh</span></code><span class="koboSpan" id="kobo.775.1"> session by default:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.776.1">ubuntu2404% zmodload
zsh/complete
zsh/computil
zsh/main
zsh/parameter
zsh/stat
zsh/terminfo
zsh/zle
zsh/zutil
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.777.1">There are</span><a id="_idIndexMarker1447"/><span class="koboSpan" id="kobo.778.1"> a lot more optional modules that you can load yourself by using the </span><code class="inlineCode"><span class="koboSpan" id="kobo.779.1">zmodload</span></code><span class="koboSpan" id="kobo.780.1"> command, as we’ll see next.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.781.1">To read about all of the available </span><code class="inlineCode"><span class="koboSpan" id="kobo.782.1">zsh</span></code><span class="koboSpan" id="kobo.783.1"> modules, see the </span><code class="inlineCode"><span class="koboSpan" id="kobo.784.1">zshmodules</span></code><span class="koboSpan" id="kobo.785.1"> man page.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.786.1">Now, let’s get a bit more specific by looking at the </span><code class="inlineCode"><span class="koboSpan" id="kobo.787.1">mathfunc </span></code><span class="koboSpan" id="kobo.788.1">module.</span></p>
    <h2 id="_idParaDest-483" class="heading 2"><span class="koboSpan" id="kobo.789.1">Using the mathfunc Module</span></h2>
    <p class="normal"><span class="koboSpan" id="kobo.790.1">If you </span><a id="_idIndexMarker1448"/><span class="koboSpan" id="kobo.791.1">want to create some really fancy </span><a id="_idIndexMarker1449"/><span class="koboSpan" id="kobo.792.1">math scripts </span><a id="_idIndexMarker1450"/><span class="koboSpan" id="kobo.793.1">without having to use an external utility such as </span><code class="inlineCode"><span class="koboSpan" id="kobo.794.1">bc</span></code><span class="koboSpan" id="kobo.795.1">, just load the </span><code class="inlineCode"><span class="koboSpan" id="kobo.796.1">mathfunc</span></code><span class="koboSpan" id="kobo.797.1"> module, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.798.1">ubuntu2404% zmodload zsh/mathfunc
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.799.1">This module provides functions for trigonometry, logarithms, exponentiation, as well as some</span><a id="_idIndexMarker1451"/><span class="koboSpan" id="kobo.800.1"> other math functions. </span><span class="koboSpan" id="kobo.800.2">You can see all the functions that the modules provide, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.801.1">ubuntu2404% zmodload -lF zsh/mathfunc
+f:abs
+f:acos
+f:acosh
+f:asin
+f:asinh
. </span><span class="koboSpan" id="kobo.801.2">. </span><span class="koboSpan" id="kobo.801.3">.
</span><span class="koboSpan" id="kobo.801.4">. </span><span class="koboSpan" id="kobo.801.5">. </span><span class="koboSpan" id="kobo.801.6">.
</span><span class="koboSpan" id="kobo.801.7">+f:y0
+f:y1
+f:yn
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.802.1">So now, let’s say that you want to see the square root of 9. </span><span class="koboSpan" id="kobo.802.2">Do it like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.803.1">ubuntu2404% ((squareroot=sqrt(9)))
ubuntu2404% echo $squareroot
3.0000000000
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.804.1">Now, let’s put this into the </span><code class="inlineCode"><span class="koboSpan" id="kobo.805.1">squareroot.sh</span></code><span class="koboSpan" id="kobo.806.1"> script:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.807.1">#!/bin/zsh
zmodload zsh/mathfunc
your_number=$1
((squareroot=sqrt(your_number)))
echo $squareroot
</span></code></pre>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.808.1">Note here that I’ve had to place a </span><code class="inlineCode"><span class="koboSpan" id="kobo.809.1">zmodload zsh/mathfunc</span></code><span class="koboSpan" id="kobo.810.1"> command at the beginning of this script. </span><span class="koboSpan" id="kobo.810.2">That’s because every time you close your terminal or log out of your machine, any modules that you’ve loaded from the command-line will automatically unload. </span><span class="koboSpan" id="kobo.810.3">So, you’ll have to add this </span><code class="inlineCode"><span class="koboSpan" id="kobo.811.1">zmodload</span></code><span class="koboSpan" id="kobo.812.1"> command to your scripts.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.813.1">Here, I’m </span><a id="_idIndexMarker1452"/><span class="koboSpan" id="kobo.814.1">using the </span><code class="inlineCode"><span class="koboSpan" id="kobo.815.1">your_number</span></code><span class="koboSpan" id="kobo.816.1"> variable to contain the value of the number that the user </span><a id="_idIndexMarker1453"/><span class="koboSpan" id="kobo.817.1">specifies for the </span><code class="inlineCode"><span class="koboSpan" id="kobo.818.1">$1</span></code><span class="koboSpan" id="kobo.819.1"> parameter. </span><span class="koboSpan" id="kobo.819.2">Let’s see if it works.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.820.1">ubuntu2404% ./squareroot.sh 9
3.0000000000
ubuntu2404% ./squareroot.sh 25
5.0000000000
ubuntu2404% ./squareroot.sh 2
1.4142135624
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.821.1">Oh yeah, it works just fine, and all without messing with any external programs, such as </span><code class="inlineCode"><span class="koboSpan" id="kobo.822.1">bc</span></code><span class="koboSpan" id="kobo.823.1">.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.824.1">All of the other </span><code class="inlineCode"><span class="koboSpan" id="kobo.825.1">mathfunc</span></code><span class="koboSpan" id="kobo.826.1"> functions work in a similar manner. </span><span class="koboSpan" id="kobo.826.2">Use your own imagination and the scripting concepts that I’ve shown you for </span><code class="inlineCode"><span class="koboSpan" id="kobo.827.1">bash</span></code><span class="koboSpan" id="kobo.828.1"> to come up with your own </span><code class="inlineCode"><span class="koboSpan" id="kobo.829.1">zsh</span></code><span class="koboSpan" id="kobo.830.1"> math scripts.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.831.1">That does it for your introduction of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.832.1">mathfunc</span></code><span class="koboSpan" id="kobo.833.1"> module. </span><span class="koboSpan" id="kobo.833.2">Next, let’s briefly look at the </span><code class="inlineCode"><span class="koboSpan" id="kobo.834.1">datetime</span></code><span class="koboSpan" id="kobo.835.1"> module.</span></p>
    <h2 id="_idParaDest-484" class="heading 2"><span class="koboSpan" id="kobo.836.1">The datetime Module</span></h2>
    <p class="normal"><span class="koboSpan" id="kobo.837.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.838.1">datetime</span></code><span class="koboSpan" id="kobo.839.1"> module </span><a id="_idIndexMarker1454"/><span class="koboSpan" id="kobo.840.1">does pretty much the</span><a id="_idIndexMarker1455"/><span class="koboSpan" id="kobo.841.1"> same job as the </span><code class="inlineCode"><span class="koboSpan" id="kobo.842.1">date</span></code><span class="koboSpan" id="kobo.843.1"> utility. </span><span class="koboSpan" id="kobo.843.2">You can use either one to do cool things, like creating files </span><a id="_idIndexMarker1456"/><span class="koboSpan" id="kobo.844.1">with timestamps in their filenames. </span><span class="koboSpan" id="kobo.844.2">It’s not loaded by default, so let’s do that now:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.845.1">ubuntu2404% zmodload zsh/datetime
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.846.1">Now, let’s see what it provides:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.847.1">ubuntu2404% zmodload -lF zsh/datetime
+b:strftime
+p:EPOCHSECONDS
+p:EPOCHREALTIME
+p:epochtime
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.848.1">Here’s the breakdown</span><a id="_idIndexMarker1457"/><span class="koboSpan" id="kobo.849.1"> of what you’re looking at:</span></p>
    <ul>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.850.1">strftime</span></code><span class="koboSpan" id="kobo.851.1">: This is the only function that this module contains. </span><span class="koboSpan" id="kobo.851.2">You can use it the same as you’d use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.852.1">date</span></code><span class="koboSpan" id="kobo.853.1"> utility.</span></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.854.1">EPOCHSECONDS</span></code><span class="koboSpan" id="kobo.855.1">: This environmental variable is an integer value that represents the number of seconds that have elapsed since the beginning of the Unix epoch. </span><span class="koboSpan" id="kobo.855.2">This variable is also available in </span><code class="inlineCode"><span class="koboSpan" id="kobo.856.1">bash</span></code><span class="koboSpan" id="kobo.857.1">.</span></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.858.1">EPOCHREALTIME</span></code><span class="koboSpan" id="kobo.859.1">: This environmental variable is a floating point value that represents the number of seconds that have elapsed since the beginning of the Unix epoch. </span><span class="koboSpan" id="kobo.859.2">Depending upon the particular system, this value can be to either nanosecond or microsecond accuracy. </span><span class="koboSpan" id="kobo.859.3">This variable is also available in </span><code class="inlineCode"><span class="koboSpan" id="kobo.860.1">bash</span></code><span class="koboSpan" id="kobo.861.1">.</span></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.862.1">epochtime</span></code><span class="koboSpan" id="kobo.863.1">: This variable contains two components. </span><span class="koboSpan" id="kobo.863.2">It’s like the </span><code class="inlineCode"><span class="koboSpan" id="kobo.864.1">EPOCHREALTIME </span></code><span class="koboSpan" id="kobo.865.1">variable, except that the decimal point is replaced by a blank space. </span><span class="koboSpan" id="kobo.865.2">This variable is not available in </span><code class="inlineCode"><span class="koboSpan" id="kobo.866.1">bash</span></code><span class="koboSpan" id="kobo.867.1">.</span></li>
    </ul>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.868.1">The Unix epoch began on 1 January, 1970. </span><span class="koboSpan" id="kobo.868.2">In the early days of Unix, Unix developers decided that the easiest way to set the time on a Unix computer would be to express it as the number of seconds that have elapsed since that date.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.869.1">You can see</span><a id="_idIndexMarker1458"/><span class="koboSpan" id="kobo.870.1"> the current values of the three variables like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.871.1">ubuntu2404% echo $EPOCHSECONDS
1725470539
ubuntu2404% echo $EPOCHREALTIME
1725470545.8938724995
ubuntu2404% echo $epochtime
1725470552 124436538
ubuntu2404%
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.872.1">Now, let’s create the </span><code class="inlineCode"><span class="koboSpan" id="kobo.873.1">zsh_time.sh</span></code><span class="koboSpan" id="kobo.874.1"> script that uses the </span><code class="inlineCode"><span class="koboSpan" id="kobo.875.1">strftime</span></code><span class="koboSpan" id="kobo.876.1"> function:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.877.1">#!/bin/zsh
zmodload zsh/datetime
timestamp=$(strftime '%A-%F_%T')
echo "I want to create a file at $timestamp." </span><span class="koboSpan" id="kobo.877.2">&gt; "timefile_$timestamp.txt"
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.878.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.879.1">strftime</span></code><span class="koboSpan" id="kobo.880.1"> function </span><a id="_idIndexMarker1459"/><span class="koboSpan" id="kobo.881.1">uses the same date and time formatting options as the </span><code class="inlineCode"><span class="koboSpan" id="kobo.882.1">date</span></code><span class="koboSpan" id="kobo.883.1"> utility uses. </span><span class="koboSpan" id="kobo.883.2">In this case we have:</span></p>
    <ul>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.884.1">%A</span></code><span class="koboSpan" id="kobo.885.1">: This is the day of the week.</span></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.886.1">%F</span></code><span class="koboSpan" id="kobo.887.1">: This is the date in YYYY-MM-DD format.</span></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.888.1">%T</span></code><span class="koboSpan" id="kobo.889.1">: This is the time in HH:MM:SS format.</span></li>
    </ul>
    <p class="normal"><span class="koboSpan" id="kobo.890.1">The only real difference between using </span><code class="inlineCode"><span class="koboSpan" id="kobo.891.1">date</span></code><span class="koboSpan" id="kobo.892.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.893.1">strftime</span></code><span class="koboSpan" id="kobo.894.1"> is that with </span><code class="inlineCode"><span class="koboSpan" id="kobo.895.1">date</span></code><span class="koboSpan" id="kobo.896.1">, you have to precede the string of formatting options with a </span><code class="inlineCode"><span class="koboSpan" id="kobo.897.1">+</span></code><span class="koboSpan" id="kobo.898.1">, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.899.1">date +'%A-%F-%T'
</span></code></pre>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.900.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.901.1">strftime</span></code><span class="koboSpan" id="kobo.902.1"> function has its own man page, which you can view by doing </span><code class="inlineCode"><span class="koboSpan" id="kobo.903.1">man strftime</span></code><span class="koboSpan" id="kobo.904.1">.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.905.1">After I </span><a id="_idIndexMarker1460"/><span class="koboSpan" id="kobo.906.1">run</span><a id="_idIndexMarker1461"/><span class="koboSpan" id="kobo.907.1"> the script, I should have my file:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.908.1">ubuntu2404% ./zsh_time.sh                             
ubuntu2404% ls -l timefile_*                               
-rw-rw-r-- 1 donnie donnie 58 Sep  4 18:16 timefile_Wednesday-2024-09-04_18:16:37.txt
ubuntu2404% cat timefile_Wednesday-2024-09-04_18:16:37.txt
I want to create a file at Wednesday-2024-09-04_18:16:37.
</span><span class="koboSpan" id="kobo.908.2">ubuntu2404%
</span></code></pre>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.909.1">I’ve covered what I believe are the most useful modules. </span><span class="koboSpan" id="kobo.909.2">If you want to read about the rest of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.910.1">zsh</span></code><span class="koboSpan" id="kobo.911.1"> modules, take a look at the </span><code class="inlineCode"><span class="koboSpan" id="kobo.912.1">zshmodules</span></code><span class="koboSpan" id="kobo.913.1"> man page.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.914.1">I think that this will just about do it for our introduction to </span><code class="inlineCode"><span class="koboSpan" id="kobo.915.1">zsh</span></code><span class="koboSpan" id="kobo.916.1"> scripting. </span><span class="koboSpan" id="kobo.916.2">Let’s wrap up and move on.</span></p>
    <h1 id="_idParaDest-485" class="heading 1"><span class="koboSpan" id="kobo.917.1">Summary</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.918.1">In this chapter, I introduced you to the concept of scripting in </span><code class="inlineCode"><span class="koboSpan" id="kobo.919.1">zsh</span></code><span class="koboSpan" id="kobo.920.1"> instead of in </span><code class="inlineCode"><span class="koboSpan" id="kobo.921.1">bash</span></code><span class="koboSpan" id="kobo.922.1">. </span><span class="koboSpan" id="kobo.922.2">I began by showing you how to install </span><code class="inlineCode"><span class="koboSpan" id="kobo.923.1">zsh</span></code><span class="koboSpan" id="kobo.924.1">, if it isn’t installed already. </span><span class="koboSpan" id="kobo.924.2">I showed you some of the differences between </span><code class="inlineCode"><span class="koboSpan" id="kobo.925.1">bash</span></code><span class="koboSpan" id="kobo.926.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.927.1">zsh</span></code><span class="koboSpan" id="kobo.928.1"> features that could impact how you’d write a </span><code class="inlineCode"><span class="koboSpan" id="kobo.929.1">zsh</span></code><span class="koboSpan" id="kobo.930.1"> script. </span><span class="koboSpan" id="kobo.930.2">These include differences in file globbing, variable expansion, array indexing, and math operations. </span><span class="koboSpan" id="kobo.930.3">Along the way, I showed you how these </span><code class="inlineCode"><span class="koboSpan" id="kobo.931.1">zsh</span></code><span class="koboSpan" id="kobo.932.1"> features can help you build scripts that are simpler, yet more functional, than </span><code class="inlineCode"><span class="koboSpan" id="kobo.933.1">bash</span></code><span class="koboSpan" id="kobo.934.1"> scripts.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.935.1">The main problem with </span><code class="inlineCode"><span class="koboSpan" id="kobo.936.1">zsh</span></code><span class="koboSpan" id="kobo.937.1"> scripting, other than the fact that </span><code class="inlineCode"><span class="koboSpan" id="kobo.938.1">bash</span></code><span class="koboSpan" id="kobo.939.1"> is much more prevalent, is the lack of documentation. </span><span class="koboSpan" id="kobo.939.2">There are plenty of tutorials and articles about setting up a </span><code class="inlineCode"><span class="koboSpan" id="kobo.940.1">zsh</span></code><span class="koboSpan" id="kobo.941.1"> user environment, but very little about </span><code class="inlineCode"><span class="koboSpan" id="kobo.942.1">zsh</span></code><span class="koboSpan" id="kobo.943.1"> scripting. </span><span class="koboSpan" id="kobo.943.2">Hopefully, you’ll be able to use the knowledge that I’ve provided here to write some cool </span><code class="inlineCode"><span class="koboSpan" id="kobo.944.1">zsh</span></code><span class="koboSpan" id="kobo.945.1"> scripts.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.946.1">In the next and final chapter, I’ll introduce you to the idea of using PowerShell on Linux. </span><span class="koboSpan" id="kobo.946.2">(Yes, you read that correctly.) I’ll see you there.</span></p>
    <h1 id="_idParaDest-486" class="heading 1"><span class="koboSpan" id="kobo.947.1">Questions</span></h1>
    <ol>
      <li class="numberedList" value="1"><span class="koboSpan" id="kobo.948.1">Which command would you use to view all of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.949.1">zsh</span></code><span class="koboSpan" id="kobo.950.1"> modules that have been loaded into your </span><code class="inlineCode"><span class="koboSpan" id="kobo.951.1">zsh</span></code><span class="koboSpan" id="kobo.952.1"> session?</span><ol>
          <li class="alphabeticList level 2" value="1"> <code class="inlineCode"><span class="koboSpan" id="kobo.953.1">zmodls</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.954.1">zmod -l</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.955.1">zmodload -l</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.956.1">zmodload</span></code></li>
        </ol>
      </li>
      <li class="numberedList"><span class="koboSpan" id="kobo.957.1">You want to load the math function module. </span><span class="koboSpan" id="kobo.957.2">Which of these commands would you use?</span><ol>
          <li class="alphabeticList level 2" value="1"> <code class="inlineCode"><span class="koboSpan" id="kobo.958.1">zmod mathfunc</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.959.1">zmod zsh/mathfunc</span></code></li>
          <li class="alphabeticList level 2"> <code class="inlineCode"><span class="koboSpan" id="kobo.960.1">zmodload -l mathfunc</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.961.1">zmodload -l zsh/mathfunc</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.962.1">zmodload zsh/mathfunc</span></code></li>
        </ol>
      </li>
      <li class="numberedList"><span class="koboSpan" id="kobo.963.1">What is a major difference between the way that </span><code class="inlineCode"><span class="koboSpan" id="kobo.964.1">bash</span></code><span class="koboSpan" id="kobo.965.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.966.1">zsh</span></code><span class="koboSpan" id="kobo.967.1"> handle arrays?</span><ol>
          <li class="alphabeticList level 2" value="1"><span class="koboSpan" id="kobo.968.1">There is no difference.</span></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.969.1">bash</span></code><span class="koboSpan" id="kobo.970.1"> array indexing begins at 1, </span><code class="inlineCode"><span class="koboSpan" id="kobo.971.1">zsh</span></code><span class="koboSpan" id="kobo.972.1"> array indexing begins at 0.</span></li>
          <li class="alphabeticList level 2"> <code class="inlineCode"><span class="koboSpan" id="kobo.973.1">bash</span></code><span class="koboSpan" id="kobo.974.1"> array indexing begins at 0, </span><code class="inlineCode"><span class="koboSpan" id="kobo.975.1">zsh</span></code><span class="koboSpan" id="kobo.976.1"> array indexing begins at 1.</span></li>
          <li class="alphabeticList level 2"> <code class="inlineCode"><span class="koboSpan" id="kobo.977.1">bash</span></code><span class="koboSpan" id="kobo.978.1"> can work with arrays, but </span><code class="inlineCode"><span class="koboSpan" id="kobo.979.1">zsh</span></code><span class="koboSpan" id="kobo.980.1"> can’t.</span></li>
        </ol>
      </li>
      <li class="numberedList"><span class="koboSpan" id="kobo.981.1">Which </span><code class="inlineCode"><span class="koboSpan" id="kobo.982.1">zsh</span></code><span class="koboSpan" id="kobo.983.1"> command would you use to view all of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.984.1">.png</span></code><span class="koboSpan" id="kobo.985.1"> files and all of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.986.1">.PNG</span></code><span class="koboSpan" id="kobo.987.1"> files that are in your directory?</span><ol>
          <li class="alphabeticList level 2" value="1"> <code class="inlineCode"><span class="koboSpan" id="kobo.988.1">ls *.png</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.989.1">ls (#i).png</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.990.1">ls (#l).PNG</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.991.1">ls *.PNG</span></code></li>
        </ol>
      </li>
      <li class="numberedList"><span class="koboSpan" id="kobo.992.1">You only want to view the empty directories that are in your current working directory. </span><span class="koboSpan" id="kobo.992.2">Which of these </span><code class="inlineCode"><span class="koboSpan" id="kobo.993.1">zsh</span></code><span class="koboSpan" id="kobo.994.1"> commands would you use?</span><ol>
          <li class="alphabeticList level 2" value="1"><code class="inlineCode"><span class="koboSpan" id="kobo.995.1">ls -l *(/^F)</span></code></li>
          <li class="alphabeticList level 2"> <code class="inlineCode"><span class="koboSpan" id="kobo.996.1">ls -l *(^F)</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.997.1">ls -l *(F)</span></code></li>
          <li class="alphabeticList level 2"> <code class="inlineCode"><span class="koboSpan" id="kobo.998.1">ls -ld</span></code></li>
        </ol>
      </li>
    </ol>
    <h1 id="_idParaDest-487" class="heading 1"><span class="koboSpan" id="kobo.999.1">Further Reading</span></h1>
    <ul>
      <li class="bulletList"><span class="koboSpan" id="kobo.1000.1">The Z Shell Manual: </span><a href="https://zsh-manual.netlify.app/"><span class="url"><span class="koboSpan" id="kobo.1001.1">https://zsh-manual.netlify.app/</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.1002.1">What is ZSH, and Why Should You Use It Instead of Bash?: </span><a href="https://www.howtogeek.com/362409/what-is-zsh-and-why-should-you-use-it-instead-of-bash/"><span class="url"><span class="koboSpan" id="kobo.1003.1">https://www.howtogeek.com/362409/what-is-zsh-and-why-should-you-use-it-instead-of-bash/</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.1004.1">ZSH for Starters: Exploring Linux’s Elegant Shell: </span><a href="https://www.fosslinux.com/133167/zsh-for-beginners-exploring-linuxs-elegant-shell.htm"><span class="url"><span class="koboSpan" id="kobo.1005.1">https://www.fosslinux.com/133167/zsh-for-beginners-exploring-linuxs-elegant-shell.htm</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.1006.1">How to Write Script for ZSH: </span><a href="https://www.linuxtoday.com/blog/writing-scripts-for-zsh/"><span class="url"><span class="koboSpan" id="kobo.1007.1">https://www.linuxtoday.com/blog/writing-scripts-for-zsh/</span></span></a></li>
    </ul>
    <h1 id="_idParaDest-488" class="heading 1"><span class="koboSpan" id="kobo.1008.1">Answers</span></h1>
    <ol>
      <li class="numberedList" value="1"><span class="koboSpan" id="kobo.1009.1">d</span></li>
      <li class="numberedList"><span class="koboSpan" id="kobo.1010.1">e</span></li>
      <li class="numberedList"><span class="koboSpan" id="kobo.1011.1">c</span></li>
      <li class="numberedList"><span class="koboSpan" id="kobo.1012.1">b</span></li>
      <li class="numberedList"><span class="koboSpan" id="kobo.1013.1">a</span></li>
    </ol>
    <h1 id="_idParaDest-489" class="heading 1"><span class="koboSpan" id="kobo.1014.1">Join our community on Discord!</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.1015.1">Read this book alongside other users, Linux experts, and the author himself. </span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1016.1">Ask questions, provide solutions to other readers, chat with the author via Ask Me Anything sessions, and much more. </span><span class="koboSpan" id="kobo.1016.2">Scan the QR code or visit the link to join the community.</span></p>
    <p class="normal"><a href="https://packt.link/SecNet"><span class="url"><span class="koboSpan" id="kobo.1017.1">https://packt.link/SecNet</span></span></a></p>
    <p class="normal"><span class="koboSpan" id="kobo.1018.1"><img src="../Images/QR_Code10596186092701843.png" alt=""/></span></p>
  </div>
</body></html>