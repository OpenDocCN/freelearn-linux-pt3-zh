<html><head></head><body>
  <div id="_idContainer071" class="Basic-Text-Frame">
    <h1 class="chapterNumber"><span class="koboSpan" id="kobo.1.1">6</span></h1>
    <h1 id="_idParaDest-97" class="chapterTitle"><span class="koboSpan" id="kobo.2.1">Text-Stream Filters – Part 1</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.3.1">This is the first of two chapters in which I introduce the concept of text-stream filters. </span><span class="koboSpan" id="kobo.3.2">We’ll look at what they are and how to use them from the command-line. </span><span class="koboSpan" id="kobo.3.3">In the following chapters, I’ll present some examples of how these filter utilities can be used in shell scripts.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.4.1">There are two reasons why you should learn about these various utilities. </span><span class="koboSpan" id="kobo.4.2">First, they’re very helpful if you need to create shell scripts that can automate the creation of different types of documents, such as reports. </span><span class="koboSpan" id="kobo.4.3">The second reason is that they are covered on certain Linux certification exams, such as the CompTIA Linux+/Linux Professional Institute exams.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.5.1">Topics in this chapter include:</span></p>
    <ul>
      <li class="bulletList"><span class="koboSpan" id="kobo.6.1">Introduction to text-stream filters</span></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.7.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.8.1">cat</span></code></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.9.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.10.1">tac</span></code></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.11.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.12.1">cut</span></code></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.13.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.14.1">paste</span></code></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.15.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.16.1">join</span></code></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.17.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.18.1">sort</span></code></li>
    </ul>
    <p class="normal"><span class="koboSpan" id="kobo.19.1">Okay, let’s get cracking, shall we?</span></p>
    <h1 id="_idParaDest-98" class="heading 1"><span class="koboSpan" id="kobo.20.1">Technical Requirements</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.21.1">Use any of your Linux virtual machines for this chapter, because these filter utilities work the same on all of them. </span><span class="koboSpan" id="kobo.21.2">Or, if you just happen to be running either Linux or macOS on your host machine, feel free to use it instead of a virtual machine. </span><span class="koboSpan" id="kobo.21.3">There’s no hands-on lab, so feel free to try out all the commands on your own machine as you go through the chapter.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.22.1">You’ll be working with a lot of text files in both this chapter and the next one. </span><span class="koboSpan" id="kobo.22.2">For your convenience, I’ve placed the files in the GitHub repository. </span><span class="koboSpan" id="kobo.22.3">If you’re using Linux, the best way to retrieve them is to install </span><code class="inlineCode"><span class="koboSpan" id="kobo.23.1">git</span></code><span class="koboSpan" id="kobo.24.1"> on your system with your distro’s normal package manager. </span></p>
    <p class="normal"><span class="koboSpan" id="kobo.25.1">Then, use the following command to download the files:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.26.1">donnie@opensuse:~&gt; git clone https://github.com/PacktPublishing/The-Ultimate-Linux-Shell-Scripting-Guide.git
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.27.1">Then, </span><code class="inlineCode"><span class="koboSpan" id="kobo.28.1">cd</span></code><span class="koboSpan" id="kobo.29.1"> into the </span><code class="inlineCode"><span class="koboSpan" id="kobo.30.1">The-Ultimate-Linux-Shell-Scripting-Guide</span></code><span class="koboSpan" id="kobo.31.1"> directory that the </span><code class="inlineCode"><span class="koboSpan" id="kobo.32.1">git</span></code><span class="koboSpan" id="kobo.33.1"> command created, where you’ll find subdirectories for the various chapters.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.34.1">If you’re on a Mac, you’ll need to open the App Store and install the </span><code class="inlineCode"><span class="koboSpan" id="kobo.35.1">Xcode</span></code><span class="koboSpan" id="kobo.36.1"> package in order to use </span><code class="inlineCode"><span class="koboSpan" id="kobo.37.1">git</span></code><span class="koboSpan" id="kobo.38.1">. </span><span class="koboSpan" id="kobo.38.2">Then, use the command that I’ve just shown you to download the files.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.39.1">I’ve also included a few examples of how some of these utilities work on FreeBSD and OpenIndiana. </span><span class="koboSpan" id="kobo.39.2">You can create a FreeBSD and an OpenIndiana virtual machine if you like, but it’s not strictly necessary just yet.</span></p>
    <h1 id="_idParaDest-99" class="heading 1"><span class="koboSpan" id="kobo.40.1">Introduction to Text-Stream Filters</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.41.1">As either a</span><a id="_idIndexMarker236"/><span class="koboSpan" id="kobo.42.1"> Linux systems administrator or an office worker who uses Linux on the desktop, you’ll probably have a certain number of text files that you need to work with. </span><span class="koboSpan" id="kobo.42.2">You may even get tasked with extracting data from these files and presenting the data effectively.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.43.1">Or, you might need to extract data from utilities that show the status of your Linux system or from within scripts that automatically scrape the web for some specific information. </span><span class="koboSpan" id="kobo.43.2">The </span><strong class="keyWord"><span class="koboSpan" id="kobo.44.1">text-stream filter utilities</span></strong><span class="koboSpan" id="kobo.45.1"> that I present in this topic can help make these jobs easier. </span><span class="koboSpan" id="kobo.45.2">Once you learn them, you may even find that you can extract and display data with them more quickly than you could with text editors or word</span><a id="_idIndexMarker237"/><span class="koboSpan" id="kobo.46.1"> processors.</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.47.1"><img src="../Images/B21693_06_01.png" alt=""/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.48.1">Figure 6.1: The basic concept of text-stream filters</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.49.1">With only one exception, you won’t use these utilities to modify the original text file. </span><span class="koboSpan" id="kobo.49.2">You’ll use them either to view the selected data on-screen, pipe the selected data to another utility, or use a redirector to create or append the selected data to another text file.</span></p>
    <h1 id="_idParaDest-100" class="heading 1"><span class="koboSpan" id="kobo.50.1">Using cat</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.51.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.52.1">cat</span></code><span class="koboSpan" id="kobo.53.1"> utility</span><a id="_idIndexMarker238"/><span class="koboSpan" id="kobo.54.1"> has </span><a id="_idIndexMarker239"/><span class="koboSpan" id="kobo.55.1">nothing to do with our feline friends. </span><span class="koboSpan" id="kobo.55.2">It’s used to either view, create, or join multiple text files together. </span><span class="koboSpan" id="kobo.55.3">(In fact, the term </span><code class="inlineCode"><span class="koboSpan" id="kobo.56.1">cat</span></code><span class="koboSpan" id="kobo.57.1"> is short for </span><em class="italic"><span class="koboSpan" id="kobo.58.1">catenate</span></em><span class="koboSpan" id="kobo.59.1">, which is a fancy way of saying “to join two things together, end-to-end”.)</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.60.1">I said in the introduction that Mac users can perform the demos in this chapter on their Macs. </span><span class="koboSpan" id="kobo.60.2">Now though, I have to add a bit of a caveat. </span><span class="koboSpan" id="kobo.60.3">That’s because there are at least three versions of </span><code class="inlineCode"><span class="koboSpan" id="kobo.61.1">cat</span></code><span class="koboSpan" id="kobo.62.1">, which all have different sets of option switches. </span><span class="koboSpan" id="kobo.62.2">I’ll point out the differences as we go along.</span></p>
      <p class="normal"><span class="koboSpan" id="kobo.63.1">Sometimes, you’ll need to write scripts that are portable across various different operating systems. </span><span class="koboSpan" id="kobo.63.2">So, it’s important that you know about these little idiosyncrasies.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.64.1">By default, </span><code class="inlineCode"><span class="koboSpan" id="kobo.65.1">stdin</span></code><span class="koboSpan" id="kobo.66.1"> for cat is the keyboard, and </span><code class="inlineCode"><span class="koboSpan" id="kobo.67.1">stdout</span></code><span class="koboSpan" id="kobo.68.1"> is the computer screen. </span><span class="koboSpan" id="kobo.68.2">If you just type </span><code class="inlineCode"><span class="koboSpan" id="kobo.69.1">cat</span></code><span class="koboSpan" id="kobo.70.1"> at the command prompt, you’ll be able to type in text and make it echo back to you as soon as you hit </span><em class="keystroke"><span class="koboSpan" id="kobo.71.1">Enter</span></em><span class="koboSpan" id="kobo.72.1">. </span><span class="koboSpan" id="kobo.72.2">It will keep doing this until you press </span><em class="keystroke"><span class="koboSpan" id="kobo.73.1">Ctrl-d</span></em><span class="koboSpan" id="kobo.74.1"> to end it. </span><span class="koboSpan" id="kobo.74.2">Here’s what it looks like:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.75.1">[donnie@fedora ~]$ cat
Hi there!
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.76.1">I haven’t hit </span><em class="keystroke"><span class="koboSpan" id="kobo.77.1">Enter</span></em><span class="koboSpan" id="kobo.78.1"> yet. </span><span class="koboSpan" id="kobo.78.2">Watch what happens when I do:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.79.1">[donnie@fedora ~]$ cat
Hi there!
</span><span class="koboSpan" id="kobo.79.2">Hi there!
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.80.1">This is the only line I want to enter, so I’ll exit out of </span><code class="inlineCode"><span class="koboSpan" id="kobo.81.1">cat</span></code><span class="koboSpan" id="kobo.82.1"> with </span><em class="keystroke"><span class="koboSpan" id="kobo.83.1">Ctrl-d</span></em><span class="koboSpan" id="kobo.84.1">:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.85.1">[donnie@fedora ~]$ cat
Hi there!
</span><span class="koboSpan" id="kobo.85.2">Hi there!
</span><span class="koboSpan" id="kobo.85.3">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.86.1">Of course, this by itself isn’t terribly useful. </span><span class="koboSpan" id="kobo.86.2">But, you can use </span><code class="inlineCode"><span class="koboSpan" id="kobo.87.1">cat</span></code><span class="koboSpan" id="kobo.88.1"> with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.89.1">stdout</span></code><span class="koboSpan" id="kobo.90.1"> redirector to create simple text files. </span><span class="koboSpan" id="kobo.90.2">When you’re through typing the message, hit </span><em class="keystroke"><span class="koboSpan" id="kobo.91.1">Enter</span></em><span class="koboSpan" id="kobo.92.1"> once more to get to a blank line, and then press </span><em class="keystroke"><span class="koboSpan" id="kobo.93.1">Ctrl-d</span></em><span class="koboSpan" id="kobo.94.1"> to exit. </span><span class="koboSpan" id="kobo.94.2">It should look something like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.95.1">[donnie@fedora ~]$ cat &gt; newtext.txt
Hi there! </span><span class="koboSpan" id="kobo.95.2">I'm using cat to create a
text file. </span><span class="koboSpan" id="kobo.95.3">I hope that it turns out well.
</span><span class="koboSpan" id="kobo.95.4">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.96.1">Once you’ve created your file you can use </span><code class="inlineCode"><span class="koboSpan" id="kobo.97.1">cat</span></code><span class="koboSpan" id="kobo.98.1"> to display it. </span><span class="koboSpan" id="kobo.98.2">It’s not like the </span><code class="inlineCode"><span class="koboSpan" id="kobo.99.1">less</span></code><span class="koboSpan" id="kobo.100.1"> utility though, because </span><code class="inlineCode"><span class="koboSpan" id="kobo.101.1">cat</span></code><span class="koboSpan" id="kobo.102.1"> simply dumps everything in the file onto the display screen without pagination. </span><span class="koboSpan" id="kobo.102.2">You don’t need to use a </span><code class="inlineCode"><span class="koboSpan" id="kobo.103.1">stdin</span></code><span class="koboSpan" id="kobo.104.1"> redirector with </span><code class="inlineCode"><span class="koboSpan" id="kobo.105.1">cat</span></code><span class="koboSpan" id="kobo.106.1">, because </span><code class="inlineCode"><span class="koboSpan" id="kobo.107.1">cat</span></code><span class="koboSpan" id="kobo.108.1"> is designed to use arguments instead of </span><code class="inlineCode"><span class="koboSpan" id="kobo.109.1">stdin</span></code><span class="koboSpan" id="kobo.110.1"> redirectors. </span><span class="koboSpan" id="kobo.110.2">Anyway, here’s what this</span><a id="_idIndexMarker240"/><span class="koboSpan" id="kobo.111.1"> looks </span><a id="_idIndexMarker241"/><span class="koboSpan" id="kobo.112.1">like:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.113.1">[donnie@fedora ~]$ cat newtext.txt
Hi there! </span><span class="koboSpan" id="kobo.113.2">I'm using cat to create a
text file. </span><span class="koboSpan" id="kobo.113.3">I hope that it turns out well.
</span><span class="koboSpan" id="kobo.113.4">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.114.1">Now, use </span><code class="inlineCode"><span class="koboSpan" id="kobo.115.1">cat</span></code><span class="koboSpan" id="kobo.116.1"> to create a second file, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.117.1">[donnie@fedora ~]$ cat &gt; newtext_2.txt
I'm going to catenate this file to the first
file, just to see if it actually works.
</span><span class="koboSpan" id="kobo.117.2">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.118.1">Here’s where the catenate part comes in. </span><span class="koboSpan" id="kobo.118.2">Invoke </span><code class="inlineCode"><span class="koboSpan" id="kobo.119.1">cat</span></code><span class="koboSpan" id="kobo.120.1"> again, but use the names of both of your new files as arguments, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.121.1">[donnie@fedora ~]$ cat newtext.txt newtext_2.txt
Hi there! </span><span class="koboSpan" id="kobo.121.2">I'm using cat to create a
text file. </span><span class="koboSpan" id="kobo.121.3">I hope that it turns out well.
</span><span class="koboSpan" id="kobo.121.4">I'm going to catenate this file to the first
file, just to see if it actually works.
</span><span class="koboSpan" id="kobo.121.5">[donnie@fedora ~]$
</span></code></pre>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.122.1"><img src="../Images/B21693_06_02.png" alt=""/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.123.1">Figure 6.2: Directing the contents of two files into a third file.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.124.1">This time, you’ll see both of your files displayed as if they were one single file.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.125.1">Now, add </span><a id="_idIndexMarker242"/><span class="koboSpan" id="kobo.126.1">a </span><code class="inlineCode"><span class="koboSpan" id="kobo.127.1">stdout</span></code><span class="koboSpan" id="kobo.128.1"> redirector to </span><a id="_idIndexMarker243"/><span class="koboSpan" id="kobo.129.1">create a new file by combining the first two, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.130.1">[donnie@fedora ~]$ cat newtext.txt newtext_2.txt &gt; newtext_3.txt
[donnie@fedora ~]$ cat newtext_3.txt
Hi there! </span><span class="koboSpan" id="kobo.130.2">I'm using cat to create a
text file. </span><span class="koboSpan" id="kobo.130.3">I hope that it turns out well.
</span><span class="koboSpan" id="kobo.130.4">I'm going to catenate this file to the first
file, just to see if it actually works.
</span><span class="koboSpan" id="kobo.130.5">[donnie@fedora ~]$
</span></code></pre>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.131.1">It’s important to understand that you need to create a third text file when you do this. </span><span class="koboSpan" id="kobo.131.2">That’s because if you were to redirect the output of the two original files into either one of the two original files, you would completely obliterate the contents of that destination file. </span><span class="koboSpan" id="kobo.131.3">The only thing you’d have left would be the contents of the second file. </span><span class="koboSpan" id="kobo.131.4">In fact, let me show you:</span></p>
      <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.132.1">[donnie@fedora ~]$ cat newtext.txt newtext_2.txt &gt; newtext.txt
[donnie@fedora ~]$ cat newtext.txt
I'm going to catenate this file to the first
file, just to see if it actually works.
</span><span class="koboSpan" id="kobo.132.2">[donnie@fedora ~]$
</span></code></pre>
      <p class="normal"><span class="koboSpan" id="kobo.133.1">As you see, the text that was in the original </span><code class="inlineCode"><span class="koboSpan" id="kobo.134.1">newtext.txt</span></code><span class="koboSpan" id="kobo.135.1"> file no longer exists.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.136.1">There are </span><a id="_idIndexMarker244"/><span class="koboSpan" id="kobo.137.1">several display </span><a id="_idIndexMarker245"/><span class="koboSpan" id="kobo.138.1">options that you can use with </span><code class="inlineCode"><span class="koboSpan" id="kobo.139.1">cat</span></code><span class="koboSpan" id="kobo.140.1">. </span><span class="koboSpan" id="kobo.140.2">To see how to use them, create another text file. </span><span class="koboSpan" id="kobo.140.3">This time, add some tabs and a whole bunch of empty lines. </span><span class="koboSpan" id="kobo.140.4">It will look something like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.141.1">[donnie@fedora ~]$ cat &gt; newtext_4.txt
	I'm now adding tabs, spaces, and blank lines, to see if some
  of the options will work.
	</span><span class="koboSpan" id="kobo.141.2">Hopefully, they will.
	</span><span class="koboSpan" id="kobo.141.3">I hope.
</span><span class="koboSpan" id="kobo.141.4">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.142.1">At the beginning of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.143.1">of the options will work</span></code><span class="koboSpan" id="kobo.144.1"> line I inserted a few blank spaces. </span><span class="koboSpan" id="kobo.144.2">I began all of the other lines by hitting the </span><em class="keystroke"><span class="koboSpan" id="kobo.145.1">Tab</span></em><span class="koboSpan" id="kobo.146.1"> key once.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.147.1">Let’s say that we don’t need so many consecutive blank lines. </span><span class="koboSpan" id="kobo.147.2">That’s no problem. </span><span class="koboSpan" id="kobo.147.3">I’ll just use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.148.1">-s</span></code><span class="koboSpan" id="kobo.149.1"> option to squeeze them out, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.150.1">[donnie@fedora ~]$ cat -s newtext_4.txt
	I'm now adding tabs, spaces, and blank lines, to see if some
  of the options will work.
	</span><span class="koboSpan" id="kobo.150.2">Hopefully, they will.
	</span><span class="koboSpan" id="kobo.150.3">I hope.
</span><span class="koboSpan" id="kobo.150.4">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.151.1">It looks better, doesn’t it?</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.152.1">On Linux, FreeBSD, and macOS, you can see where all of the tabs are by using the </span><code class="inlineCode"><span class="koboSpan" id="kobo.153.1">-t</span></code><span class="koboSpan" id="kobo.154.1"> option, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.155.1">[donnie@fedora ~]$ cat -t newtext_4.txt
^II'm now adding tabs, spaces, and blank lines, to see if some
  of the options will work.
</span><span class="koboSpan" id="kobo.155.2">^IHopefully, they will.
</span><span class="koboSpan" id="kobo.155.3">^II hope.
</span><span class="koboSpan" id="kobo.155.4">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.156.1">You see that all of the tabs now show up as </span><code class="inlineCode"><span class="koboSpan" id="kobo.157.1">^I </span></code><span class="koboSpan" id="kobo.158.1">characters.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.159.1">On OpenIndiana you’ll </span><a id="_idIndexMarker246"/><span class="koboSpan" id="kobo.160.1">need to combine the </span><code class="inlineCode"><span class="koboSpan" id="kobo.161.1">-t</span></code><span class="koboSpan" id="kobo.162.1"> and the </span><code class="inlineCode"><span class="koboSpan" id="kobo.163.1">-v</span></code><span class="koboSpan" id="kobo.164.1"> options to see the tab</span><a id="_idIndexMarker247"/><span class="koboSpan" id="kobo.165.1"> characters, because using the </span><code class="inlineCode"><span class="koboSpan" id="kobo.166.1">-t</span></code><span class="koboSpan" id="kobo.167.1"> option alone won’t show you anything. </span><span class="koboSpan" id="kobo.167.2">Here’s how it looks on OpenIndiana:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.168.1">donnie@openindiana:~$ cat -tv test.txt
Testing, testing.
</span><span class="koboSpan" id="kobo.168.2">^IMore testing.
</span><span class="koboSpan" id="kobo.168.3">^I^IYet more testing.
</span><span class="koboSpan" id="kobo.168.4">Testing yet again,
^Iand again.
</span><span class="koboSpan" id="kobo.168.5">^I^I^IDone.
</span><span class="koboSpan" id="kobo.168.6">donnie@openindiana:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.169.1">If you want to see where the end of each line is, use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.170.1">-e</span></code><span class="koboSpan" id="kobo.171.1"> option, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.172.1">[donnie@fedora ~]$ cat -e newtext_4.txt
	I'm now adding tabs, spaces, and blank lines, to see if some$
  of the options will work.$
$
$
$
$
	Hopefully, they will.$
$
$
	I hope.$
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.173.1">On OpenIndiana you’ll</span><a id="_idIndexMarker248"/><span class="koboSpan" id="kobo.174.1"> need to combine the </span><code class="inlineCode"><span class="koboSpan" id="kobo.175.1">-e</span></code><span class="koboSpan" id="kobo.176.1"> and the </span><code class="inlineCode"><span class="koboSpan" id="kobo.177.1">-v</span></code><span class="koboSpan" id="kobo.178.1"> options, because using</span><a id="_idIndexMarker249"/><span class="koboSpan" id="kobo.179.1"> the </span><code class="inlineCode"><span class="koboSpan" id="kobo.180.1">-e</span></code><span class="koboSpan" id="kobo.181.1"> option alone won’t show you anything. </span><span class="koboSpan" id="kobo.181.2">Here’s how it looks on OpenIndiana:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.182.1">donnie@openindiana:~$ cat -ev test.txt
	I'm now adding tabs, spaces, and blank lines, to see if some$
  of the options will work.$
$
$
$
$
	Hopefully, they will.$
$
$
	I hope.$
donnie@openindiana:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.183.1">As you see, the end of each line is marked by a </span><code class="inlineCode"><span class="koboSpan" id="kobo.184.1">$</span></code><span class="koboSpan" id="kobo.185.1">.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.186.1">On Linux only, you can see both where the tabs are and where the end of each line is by using the </span><code class="inlineCode"><span class="koboSpan" id="kobo.187.1">-A</span></code><span class="koboSpan" id="kobo.188.1"> option, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.189.1">[donnie@fedora ~]$ cat -A newtext_4.txt
^II'm now adding tabs, spaces, and blank lines, to see if some$
  of the options will work.$
$
$
$
$
^IHopefully, they will.$
$
$
^II hope.$
[donnie@fedora ~]$
</span></code></pre>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.190.1">Note that the </span><code class="inlineCode"><span class="koboSpan" id="kobo.191.1">-A</span></code><span class="koboSpan" id="kobo.192.1"> option only works on the Linux version of </span><code class="inlineCode"><span class="koboSpan" id="kobo.193.1">cat</span></code><span class="koboSpan" id="kobo.194.1">. </span><span class="koboSpan" id="kobo.194.2">It does not work on OpenIndiana, FreeBSD, or macOS.</span></p>
      <p class="normal"><span class="koboSpan" id="kobo.195.1">Also, note that if script portability is a concern, you can use </span><code class="inlineCode"><span class="koboSpan" id="kobo.196.1">cat -tv</span></code><span class="koboSpan" id="kobo.197.1"> as well as </span><code class="inlineCode"><span class="koboSpan" id="kobo.198.1">cat -ev</span></code><span class="koboSpan" id="kobo.199.1"> on Linux machines, even though the </span><code class="inlineCode"><span class="koboSpan" id="kobo.200.1">-v</span></code><span class="koboSpan" id="kobo.201.1"> option isn’t necessary on Linux.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.202.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.203.1">-b</span></code><span class="koboSpan" id="kobo.204.1"> option will number all non-blank lines for you, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.205.1">[donnie@fedora ~]$ cat -b newtext_4.txt
     1		I'm now adding tabs, spaces, and blank lines, to see if some
     2	  of the options will work.
     </span><span class="koboSpan" id="kobo.205.2">3		Hopefully, they will.
     </span><span class="koboSpan" id="kobo.205.3">4		I hope.
</span><span class="koboSpan" id="kobo.205.4">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.206.1">Or, use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.207.1">-n</span></code><span class="koboSpan" id="kobo.208.1"> option to have all lines numbered, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.209.1">[donnie@fedora ~]$ cat -n newtext_4.txt
     1		I'm now adding tabs, spaces, and blank lines, to see if some
     2	  of the options will work.
     </span><span class="koboSpan" id="kobo.209.2">3	
     4	
     5	
     6	
     7		Hopefully, they will.
     </span><span class="koboSpan" id="kobo.209.3">8	
     9	
    10		I hope.
</span><span class="koboSpan" id="kobo.209.4">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.210.1">That’s </span><a id="_idIndexMarker250"/><span class="koboSpan" id="kobo.211.1">it for </span><code class="inlineCode"><span class="koboSpan" id="kobo.212.1">cat</span></code><span class="koboSpan" id="kobo.213.1">, so </span><a id="_idIndexMarker251"/><span class="koboSpan" id="kobo.214.1">let’s look at </span><code class="inlineCode"><span class="koboSpan" id="kobo.215.1">tac</span></code><span class="koboSpan" id="kobo.216.1">.</span></p>
    <h1 id="_idParaDest-101" class="heading 1"><span class="koboSpan" id="kobo.217.1">Using tac</span></h1>
    <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.218.1">tac</span></code><span class="koboSpan" id="kobo.219.1">--</span><code class="inlineCode"><span class="koboSpan" id="kobo.220.1">cat</span></code><span class="koboSpan" id="kobo.221.1"> spelled</span><a id="_idIndexMarker252"/><span class="koboSpan" id="kobo.222.1"> backwards--displays one or more files at a time in </span><a id="_idIndexMarker253"/><span class="koboSpan" id="kobo.223.1">reverse order. </span><span class="koboSpan" id="kobo.223.2">To see how it works, we’ll first create two text files that will look like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.224.1">[donnie@fedora ~]$ cat &gt; testfile_1.txt
one
two
three
four
five
six
[donnie@fedora ~]$ cat &gt; testfile_2.txt
seven
eight
nine
ten
eleven
twelve
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.225.1">Let’s </span><a id="_idIndexMarker254"/><span class="koboSpan" id="kobo.226.1">use </span><code class="inlineCode"><span class="koboSpan" id="kobo.227.1">cat</span></code><span class="koboSpan" id="kobo.228.1"> to </span><a id="_idIndexMarker255"/><span class="koboSpan" id="kobo.229.1">view both of the files at once:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.230.1">[donnie@fedora ~]$ cat testfile_1.txt testfile_2.txt
one
two
three
four
five
six
seven
eight
nine
ten
eleven
twelve
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.231.1">You can use </span><code class="inlineCode"><span class="koboSpan" id="kobo.232.1">tac</span></code><span class="koboSpan" id="kobo.233.1"> to view one file in reverse order:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.234.1">[donnie@fedora ~]$ tac testfile_1.txt
six
five
four
three
two
one
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.235.1">Or, view two or more files in reverse order:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.236.1">[donnie@fedora ~]$ tac testfile_1.txt testfile_2.txt
six
five
four
three
two
one
twelve
eleven
ten
nine
eight
seven
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.237.1">Note that</span><a id="_idIndexMarker256"/><span class="koboSpan" id="kobo.238.1"> the contents of the first file is displayed first, followed by the contents of the second</span><a id="_idIndexMarker257"/><span class="koboSpan" id="kobo.239.1"> file. </span></p>
    <p class="normal"><span class="koboSpan" id="kobo.240.1">And, of course, you can use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.241.1">stdout</span></code><span class="koboSpan" id="kobo.242.1"> redirector to create a new text file, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.243.1">[donnie@fedora ~]$ tac testfile_1.txt testfile_2.txt &gt; testfile_3.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.244.1">You would think that </span><code class="inlineCode"><span class="koboSpan" id="kobo.245.1">tac</span></code><span class="koboSpan" id="kobo.246.1"> would use the same options as </span><code class="inlineCode"><span class="koboSpan" id="kobo.247.1">cat</span></code><span class="koboSpan" id="kobo.248.1">, but it doesn’t. </span><span class="koboSpan" id="kobo.248.2">None of the options for </span><code class="inlineCode"><span class="koboSpan" id="kobo.249.1">cat</span></code><span class="koboSpan" id="kobo.250.1"> can be used for </span><code class="inlineCode"><span class="koboSpan" id="kobo.251.1">tac</span></code><span class="koboSpan" id="kobo.252.1">.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.253.1">That’s it for </span><code class="inlineCode"><span class="koboSpan" id="kobo.254.1">tac</span></code><span class="koboSpan" id="kobo.255.1">. </span><span class="koboSpan" id="kobo.255.2">Next up is </span><code class="inlineCode"><span class="koboSpan" id="kobo.256.1">cut</span></code><span class="koboSpan" id="kobo.257.1">.</span></p>
    <h1 id="_idParaDest-102" class="heading 1"><span class="koboSpan" id="kobo.258.1">Using cut</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.259.1">As its name implies, this </span><a id="_idIndexMarker258"/><span class="koboSpan" id="kobo.260.1">handy utility is used to cut and display selected</span><a id="_idIndexMarker259"/><span class="koboSpan" id="kobo.261.1"> information from a text file. </span><span class="koboSpan" id="kobo.261.2">Think of it as something that will take a vertical slice of a text file and send it to the output of your choice. </span><span class="koboSpan" id="kobo.261.3">There are two ways to specify where you want to begin and end the slice. </span><span class="koboSpan" id="kobo.261.4">You can specify it either by specifying the starting and ending characters, or by specifying the fields.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.262.1">To specify your slice by fields, you’ll need to use both the </span><code class="inlineCode"><span class="koboSpan" id="kobo.263.1">-d</span></code><span class="koboSpan" id="kobo.264.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.265.1">-f </span></code><span class="koboSpan" id="kobo.266.1">switches. </span><span class="koboSpan" id="kobo.266.2">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.267.1">-d</span></code><span class="koboSpan" id="kobo.268.1"> switch will specify the delimiter, the character that separates the fields. </span><span class="koboSpan" id="kobo.268.2">That’s so that </span><code class="inlineCode"><span class="koboSpan" id="kobo.269.1">cut </span></code><span class="koboSpan" id="kobo.270.1">will know where each field begins and ends. </span><span class="koboSpan" id="kobo.270.2">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.271.1">-f </span></code><span class="koboSpan" id="kobo.272.1">switch will specify which fields you want to look at. </span><span class="koboSpan" id="kobo.272.2">In this diagram, you see that I used </span><code class="inlineCode"><span class="koboSpan" id="kobo.273.1">cut</span></code><span class="koboSpan" id="kobo.274.1"> to extract the user name and real name--fields </span><code class="inlineCode"><span class="koboSpan" id="kobo.275.1">1</span></code><span class="koboSpan" id="kobo.276.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.277.1">5</span></code><span class="koboSpan" id="kobo.278.1">--from the </span><code class="inlineCode"><span class="koboSpan" id="kobo.279.1">/etc/passwd</span></code><span class="koboSpan" id="kobo.280.1"> file.</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.281.1"><img src="../Images/B21693_06_03.png" alt=""/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.282.1">Figure 6.3: Using cut to view fields 1 and 5 of the passwd file</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.283.1">Since the fields in this file are separated by colons, I used </span><code class="inlineCode"><span class="koboSpan" id="kobo.284.1">-d:</span></code><span class="koboSpan" id="kobo.285.1"> for the delimiter switch. </span></p>
    <p class="normal"><span class="koboSpan" id="kobo.286.1">The other method for specifying the slice is the character method. </span><span class="koboSpan" id="kobo.286.2">With this method, you select the beginning and the ending characters of the lines of text that you want to display. </span><span class="koboSpan" id="kobo.286.3">In the next diagram, you see that I’ve saved a listing of files in my current directory to </span><code class="inlineCode"><span class="koboSpan" id="kobo.287.1">filelist.txt</span></code><span class="koboSpan" id="kobo.288.1">.</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.289.1"><img src="../Images/B21693_06_04.png" alt=""/></span></figure>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.290.1">Figure 6.4: Using cut to view the first 20 characters</span></figure>
    <p class="normal"><span class="koboSpan" id="kobo.291.1">I’ve decided </span><a id="_idIndexMarker260"/><span class="koboSpan" id="kobo.292.1">that I only want to look at the first 20 characters of the</span><a id="_idIndexMarker261"/><span class="koboSpan" id="kobo.293.1"> lines of text in this file, so I used the </span><code class="inlineCode"><span class="koboSpan" id="kobo.294.1">-c</span></code><span class="koboSpan" id="kobo.295.1"> switch appended with the appropriate character numbers. </span><span class="koboSpan" id="kobo.295.2">(Note that you can type the command as either </span><code class="inlineCode"><span class="koboSpan" id="kobo.296.1">cut -c1-20 filelist.txt</span></code><span class="koboSpan" id="kobo.297.1"> or as </span><code class="inlineCode"><span class="koboSpan" id="kobo.298.1">cut -c 1-20 filelist.txt</span></code><span class="koboSpan" id="kobo.299.1">. </span><span class="koboSpan" id="kobo.299.2">The blank space between the </span><code class="inlineCode"><span class="koboSpan" id="kobo.300.1">-c</span></code><span class="koboSpan" id="kobo.301.1"> and the first number is optional.) To further illustrate how this works, let me show you what the output of cutting an actual multi-line file looks like:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.302.1">[donnie@fedora ~]$ cut -c 1-20 filelist.txt
total 2109597
drwxr-xr-x  1 donnie
-rw-r--r--  1 donnie
-rw-r--r--  1 donnie
-rw-r--r--  1 donnie
. </span><span class="koboSpan" id="kobo.302.2">. </span><span class="koboSpan" id="kobo.302.3">.
</span><span class="koboSpan" id="kobo.302.4">. </span><span class="koboSpan" id="kobo.302.5">. </span><span class="koboSpan" id="kobo.302.6">.
</span><span class="koboSpan" id="kobo.302.7">drwxr-xr-x  1 donnie
-rwxr--r--  1 donnie
-rwxr--r--  1 donnie
-rwxr--r--  1 donnie
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.303.1">You see that </span><code class="inlineCode"><span class="koboSpan" id="kobo.304.1">cut</span></code><span class="koboSpan" id="kobo.305.1"> operates on every line in the file. </span><span class="koboSpan" id="kobo.305.2">Also, you see that the entire first line prints out because it consists of fewer than 20 characters. </span><span class="koboSpan" id="kobo.305.3">(The same thing happens when you use the field method.)</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.306.1">Of course, with </span><a id="_idIndexMarker262"/><span class="koboSpan" id="kobo.307.1">both of the above examples, you have the option of using a </span><code class="inlineCode"><span class="koboSpan" id="kobo.308.1">stdout </span></code><span class="koboSpan" id="kobo.309.1">redirector </span><a id="_idIndexMarker263"/><span class="koboSpan" id="kobo.310.1">to save the extracted information to a text file. </span><span class="koboSpan" id="kobo.310.2">For example, you could do something like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.311.1">[donnie@fedora ~]$ cut -d: -f 1,5 /etc/passwd &gt; passwd_cut.txt
[donnie@fedora ~]$ cut -c1-20 myfile.txt &gt; filelist_cut.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.312.1">As with most of the text-stream filter utilities, you can either pipe the output from </span><code class="inlineCode"><span class="koboSpan" id="kobo.313.1">cut</span></code><span class="koboSpan" id="kobo.314.1"> into another utility, or pipe another utility’s output into </span><code class="inlineCode"><span class="koboSpan" id="kobo.315.1">cut</span></code><span class="koboSpan" id="kobo.316.1">. </span><span class="koboSpan" id="kobo.316.2">In the previous example, I really didn’t need to save the </span><code class="inlineCode"><span class="koboSpan" id="kobo.317.1">ls -l</span></code><span class="koboSpan" id="kobo.318.1"> output to a text file. </span><span class="koboSpan" id="kobo.318.2">I could have just piped the </span><code class="inlineCode"><span class="koboSpan" id="kobo.319.1">ls -l</span></code><span class="koboSpan" id="kobo.320.1"> output into </span><code class="inlineCode"><span class="koboSpan" id="kobo.321.1">cut</span></code><span class="koboSpan" id="kobo.322.1">, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.323.1">[donnie@fedora ~]$ ls -l myfile.txt | cut -c1-20
-rw-r--r--. </span><span class="koboSpan" id="kobo.323.2">1 donnie
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.324.1">Add on a </span><code class="inlineCode"><span class="koboSpan" id="kobo.325.1">stdout</span></code><span class="koboSpan" id="kobo.326.1"> redirector, and you can also save this to a text file, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.327.1">[donnie@fedora ~]$ ls -l myfile.txt | cut -c1-20 &gt; filelist_cut.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.328.1">That’s it for </span><code class="inlineCode"><span class="koboSpan" id="kobo.329.1">cut</span></code><span class="koboSpan" id="kobo.330.1">. </span><span class="koboSpan" id="kobo.330.2">Now, let’s do some pasting.</span></p>
    <h1 id="_idParaDest-103" class="heading 1"><span class="koboSpan" id="kobo.331.1">Using paste</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.332.1">Instead of joining two or</span><a id="_idIndexMarker264"/><span class="koboSpan" id="kobo.333.1"> more files together end-to-end as </span><code class="inlineCode"><span class="koboSpan" id="kobo.334.1">cat</span></code><span class="koboSpan" id="kobo.335.1"> does, </span><code class="inlineCode"><span class="koboSpan" id="kobo.336.1">paste</span></code><span class="koboSpan" id="kobo.337.1"> joins </span><a id="_idIndexMarker265"/><span class="koboSpan" id="kobo.338.1">them together side-by-side. </span><span class="koboSpan" id="kobo.338.2">This is handy when you have two or more files of columnar data, and you want to look at all of the data in one display. </span><span class="koboSpan" id="kobo.338.3">Go ahead and create the two text files that you see in the following diagram Then try out the </span><code class="inlineCode"><span class="koboSpan" id="kobo.339.1">paste</span></code><span class="koboSpan" id="kobo.340.1"> command that you see in the diagram.</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.341.1"><img src="../Images/B21693_06_05.png" alt=""/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.342.1">Figure 6.5: Pasting two files together with paste</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.343.1">There are</span><a id="_idIndexMarker266"/><span class="koboSpan" id="kobo.344.1"> two options that you can use with </span><code class="inlineCode"><span class="koboSpan" id="kobo.345.1">paste</span></code><span class="koboSpan" id="kobo.346.1">. </span><span class="koboSpan" id="kobo.346.2">The serial option, set </span><a id="_idIndexMarker267"/><span class="koboSpan" id="kobo.347.1">with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.348.1">-s</span></code><span class="koboSpan" id="kobo.349.1"> switch, allows you to view the columns of data horizontally. </span><span class="koboSpan" id="kobo.349.2">Pasting the </span><code class="inlineCode"><span class="koboSpan" id="kobo.350.1">myfile_1.txt</span></code><span class="koboSpan" id="kobo.351.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.352.1">myfile_2.txt</span></code><span class="koboSpan" id="kobo.353.1"> with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.354.1">-s</span></code><span class="koboSpan" id="kobo.355.1"> option looks like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.356.1">[donnie@fedora ~]$ paste -s myfile_1.txt myfile_2.txt
one	three	five	seven	nine
two	four	six	eight	ten
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.357.1">The delimiter option, set by the </span><code class="inlineCode"><span class="koboSpan" id="kobo.358.1">-d</span></code><span class="koboSpan" id="kobo.359.1"> switch, allows you to change how the columns are separated. </span><span class="koboSpan" id="kobo.359.2">If you leave out the </span><code class="inlineCode"><span class="koboSpan" id="kobo.360.1">-d</span></code><span class="koboSpan" id="kobo.361.1"> switch, the columns of the pasted display will be separated by tabs, as you see in the preceding examples. </span><span class="koboSpan" id="kobo.361.2">To replace the tabs with something else, just place the desired replacement after the </span><code class="inlineCode"><span class="koboSpan" id="kobo.362.1">-d</span></code><span class="koboSpan" id="kobo.363.1"> switch. </span><span class="koboSpan" id="kobo.363.2">Here, I’m using a set of double-quotes with a space in between to replace each tab with a normal space:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.364.1">[donnie@fedora ~]$ paste -d" " myfile_1.txt myfile_2.txt
one two
three four
five six
seven eight
nine ten
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.365.1">Now, here’s a </span><a id="_idIndexMarker268"/><span class="koboSpan" id="kobo.366.1">really cool trick that you can use to impress your </span><a id="_idIndexMarker269"/><span class="koboSpan" id="kobo.367.1">friends. </span><span class="koboSpan" id="kobo.367.2">First, create four new text files as follows:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.368.1">[donnie@fedora ~]$ cat &gt; number_1.txt
one
1
uno
[donnie@fedora ~]$ cat &gt; number_2.txt
two
2
dos
[donnie@fedora ~]$
[donnie@fedora ~]$ cat &gt; number_3.txt
three
3
tres
[donnie@fedora ~]$ cat &gt; number_4.txt
four
4
cuatro
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.369.1">Now, put them all together with paste. </span><span class="koboSpan" id="kobo.369.2">This time, place the </span><code class="inlineCode"><span class="koboSpan" id="kobo.370.1">+</span></code><span class="koboSpan" id="kobo.371.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.372.1">-</span></code><span class="koboSpan" id="kobo.373.1">, and </span><code class="inlineCode"><span class="koboSpan" id="kobo.374.1">=</span></code><span class="koboSpan" id="kobo.375.1"> signs between the quotes after the </span><code class="inlineCode"><span class="koboSpan" id="kobo.376.1">-d</span></code><span class="koboSpan" id="kobo.377.1">, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.378.1">[donnie@fedora ~]$ paste -d"+-=" number_3.txt number_2.txt number_1.txt number_4.txt
three+two-one=four
3+2-1=4
tres+dos-uno=cuatro
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.379.1">As you see, the </span><a id="_idIndexMarker270"/><span class="koboSpan" id="kobo.380.1">three arithmetic operators got placed in the appropriate </span><a id="_idIndexMarker271"/><span class="koboSpan" id="kobo.381.1">places. </span><span class="koboSpan" id="kobo.381.2">(Oh, and in case you’re wondering, uno, dos, tres, and cuatro are Spanish for 1, 2, 3, and 4.)</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.382.1">This really is more than just a crazy party trick. </span><span class="koboSpan" id="kobo.382.2">I’ll show you a practical use for this in </span><em class="chapterRef"><span class="koboSpan" id="kobo.383.1">Chapter 11, Performing Mathematical Operations</span></em><span class="koboSpan" id="kobo.384.1">.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.385.1">Okay, now that we’ve pasted some files together, let’s join some together.</span></p>
    <h1 id="_idParaDest-104" class="heading 1"><span class="koboSpan" id="kobo.386.1">Using join</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.387.1">Here’s</span><a id="_idIndexMarker272"/><span class="koboSpan" id="kobo.388.1"> another handy </span><a id="_idIndexMarker273"/><span class="koboSpan" id="kobo.389.1">utility you can use to combine two text files. </span><span class="koboSpan" id="kobo.389.2">(Unlike the other utilities we’ve looked at, you can use </span><code class="inlineCode"><span class="koboSpan" id="kobo.390.1">join</span></code><span class="koboSpan" id="kobo.391.1"> for two text files, but no more than two.) To see how it works, take a look at the following diagram with its text files about famous Hollywood actors from a by-gone era. </span><span class="koboSpan" id="kobo.391.2">Then, go ahead and create the files, with tabs between the two columns of each file. </span><span class="koboSpan" id="kobo.391.3">Then, run the command that’s shown in the diagram.</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.392.1"><img src="../Images/B21693_06_06.png" alt=""/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.393.1">Figure 6.6: Joining two files together with join</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.394.1">As you see, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.395.1">join</span></code><span class="koboSpan" id="kobo.396.1"> utility replaces the tabs that were between the columns with blank spaces.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.397.1">Note that in</span><a id="_idIndexMarker274"/><span class="koboSpan" id="kobo.398.1"> each of the two input files, the first field is the same. </span><span class="koboSpan" id="kobo.398.2">(In this case, it’s the last name of each actor.) In the output, the first field--which </span><a id="_idIndexMarker275"/><span class="koboSpan" id="kobo.399.1">we’ll call the </span><strong class="keyWord"><span class="koboSpan" id="kobo.400.1">key field</span></strong><span class="koboSpan" id="kobo.401.1">--is only listed once. </span><span class="koboSpan" id="kobo.401.2">The information for each actor’s last name--the key field--is obtained from both of the two input files.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.402.1">The thing to remember here is that you have to have one field that is identical in both input files. </span><span class="koboSpan" id="kobo.402.2">It doesn’t have to be the first field, as we’ll illustrate in the next example.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.403.1">You can use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.404.1">-j</span></code><span class="koboSpan" id="kobo.405.1"> switch to use another field, if you so desire. </span><span class="koboSpan" id="kobo.405.2">You can see this with the following two lists of numbers:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.406.1">[donnie@fedora ~]$ cat &gt; num_1.txt
1	one
3	three
4	four
7	seven
5	five
[donnie@fedora ~]$ cat &gt; num_2.txt
uno		one
tres		three
cuatro	four
siete	seven
cinco	five
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.407.1">Now, let’s join them:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.408.1">[donnie@fedora ~]$ join -j 2 num_1.txt num_2.txt
one 1 uno
three 3 tres
four 4 cuatro
seven 7 siete
five 5 cinco
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.409.1">Here, the second field is identical in each input file, so I used the </span><code class="inlineCode"><span class="koboSpan" id="kobo.410.1">-j 2</span></code><span class="koboSpan" id="kobo.411.1"> option to designate that field as the key field.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.412.1">You can pipe the output of </span><code class="inlineCode"><span class="koboSpan" id="kobo.413.1">join</span></code><span class="koboSpan" id="kobo.414.1"> into other utilities for customized output. </span><span class="koboSpan" id="kobo.414.2">If you want to </span><a id="_idIndexMarker276"/><span class="koboSpan" id="kobo.415.1">number the lines of the output, pipe it into </span><code class="inlineCode"><span class="koboSpan" id="kobo.416.1">cat</span></code><span class="koboSpan" id="kobo.417.1"> with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.418.1">-n</span></code><span class="koboSpan" id="kobo.419.1"> option, like </span><a id="_idIndexMarker277"/><span class="koboSpan" id="kobo.420.1">so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.421.1">[donnie@fedora ~]$ join -j 2 num_1.txt num_2.txt | cat -n
     1	one 1 uno
     2	three 3 tres
     3	four 4 cuatro
     4	seven 7 siete
     5	five 5 cinco
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.422.1">It’s rather common these days for people to create spreadsheet files in </span><strong class="keyWord"><span class="koboSpan" id="kobo.423.1">Comma Separated Values</span></strong><span class="koboSpan" id="kobo.424.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.425.1">csv</span></strong><span class="koboSpan" id="kobo.426.1">) format, rather</span><a id="_idIndexMarker278"/><span class="koboSpan" id="kobo.427.1"> than in a spreadsheet program’s native format. </span><span class="koboSpan" id="kobo.427.2">The advantages of this are that the files can be created in any plain-text editor, and that the files can be read by any spreadsheet program. </span><span class="koboSpan" id="kobo.427.3">You can make </span><code class="inlineCode"><span class="koboSpan" id="kobo.428.1">join</span></code><span class="koboSpan" id="kobo.429.1"> work with these files by using the </span><code class="inlineCode"><span class="koboSpan" id="kobo.430.1">-t </span></code><span class="koboSpan" id="kobo.431.1">switch to specify that the fields are separated by commas</span><a id="_idIndexMarker279"/><span class="koboSpan" id="kobo.432.1"> instead of by tabs. </span><span class="koboSpan" id="kobo.432.2">To see how that works, copy the </span><code class="inlineCode"><span class="koboSpan" id="kobo.433.1">actorfile_1.txt</span></code><span class="koboSpan" id="kobo.434.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.435.1">actorfile_2.txt</span></code><span class="koboSpan" id="kobo.436.1"> files to corresponding </span><code class="inlineCode"><span class="koboSpan" id="kobo.437.1">.csv</span></code><span class="koboSpan" id="kobo.438.1"> files, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.439.1">[donnie@fedora ~]$ cp actorfile_1.txt actorfile_1.csv
[donnie@fedora ~]$ cp actorfile_2.txt actorfile_2.csv
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.440.1">Next, edit the</span><a id="_idIndexMarker280"/><span class="koboSpan" id="kobo.441.1"> two </span><code class="inlineCode"><span class="koboSpan" id="kobo.442.1">.csv</span></code><span class="koboSpan" id="kobo.443.1"> files to replace the tabs with commas. </span><span class="koboSpan" id="kobo.443.2">The first file will look like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.444.1">[donnie@fedora ~]$ cat actorfile_1.csv
Benny,Jack
Allen,Fred
Ladd,Alan
Hitchcock,Alfred
Robinson,Edgar
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.445.1">The second file will look like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.446.1">[donnie@fedora ~]$ cat actorfile_2.csv
Benny,comedy
Allen,comedy
Ladd,adventure
Hitchcock,mystery
Robinson,drama
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.447.1">Now, watch what happens when I try to use </span><code class="inlineCode"><span class="koboSpan" id="kobo.448.1">join</span></code><span class="koboSpan" id="kobo.449.1"> in the normal way:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.450.1">[donnie@fedora ~]$ join actorfile_1.csv actorfile_2.csv
join: actorfile_1.csv:2: is not sorted: Allen,Fred
join: actorfile_2.csv:4: is not sorted: Hitchcock,mystery
join: input is not in sorted order
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.451.1">It doesn’t work, because </span><code class="inlineCode"><span class="koboSpan" id="kobo.452.1">join</span></code><span class="koboSpan" id="kobo.453.1"> thinks that there’s only one field in each file. </span><span class="koboSpan" id="kobo.453.2">To make it work, I’ll need to use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.454.1">-t</span></code><span class="koboSpan" id="kobo.455.1"> switch to specify the comma as my field separator, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.456.1">[donnie@fedora ~]$ join -t, actorfile_1.csv actorfile_2.csv
Benny,Jack,comedy
Allen,Fred,comedy
Ladd,Alan,adventure
Hitchcock,Alfred,mystery
Robinson,Edgar,drama
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.457.1">Cool, that</span><a id="_idIndexMarker281"/><span class="koboSpan" id="kobo.458.1"> looks much better. </span><span class="koboSpan" id="kobo.458.2">And of course, you can always redirect the </span><a id="_idIndexMarker282"/><span class="koboSpan" id="kobo.459.1">output into a third </span><code class="inlineCode"><span class="koboSpan" id="kobo.460.1">.csv</span></code><span class="koboSpan" id="kobo.461.1"> file that you can import into any spreadsheet program.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.462.1">There are still more possibilities for how you can use </span><code class="inlineCode"><span class="koboSpan" id="kobo.463.1">join</span></code><span class="koboSpan" id="kobo.464.1">, which you can see in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.465.1">join</span></code><span class="koboSpan" id="kobo.466.1"> man page. </span><span class="koboSpan" id="kobo.466.2">Combine the power of </span><code class="inlineCode"><span class="koboSpan" id="kobo.467.1">join</span></code><span class="koboSpan" id="kobo.468.1"> with the power of the next utility that we’re about to cover, and you’ll have the makings of an easy-to-use utility for creating simple databases.</span></p>
    <h1 id="_idParaDest-105" class="heading 1"><span class="koboSpan" id="kobo.469.1">Using sort</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.470.1">This is a versatile</span><a id="_idIndexMarker283"/><span class="koboSpan" id="kobo.471.1"> utility that you can use by itself, or in conjunction with other </span><a id="_idIndexMarker284"/><span class="koboSpan" id="kobo.472.1">utilities. </span><span class="koboSpan" id="kobo.472.2">You can use it to sort either one file, or multiple files together.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.473.1">There are lots of options for different purposes. </span><span class="koboSpan" id="kobo.473.2">You can choose how to format your output, how you want the data sorted, and what fields you want to use for the sort. </span><span class="koboSpan" id="kobo.473.3">You can even perform sorts on two or more fields at once, with the primary sort on one field and secondary sorts on others. </span></p>
    <p class="normal"><span class="koboSpan" id="kobo.474.1">There are a lot of ways that you can use </span><code class="inlineCode"><span class="koboSpan" id="kobo.475.1">sort</span></code><span class="koboSpan" id="kobo.476.1">. </span><span class="koboSpan" id="kobo.476.2">As I’ve said before, the only limitation is your own imagination. </span><span class="koboSpan" id="kobo.476.3">To start, look at the following diagram. </span><span class="koboSpan" id="kobo.476.4">Create the text file on your own machine and then run the commands that you see:</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.477.1"><img src="../Images/B21693_06_07.png" alt=""/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.478.1">Figure 6.7: Sorting the actorfile_1.txt file</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.479.1">What you see in the above diagram is the simplest of sorts. </span><span class="koboSpan" id="kobo.479.2">By default, sorts are case-sensitive and are performed on each entire line of the input file. </span></p>
    <p class="normal"><span class="koboSpan" id="kobo.480.1">In the next example, I’ll show you two options at once. </span><span class="koboSpan" id="kobo.480.2">The first is the </span><code class="inlineCode"><span class="koboSpan" id="kobo.481.1">-k</span></code><span class="koboSpan" id="kobo.482.1"> option, which allows you to sort the input file on a particular field. </span><span class="koboSpan" id="kobo.482.2">The second is the </span><code class="inlineCode"><span class="koboSpan" id="kobo.483.1">-o</span></code><span class="koboSpan" id="kobo.484.1"> option, which allows you to save the output to a text file. </span><span class="koboSpan" id="kobo.484.2">Of course, you can still do that with a redirector. </span><span class="koboSpan" id="kobo.484.3">But, unlike the redirector, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.485.1">-o</span></code><span class="koboSpan" id="kobo.486.1"> option allows you to save the sorted</span><a id="_idIndexMarker285"/><span class="koboSpan" id="kobo.487.1"> output </span><a id="_idIndexMarker286"/><span class="koboSpan" id="kobo.488.1">back to the original input file without wiping out its contents.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.489.1">Before I show you that, I’m going to copy the </span><code class="inlineCode"><span class="koboSpan" id="kobo.490.1">actorfile_1.txt</span></code><span class="koboSpan" id="kobo.491.1"> file over to the </span><code class="inlineCode"><span class="koboSpan" id="kobo.492.1">actorfile_5.txt</span></code><span class="koboSpan" id="kobo.493.1"> file, so that I can use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.494.1">actorfile_1.txt</span></code><span class="koboSpan" id="kobo.495.1"> file again later:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.496.1">[donnie@fedora ~]$ cp actorfile_1.txt actorfile_5.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.497.1">Now, let’s see how this works:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.498.1">[donnie@fedora ~]$ sort -k2 actorfile_5.txt -o actorfile_5.txt
[donnie@fedora ~]$ cat actorfile_5.txt
Ladd			Alan
Hitchcock		Alfred
Robinson		Edgar
Allen		Fred
Benny		Jack
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.499.1">As you see, the original input file is now sorted according to the actors’ first names.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.500.1">Let’s say that </span><a id="_idIndexMarker287"/><span class="koboSpan" id="kobo.501.1">you need a list of actresses to go along with your list of</span><a id="_idIndexMarker288"/><span class="koboSpan" id="kobo.502.1"> actors, and that the list looks something like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.503.1">[donnie@fedora ~]$ cat &gt; actorfile_6.txt
MacLaine		Shirley
Booth		Shirley
Stanwick		Barbara
Allen		Gracie
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.504.1">Sort the </span><code class="inlineCode"><span class="koboSpan" id="kobo.505.1">actorfile_1.txt </span></code><span class="koboSpan" id="kobo.506.1">file and the </span><code class="inlineCode"><span class="koboSpan" id="kobo.507.1">actorfile_6.txt</span></code><span class="koboSpan" id="kobo.508.1"> file together, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.509.1">[donnie@fedora ~]$ sort actorfile_1.txt actorfile_6.txt
Allen		Fred
Allen		Gracie
Benny		Jack
Booth		Shirley
Hitchcock		Alfred
Ladd			Alan
MacLaine		Shirley
Robinson		Edgar
Stanwick		Barbara
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.510.1">After you </span><a id="_idIndexMarker289"/><span class="koboSpan" id="kobo.511.1">view the</span><a id="_idIndexMarker290"/><span class="koboSpan" id="kobo.512.1"> results on screen, save the results to a new file, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.513.1">[donnie@fedora ~]$ sort actorfile_1.txt actorfile_6.txt -o actorfile_7.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.514.1">You can also pipe this through the </span><code class="inlineCode"><span class="koboSpan" id="kobo.515.1">tee</span></code><span class="koboSpan" id="kobo.516.1"> utility, so that you can see the output on screen and save it to a file at the same time.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.517.1">[donnie@fedora ~]$ sort actorfile_1.txt actorfile_6.txt | tee actorfile_8.txt
Allen		Fred
Allen		Gracie
Benny		Jack
Booth		Shirley
Hitchcock		Alfred
Ladd			Alan
MacLaine		Shirley
Robinson		Edgar
Stanwick		Barbara
[donnie@fedora ~]$ ls -l actorfile_8.txt
-rw-r--r--. </span><span class="koboSpan" id="kobo.517.2">1 donnie donnie 130 Sep  6 19:02 actorfile_8.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.518.1">There are a few other options that could help you out in special situations. </span><span class="koboSpan" id="kobo.518.2">To demonstrate, create the file </span><code class="inlineCode"><span class="koboSpan" id="kobo.519.1">fruit.txt</span></code><span class="koboSpan" id="kobo.520.1">, which will look like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.521.1">[donnie@fedora ~]$ cat &gt; fruit.txt
Peach
Peach
apricot
peach
Apricot
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.522.1">You see that</span><a id="_idIndexMarker291"/><span class="koboSpan" id="kobo.523.1"> there are some duplicate entries. </span><span class="koboSpan" id="kobo.523.2">Let’s see what a normal sort would</span><a id="_idIndexMarker292"/><span class="koboSpan" id="kobo.524.1"> look like:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.525.1">[donnie@fedora ~]$ sort fruit.txt
apricot
Apricot
peach
Peach
Peach
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.526.1">Since you only need one entry for each fruit, use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.527.1">-u</span></code><span class="koboSpan" id="kobo.528.1"> option to get rid of duplicate entries, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.529.1">[donnie@fedora ~]$ sort -u fruit.txt
apricot
Apricot
peach
Peach
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.530.1">That looks somewhat better. </span><span class="koboSpan" id="kobo.530.2">But, do you really need to have the fruit names repeated in both upper-case and lower-case? </span><span class="koboSpan" id="kobo.530.3">If not, then add the </span><code class="inlineCode"><span class="koboSpan" id="kobo.531.1">-f </span></code><span class="koboSpan" id="kobo.532.1">switch to make </span><code class="inlineCode"><span class="koboSpan" id="kobo.533.1">sort</span></code><span class="koboSpan" id="kobo.534.1"> look at all letters as if they were uppercase, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.535.1">[donnie@fedora ~]$ sort -uf fruit.txt
apricot
Peach
[donnie@fedora ~]$
</span></code></pre>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.536.1">Some older Linux books may tell you that text files with a mixture of upper-case and lower-case letters in the sorted fields won’t sort properly unless you use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.537.1">-f</span></code><span class="koboSpan" id="kobo.538.1"> switch. </span></p>
      <p class="normal"><span class="koboSpan" id="kobo.539.1">For example, the name “MacLeod” would have come before the name “Mack” because the upper-case L would have been placed before the lower-case k. </span><span class="koboSpan" id="kobo.539.2">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.540.1">-f</span></code><span class="koboSpan" id="kobo.541.1"> switch would have forced </span><code class="inlineCode"><span class="koboSpan" id="kobo.542.1">sort</span></code><span class="koboSpan" id="kobo.543.1"> to place the list items in proper alphabetical order, regardless of case. </span><span class="koboSpan" id="kobo.543.2">However, with the newer Linux distros, this is no longer a problem. </span><span class="koboSpan" id="kobo.543.3">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.544.1">-f</span></code><span class="koboSpan" id="kobo.545.1"> switch still has its uses, as you see in the above example. </span><span class="koboSpan" id="kobo.545.2">But, this problem that those other Linux books tell you about no longer exists.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.546.1">For our next</span><a id="_idIndexMarker293"/><span class="koboSpan" id="kobo.547.1"> demonstration, create </span><a id="_idIndexMarker294"/><span class="koboSpan" id="kobo.548.1">a file with a list of numbers.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.549.1">[donnie@fedora ~]$ cat &gt; numbers.txt
1
5
10
78
78034
10053
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.550.1">Here’s what you’ll get when you try to sort the list:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.551.1">[donnie@fedora ~]$ sort numbers.txt
1
10
10053
5
78
78034
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.552.1">That’s probably not what you want. </span><span class="koboSpan" id="kobo.552.2">To make it sort in proper numerical order, use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.553.1">-n </span></code><span class="koboSpan" id="kobo.554.1">switch, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.555.1">[donnie@fedora ~]$ sort -n numbers.txt
1
5
10
78
10053
78034
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.556.1">Add the </span><code class="inlineCode"><span class="koboSpan" id="kobo.557.1">-r</span></code><span class="koboSpan" id="kobo.558.1"> switch </span><a id="_idIndexMarker295"/><span class="koboSpan" id="kobo.559.1">to sort</span><a id="_idIndexMarker296"/><span class="koboSpan" id="kobo.560.1"> the file in reverse order:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.561.1">[donnie@fedora ~]$ sort -nr numbers.txt
78034
10053
78
10
5
1
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.562.1">This time, just for fun, create a text file with some decimals and negative numbers, as well as some positive numbers:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.563.1">[donnie@fedora ~]$ cat &gt; numbers_2.txt
-68
57
2.6
1.24
10000
14
1.4
8
80
8.2
.8
-87
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.564.1">Now, let’s see how this sorts out without any option switches:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.565.1">[donnie@fedora ~]$ sort numbers_2.txt
10000
1.24
1.4
14
2.6
57
-68
.8
8
80
8.2
-87
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.566.1">As before, add </span><a id="_idIndexMarker297"/><span class="koboSpan" id="kobo.567.1">the</span><code class="inlineCode"><span class="koboSpan" id="kobo.568.1"> -n</span></code><span class="koboSpan" id="kobo.569.1"> switch to </span><a id="_idIndexMarker298"/><span class="koboSpan" id="kobo.570.1">sort the list in proper numerical order:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.571.1">[donnie@fedora ~]$ sort -n numbers_2.txt
-87
-68
.8
1.24
1.4
2.6
8
8.2
14
57
80
10000
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.572.1">For our next example, let’s create a file list of used automobiles. </span><span class="koboSpan" id="kobo.572.2">We’ll list the make, model, year, mileage (in thousands), and the selling price. </span><span class="koboSpan" id="kobo.572.3">(If you’re not here with me in the United States, just pretend that the miles are really kilometers.) Here’s what the list looks like:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.573.1">[donnie@fedora ~]$ cat &gt; autos.txt
plymouth		satellite	1970	154	600
plymouth		fury		1970	73	2500
plymouth		breeze		1996	116	4300
chevy		malibu		2000	60	3000
ford			mustang	1965	45	10000
volvo		s80		1998	102	9850
ford			thunderbird	2003	15	3500
chevy		malibu		1999	50	3500
bmw	       		325i		1985	115	450
bmw			325i		1985	60	1000
honda		accord		2001	30	6000
ford			taurus		2004	10	17000
toyota		rav4		2002	180	750
chevy		impala		1985	85	1550
ford			explorer	2003	25	9500
jeep			wrangler	2003	54	1600
edsel		corsair	1958	47	750
ford			galaxie	1964	128	60
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.574.1">We’ll first do</span><a id="_idIndexMarker299"/><span class="koboSpan" id="kobo.575.1"> a normal</span><a id="_idIndexMarker300"/><span class="koboSpan" id="kobo.576.1"> sort, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.577.1">[donnie@fedora ~]$ sort autos.txt
bmw			325i		1985	115	450
bmw			325i		1985	60	1000
chevy		impala		1985	85	1550
chevy		malibu		1999	50	3500
chevy		malibu		2000	60	3000
edsel		corsair	1958	47	750
ford			explorer	2003	25	9500
ford			galaxie	1964	128	60
ford			mustang	1965	45	10000
ford			taurus		2004	10	17000
ford			thunderbird	2003	15	3500
honda		accord		2001	30	6000
jeep			wrangler	2003	54	1600
plymouth		breeze		1996	116	4300
plymouth		fury		1970	73	2500
plymouth		satellite	1970	154	600
toyota		rav4		2002	180	750
volvo		s80		1998	102	9850
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.578.1">By default, a sort operation will start with the first column of a file, and go through each entire row until it runs out of non-unique entries. </span><span class="koboSpan" id="kobo.578.2">Here, we see that everything sorts properly until it gets to the year column. </span><span class="koboSpan" id="kobo.578.3">(We’ll fix that in a moment.)</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.579.1">Whenever there is</span><a id="_idIndexMarker301"/><span class="koboSpan" id="kobo.580.1"> more than one car of a certain make, the sort will continue to the model column. </span><span class="koboSpan" id="kobo.580.2">When there is more than one of a given model, the sort will continue on to the year column. </span><span class="koboSpan" id="kobo.580.3">The mileage column is considered in the sort as </span><a id="_idIndexMarker302"/><span class="koboSpan" id="kobo.581.1">well, even though it may not look like it in this example. </span><span class="koboSpan" id="kobo.581.2">That’s because of the problem with numerical sorting that I showed you a couple of pages ago.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.582.1">In order to sort numbers in numerical order instead of machine-sort order, you have to use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.583.1">-n</span></code><span class="koboSpan" id="kobo.584.1"> switch. </span><span class="koboSpan" id="kobo.584.2">We can do that by using the </span><code class="inlineCode"><span class="koboSpan" id="kobo.585.1">-k</span></code><span class="koboSpan" id="kobo.586.1"> switch to specify the individual columns that we want to sort, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.587.1">[donnie@fedora ~]$ sort -k1,3 -k4n autos.txt
bmw			325i		1985	60	1000
bmw			325i		1985	115	450
chevy		impala		1985	85	1550
chevy		malibu		1999	50	3500
chevy		malibu		2000	60	3000
edsel		corsair	1958	47	750
ford			explorer	2003	25	9500
ford			galaxie	1964	128	60
ford			mustang	1965	45	10000
ford			taurus		2004	10	17000
ford			thunderbird	2003	15	3500
honda		accord		2001	30	6000
jeep			wrangler	2003	54	1600
plymouth		breeze		1996	116	4300
plymouth		fury		1970	73	2500
plymouth		satellite	1970	154	600
toyota		rav4		2002	180	750
volvo		s80		1998	102	9850
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.588.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.589.1">-k1,3</span></code><span class="koboSpan" id="kobo.590.1"> option means to sort on fields one through three. </span><span class="koboSpan" id="kobo.590.2">(In other words, sort on the make, model, and year fields.) The </span><code class="inlineCode"><span class="koboSpan" id="kobo.591.1">-k4n</span></code><span class="koboSpan" id="kobo.592.1"> option means to also sort on the fourth (the mileage) field in numerical order.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.593.1">Note that you can specify sort options for individual fields. </span><span class="koboSpan" id="kobo.593.2">Also note that the price column will never be considered in this sort, since no line entries are completely identical up through the mileage column.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.594.1">Next, let’s sort </span><a id="_idIndexMarker303"/><span class="koboSpan" id="kobo.595.1">our autos</span><a id="_idIndexMarker304"/><span class="koboSpan" id="kobo.596.1"> list first by both manufacturer and then by price. </span><span class="koboSpan" id="kobo.596.2">For this, you would have to sort on fields one and five. </span><span class="koboSpan" id="kobo.596.3">Since we already know that we need the </span><code class="inlineCode"><span class="koboSpan" id="kobo.597.1">-n</span></code><span class="koboSpan" id="kobo.598.1"> switch for column five to sort properly, we’ll go ahead and add it in, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.599.1">[donnie@fedora ~]$ sort -k 1 -k5n autos.txt
bmw			325i		1985	115	450
bmw			325i		1985	60	1000
chevy		impala		1985	85	1550
chevy		malibu		1999	50	3500
chevy		malibu		2000	60	3000
edsel		corsair	1958	47	750
ford			explorer	2003	25	9500
ford			galaxie	1964	128	60
ford			mustang	1965	45	10000
ford			taurus		2004	10	17000
ford			thunderbird	2003	15	3500
honda		accord		2001	30	6000
jeep			wrangler	2003	54	1600
plymouth		breeze		1996	116	4300
plymouth		fury		1970	73	2500
plymouth		satellite	1970	154	600
toyota		rav4		2002	180	750
volvo		s80		1998	102	9850
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.600.1">Whenever you specify two or more </span><code class="inlineCode"><span class="koboSpan" id="kobo.601.1">-k</span></code><span class="koboSpan" id="kobo.602.1"> switches, </span><code class="inlineCode"><span class="koboSpan" id="kobo.603.1">sort</span></code><span class="koboSpan" id="kobo.604.1"> will perform its operation in more than one pass. </span><span class="koboSpan" id="kobo.604.2">For the first pass, it will sort on the field specified with the first </span><code class="inlineCode"><span class="koboSpan" id="kobo.605.1">-k</span></code><span class="koboSpan" id="kobo.606.1"> switch. </span><span class="koboSpan" id="kobo.606.2">Sorts on the remaining specified fields will be performed in subsequent passes.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.607.1">Here, we see that </span><code class="inlineCode"><span class="koboSpan" id="kobo.608.1">sort</span></code><span class="koboSpan" id="kobo.609.1"> ignored the second </span><code class="inlineCode"><span class="koboSpan" id="kobo.610.1">-k</span></code><span class="koboSpan" id="kobo.611.1"> switch. </span><span class="koboSpan" id="kobo.611.2">That’s because the first </span><code class="inlineCode"><span class="koboSpan" id="kobo.612.1">-k</span></code><span class="koboSpan" id="kobo.613.1"> switch didn’t specify an end point for its sort. </span><span class="koboSpan" id="kobo.613.2">So, </span><code class="inlineCode"><span class="koboSpan" id="kobo.614.1">sort</span></code><span class="koboSpan" id="kobo.615.1"> evaluated each entire line on the first pass, and decided that a second pass wasn’t needed.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.616.1">Now, let’s specify an </span><a id="_idIndexMarker305"/><span class="koboSpan" id="kobo.617.1">endpoint for the first </span><code class="inlineCode"><span class="koboSpan" id="kobo.618.1">-k</span></code><span class="koboSpan" id="kobo.619.1"> switch to see if that makes a </span><a id="_idIndexMarker306"/><span class="koboSpan" id="kobo.620.1">difference.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.621.1">[donnie@fedora ~]$ sort -k1,1 -k5n autos.txt
bmw			325i		1985	115	450
bmw			325i		1985	60	1000
chevy		impala		1985	85	1550
chevy		malibu		2000	60	3000
chevy		malibu		1999	50	3500
edsel		corsair	1958	47	750
ford			galaxie	1964	128	60
ford			thunderbird	2003	15	3500
ford			explorer	2003	25	9500
ford			mustang	1965	45	10000
ford			taurus		2004	10	17000
honda		accord		2001	30	6000
jeep			wrangler	2003	54	1600
plymouth		satellite	1970	154	600
plymouth		fury		1970	73	2500
plymouth		breeze		1996	116	4300
toyota		rav4		2002	180	750
volvo		s80		1998	102	9850
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.622.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.623.1">-k1,1</span></code><span class="koboSpan" id="kobo.624.1"> option means that we want the first pass to sort on the first—and only the first—field of our file. </span><span class="koboSpan" id="kobo.624.2">By adding that end point, our sort works as we want it to.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.625.1">You don’t have to start with the first field for your sorts. </span><span class="koboSpan" id="kobo.625.2">For this next example, we’ll sort first by field three (year), and then by field one (make).</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.626.1">[donnie@fedora ~]$ sort -k3 -k1 autos.txt
edsel		corsair		1958	47	750
ford			galaxie		1964	128	60
ford			mustang		1965	45	10000
plymouth		satellite	1970	154	600
plymouth		fury		1970	73	2500
bmw			325i		1985	115	450
bmw			325i		1985	60	1000
chevy		impala		1985	85	1550
plymouth		breeze		1996	116	4300
volvo		s80		1998	102	9850
chevy		malibu		1999	50	3500
chevy		malibu		2000	60	3000
honda		accord		2001	30	6000
toyota		rav4		2002	180	750
ford			thunderbird	2003	15	3500
ford			explorer	2003	25	9500
jeep			wrangler	2003	54	1600
ford			taurus		2004	10	17000
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.627.1">Again, you can see </span><a id="_idIndexMarker307"/><span class="koboSpan" id="kobo.628.1">what happens when you don’t specify an end point for your</span><a id="_idIndexMarker308"/><span class="koboSpan" id="kobo.629.1"> first sort field. </span><span class="koboSpan" id="kobo.629.2">So, let’s try this again.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.630.1">[donnie@fedora ~]$ sort -k3,3 -k1 autos.txt
edsel		corsair		1958	47	750
ford			galaxie		1964	128	60
ford			mustang		1965	45	10000
plymouth		fury		1970	73	2500
plymouth		satellite	1970	154	600
bmw			325i		1985	115	450
bmw			325i		1985	60	1000
chevy		impala		1985	85	1550
plymouth		breeze		1996	116	4300
volvo		s80		1998	102	9850
chevy		malibu		1999	50	3500
chevy		malibu		2000	60	3000
honda		accord		2001	30	6000
toyota		rav4		2002	180	750
ford			explorer	2003	25	9500
ford			thunderbird	2003	15	3500
jeep			wrangler	2003	54	1600
ford			taurus		2004	10	17000
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.631.1">Okay, so it still didn’t work. </span><span class="koboSpan" id="kobo.631.2">Everything is still sorted correctly by year, but not by make. </span><span class="koboSpan" id="kobo.631.3">We’re not the ones</span><a id="_idIndexMarker309"/><span class="koboSpan" id="kobo.632.1"> to give up here, so let’s try it one more</span><a id="_idIndexMarker310"/><span class="koboSpan" id="kobo.633.1"> time.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.634.1">[donnie@fedora ~]$ sort -b -k3,3 -k1 autos.txt
edsel		corsair		1958	47	750
ford			galaxie		1964	128	60
ford			mustang		1965	45	10000
plymouth		fury		1970	73	2500
plymouth		satellite	1970	154	600
bmw			325i		1985	115	450
bmw			325i		1985	60	1000
chevy		impala		1985	85	1550
plymouth		breeze		1996	116	4300
volvo		s80		1998	102	9850
chevy		malibu		1999	50	3500
chevy		malibu		2000	60	3000
honda		accord		2001	30	6000
toyota		rav4		2002	180	750
ford			explorer	2003	25	9500
ford			thunderbird	2003	15	3500
jeep			wrangler	2003	54	1600
ford			taurus		2004	10	17000
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.635.1">Note how in four out of the five fields, the text strings are of different lengths. </span><span class="koboSpan" id="kobo.635.2">Theoretically, the extra blank spaces in the lines with shorter text strings should have adversely affected all of the sort operations that we’ve performed. </span><span class="koboSpan" id="kobo.635.3">For some reason, however, only this last sort operation was affected. </span><span class="koboSpan" id="kobo.635.4">By adding the </span><code class="inlineCode"><span class="koboSpan" id="kobo.636.1">-b</span></code><span class="koboSpan" id="kobo.637.1"> switch, we’re telling </span><code class="inlineCode"><span class="koboSpan" id="kobo.638.1">sort </span></code><span class="koboSpan" id="kobo.639.1">to ignore the extra blank spaces.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.640.1">Okay, maybe you don’t have a collection of antique automobiles. </span><span class="koboSpan" id="kobo.640.2">But, you might have lists of other items that you’ll need to sort in various ways. </span><span class="koboSpan" id="kobo.640.3">Keep in mind that you can use the techniques that I’ve presented here for any type of list that you might have.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.641.1">All right, that’s </span><a id="_idIndexMarker311"/><span class="koboSpan" id="kobo.642.1">enough for the vintage automobiles. </span><span class="koboSpan" id="kobo.642.2">Let’s now look at sorting lists</span><a id="_idIndexMarker312"/><span class="koboSpan" id="kobo.643.1"> of months. </span><span class="koboSpan" id="kobo.643.2">First, let’s create the list, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.644.1">[donnie@fedora ~]$ cat &gt; dates.txt
Dec	2023
jan	2023
Oct	2023
Sep	2022
Feb	2022
mar	2023
may	2022
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.645.1">Now, use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.646.1">-M</span></code><span class="koboSpan" id="kobo.647.1"> switch to sort the list by month:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.648.1">[donnie@fedora ~]$ sort -M dates.txt
jan	2023
Feb	2022
mar	2023
may	2022
Sep	2022
Oct	2023
Dec	2023
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.649.1">As you see, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.650.1">-M</span></code><span class="koboSpan" id="kobo.651.1"> switch isn’t case-sensitive.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.652.1">Now, use the techniques you’ve learned in the previous examples to sort first by year, and then by month, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.653.1">[donnie@fedora ~]$ sort -k2,2 -k1M dates.txt
Feb	2022
may	2022
Sep	2022
jan	2023
mar	2023
Oct	2023
Dec	2023
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.654.1">And finally, as promised, I’ll now show you how to use </span><code class="inlineCode"><span class="koboSpan" id="kobo.655.1">join</span></code><span class="koboSpan" id="kobo.656.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.657.1">sort</span></code><span class="koboSpan" id="kobo.658.1"> together to somewhat emulate a simple relational database program. </span><span class="koboSpan" id="kobo.658.2">Let’s first take a peek at the input files, which are the same ones that we used before. </span><span class="koboSpan" id="kobo.658.3">First, we have </span><code class="inlineCode"><span class="koboSpan" id="kobo.659.1">actorfile_1.txt</span></code><span class="koboSpan" id="kobo.660.1">:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.661.1">[donnie@fedora ~]$ cat actorfile_1.txt
Benny		Jack
Allen		Fred
Ladd			Alan
Hitchcock		Alfred
Robinson		Edgar
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.662.1">The second</span><a id="_idIndexMarker313"/><span class="koboSpan" id="kobo.663.1"> input file</span><a id="_idIndexMarker314"/><span class="koboSpan" id="kobo.664.1"> is </span><code class="inlineCode"><span class="koboSpan" id="kobo.665.1">actorfile_2.txt</span></code><span class="koboSpan" id="kobo.666.1">, which looks like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.667.1">[donnie@fedora ~]$ cat actorfile_2.txt
Benny		comedy
Allen		comedy
Ladd			adventure
Hitchcock		mystery
Robinson		drama
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.668.1">Now, we’ll join them together and feed the results through </span><code class="inlineCode"><span class="koboSpan" id="kobo.669.1">sort</span></code><span class="koboSpan" id="kobo.670.1">. </span><span class="koboSpan" id="kobo.670.2">(Again, note how </span><code class="inlineCode"><span class="koboSpan" id="kobo.671.1">join</span></code><span class="koboSpan" id="kobo.672.1"> turns the tabs in the input into normal spaces.)</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.673.1">[donnie@fedora ~]$ join actorfile_1.txt actorfile_2.txt | sort
Allen Fred comedy
Benny Jack comedy
Hitchcock Alfred mystery
Ladd Alan adventure
Robinson Edgar drama
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.674.1">Okay, this doesn’t look so great, because </span><code class="inlineCode"><span class="koboSpan" id="kobo.675.1">join</span></code><span class="koboSpan" id="kobo.676.1"> doesn’t maintain proper column alignment. </span><span class="koboSpan" id="kobo.676.2">Let’s fix that by piping the output into the </span><code class="inlineCode"><span class="koboSpan" id="kobo.677.1">column -t</span></code><span class="koboSpan" id="kobo.678.1"> command, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.679.1">donnie@fedora:~$ join actorfile_1.txt actorfile_2.txt | sort | column -t
Allen         Fred       comedy
Benny         Jack       comedy
Hitchcock     Alfred     mystery
Ladd          Alan       adventure
Robinson      Edgar      drama
donnie@fedora:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.680.1">We can use the</span><a id="_idIndexMarker315"/><span class="koboSpan" id="kobo.681.1"> techniques we’ve already learned to sort by category, and then</span><a id="_idIndexMarker316"/><span class="koboSpan" id="kobo.682.1"> by last name.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.683.1">[donnie@fedora ~]$ join actorfile_1.txt actorfile_2.txt | sort -b -k3,3 -k1
Ladd Alan adventure
Allen Fred comedy
Benny Jack comedy
Robinson Edgar drama
Hitchcock Alfred mystery
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.684.1">As you see, there’s a lot to this topic, but don’t let that discourage you. </span><span class="koboSpan" id="kobo.684.2">With a little practice, you’ll be sorting with the pros.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.685.1">Okay, that just about wraps things up for this chapter. </span><span class="koboSpan" id="kobo.685.2">Let’s summarize and move on.</span></p>
    <h1 id="_idParaDest-106" class="heading 1"><span class="koboSpan" id="kobo.686.1">Summary</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.687.1">As a Linux systems administrator, a developer, or even an office clerk who uses Linux, you might need to extract and format data from either text files or the output of system commands. </span><span class="koboSpan" id="kobo.687.2">In this chapter you learned about various text-stream filters and how they can be useful for helping you do this. </span><span class="koboSpan" id="kobo.687.3">There are plenty more filters left to cover, which we’ll do in the next chapter. </span><span class="koboSpan" id="kobo.687.4">I’ll see you there.</span></p>
    <h1 id="_idParaDest-107" class="heading 1"><span class="koboSpan" id="kobo.688.1">Questions</span></h1>
    <ol>
      <li class="numberedList" value="1"><span class="koboSpan" id="kobo.689.1">Which of the following utilities would you use to join two or more files together side-by-side?</span><ol>
          <li class="alphabeticList level 2" value="1"><code class="inlineCode"><span class="koboSpan" id="kobo.690.1">join</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.691.1">cat</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.692.1">tac</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.693.1">paste</span></code></li>
        </ol>
      </li>
      <li class="numberedList"><span class="koboSpan" id="kobo.694.1">Which two of the following utilities can you use together to create simple databases? </span><span class="koboSpan" id="kobo.694.2">(Choose two.)</span><ol>
          <li class="alphabeticList level 2" value="1"><code class="inlineCode"><span class="koboSpan" id="kobo.695.1">paste</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.696.1">sort</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.697.1">join</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.698.1">cat</span></code></li>
        </ol>
      </li>
      <li class="numberedList"><span class="koboSpan" id="kobo.699.1">Which of the following commands would properly save the output of the cat operation?</span><ol>
          <li class="alphabeticList level 2" value="1"><code class="inlineCode"><span class="koboSpan" id="kobo.700.1">cat file1.txt file2.txt &gt; file1.txt</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.701.1">cat file1.txt file2.txt &gt; file2.txt</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.702.1">cat file1.txt file2.txt &gt; file3.txt</span></code></li>
        </ol>
      </li>
      <li class="numberedList"><span class="koboSpan" id="kobo.703.1">You want </span><code class="inlineCode"><span class="koboSpan" id="kobo.704.1">sort</span></code><span class="koboSpan" id="kobo.705.1"> to sort on Field 1, and only Field 1, of your file. </span><span class="koboSpan" id="kobo.705.2">What would your command look like?</span><ol>
          <li class="alphabeticList level 2" value="1"><code class="inlineCode"><span class="koboSpan" id="kobo.706.1">sort -F1 myfile.txt</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.707.1">sort -F1,1 myfile.txt</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.708.1">sort -k1 myfile.txt</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.709.1">sort -k1,1 myfile.txt</span></code></li>
        </ol>
      </li>
      <li class="numberedList"><span class="koboSpan" id="kobo.710.1">Which of the following option switches would you use with cat to eliminate duplicate blank lines?</span><ol>
          <li class="alphabeticList level 2" value="1"><code class="inlineCode"><span class="koboSpan" id="kobo.711.1">-d</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.712.1">-s</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.713.1">-o</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.714.1">-u</span></code></li>
        </ol>
      </li>
    </ol>
    <h1 id="_idParaDest-108" class="heading 1"><span class="koboSpan" id="kobo.715.1">Further Reading</span></h1>
    <ul>
      <li class="bulletList"><span class="koboSpan" id="kobo.716.1">Linux Professional Institute Exam 101 Objectives: </span><a href="https://www.lpi.org/our-certifications/exam-101-objectives"><span class="url"><span class="koboSpan" id="kobo.717.1">https://www.lpi.org/our-certifications/exam-101-objectives</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.718.1">How to Use the join Command on Linux: </span><a href="https://www.howtogeek.com/542677/how-to-use-the-join-command-on-linux/"><span class="url"><span class="koboSpan" id="kobo.719.1">https://www.howtogeek.com/542677/how-to-use-the-join-command-on-linux/</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.720.1">sort Command Examples: </span><a href="https://linuxhandbook.com/sort-command/"><span class="url"><span class="koboSpan" id="kobo.721.1">https://linuxhandbook.com/sort-command/</span></span></a></li>
    </ul>
    <h1 id="_idParaDest-109" class="heading 1"><span class="koboSpan" id="kobo.722.1">Answers</span></h1>
    <ol>
      <li class="numberedList" value="1"><span class="koboSpan" id="kobo.723.1">d</span></li>
      <li class="numberedList"><span class="koboSpan" id="kobo.724.1">b and c</span></li>
      <li class="numberedList"><span class="koboSpan" id="kobo.725.1">c</span></li>
      <li class="numberedList"><span class="koboSpan" id="kobo.726.1">d</span></li>
      <li class="numberedList"><span class="koboSpan" id="kobo.727.1">b</span></li>
    </ol>
    <h1 id="_idParaDest-110" class="heading 1"><span class="koboSpan" id="kobo.728.1">Join our community on Discord!</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.729.1">Read this book alongside other users, Linux experts, and the author himself. </span></p>
    <p class="normal"><span class="koboSpan" id="kobo.730.1">Ask questions, provide solutions to other readers, chat with the author via Ask Me Anything sessions, and much more. </span><span class="koboSpan" id="kobo.730.2">Scan the QR code or visit the link to join the community.</span></p>
    <p class="normal"><a href="https://packt.link/SecNet"><span class="url"><span class="koboSpan" id="kobo.731.1">https://packt.link/SecNet</span></span></a></p>
    <p class="normal"><span class="koboSpan" id="kobo.732.1"><img src="../Images/QR_Code10596186092701843.png" alt=""/></span></p>
  </div>
</body></html>