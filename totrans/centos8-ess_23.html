<html><head></head><body><div id="sbo-rt-content"><div id="_idContainer216" class="_idGenObjectStyleOverride-1">&#13;
			<p id="_idParaDest-231" class="Chapter-Title"><span class="ChapterMarker">25. </span><a id="_idTextAnchor308"/>An Introduction to Linux Containers</p>&#13;
			<p class="My-Basic-Paragraph">The preceding chapters covered the concept of virtualization with a particular emphasis on creating and managing virtual machines using KVM. This chapter will introduce a related technology in the form of Linux Containers. While there are some similarities between virtual machines and containers, there are also some key differences that will be outlined in this chapter along with an introduction to the concepts and advantages of Linux Containers. The chapter will also provide an overview of some of the CentOS 8 container management tools. Once the basics of containers have been covered in this chapter, the next chapter will work through some practical examples of creating and running containers on CentOS 8.</p>&#13;
			<p id="_idParaDest-232" class="Heading-1-1"><span class="Heading11Marker">25.1 </span><a id="_idTextAnchor309"/>Linux <a id="_idIndexMarker507"/><a id="_idIndexMarker508"/><a id="_idIndexMarker509"/><a id="_idIndexMarker510"/>Containers and Kernel Sharing</p>&#13;
			<p class="My-Basic-Paragraph">In simple terms, Linux containers can be thought of as a lightweight alternative to virtualization. In a virtualized environment, a virtual machine is created that contains and runs the entire guest operating system. The virtual machine, in turn, runs on top of an environment such as a hypervisor that manages access to the physical resources of the host system. </p>&#13;
			<p class="My-Basic-Paragraph">Containers work by using a concept referred to as <span class="My-Italic _idGenCharOverride-1">kernel sharing</span> which takes advantage of the architectural design of Linux and UNIX-based operating systems. </p>&#13;
			<p class="My-Basic-Paragraph">In order to understand how kernel sharing and containers work it helps to first understand the two main components of Linux or UNIX operating systems. At the core of the operating system is the kernel. The kernel, in simple terms, handles all the interactions between the operating system and the physical hardware. The second key component is the root file system which contains all the libraries, files and utilities necessary for the operating system to function. Taking advantage of this structure, containers each have their own root file system but share the kernel of the host operating system. This structure is illustrated in the architectural diagram in <a href="../Text/Containers_Overview.xhtml#_idTextAnchor310">Figure 25-1</a> below.</p>&#13;
			<p class="My-Basic-Paragraph">This type of resource sharing is made possible by the ability of the kernel to dynamically change the current root file system (a concept known as <a id="_idIndexMarker511"/><a id="_idIndexMarker512"/><a id="_idIndexMarker513"/><a id="_idIndexMarker514"/><span class="My-Italic _idGenCharOverride-1">change root</span> or <span class="My-Italic _idGenCharOverride-1">chroot</span>) to a different root file system without having to reboot the entire system. Linux containers are essentially an extension of this capability combined with a <a id="_idIndexMarker515"/><a id="_idIndexMarker516"/><span class="My-Italic _idGenCharOverride-1">container runtime</span>, the responsibility of which is to provide an interface for executing and managing the containers on the host system. A number of container runtimes are available including <a id="_idIndexMarker517"/><a id="_idIndexMarker518"/>Docker, <a id="_idIndexMarker519"/><a id="_idIndexMarker520"/>lxd, <a id="_idIndexMarker521"/><a id="_idIndexMarker522"/>containerd and <a id="_idIndexMarker523"/><a id="_idIndexMarker524"/>CRI-O. Earlier versions of CentOS used Docker by default but this has been supplanted by <a id="_idIndexMarker525"/><a id="_idIndexMarker526"/>Podman as the default in CentOS 8.</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-1" src="Images/linux_container_diagram.png" alt="" width="648" height="371"/></p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 25-1</span><a id="_idTextAnchor310"/></p>&#13;
			<p id="_idParaDest-233" class="Heading-1-1"><span class="Heading11Marker">25.2 </span><a id="_idTextAnchor311"/>Container Uses and Advantages</p>&#13;
			<p class="My-Basic-Paragraph">The main advantage of containers is that they require considerably less resource overhead than virtualization allowing many container instances to be run simultaneously on a single server, and can be started and stopped rapidly and efficiently in response to demand levels. Containers run natively on the host system providing a level of performance that cannot be matched by a virtual machine.</p>&#13;
			<p class="My-Basic-Paragraph">Containers are also extremely portable and can be migrated between systems quickly and easily. When combined with a container management system such as Docker, OpenShift and Kubernetes, it is possible to deploy and manage containers on a vast scale spanning multiple servers and cloud platforms, potentially running thousands of containers. </p>&#13;
			<p class="My-Basic-Paragraph">Containers are frequently used to create lightweight execution environments for applications. In this scenario, each container provides an isolated environment containing the application together with all of the runtime and supporting files required by that application to run. The container can then be deployed to any other compatible host system that supports container execution and run without any concerns that the target system may not have the necessary runtime configuration for the application - all of the application’s dependencies are already in the container.</p>&#13;
			<p class="My-Basic-Paragraph">Containers are also useful when bridging the gap between development and production environments. By performing development and QA work in containers, those containers can then be passed to production and launched safe in the knowledge that the applications are running in the same container environments in which they were developed and tested.</p>&#13;
			<p class="My-Basic-Paragraph">Containers also promote a modular approach to deploying large and complex solutions. Instead of developing applications as single monolithic entities, containers can be used to design applications as groups of interacting modules, each running in a separate container.</p>&#13;
			<p class="My-Basic-Paragraph">One possible drawback of containers is the fact that the guest operating systems must be compatible with the version of the kernel which is being shared. It is not, for example, possible to run Microsoft Windows in a container on a Linux system. Nor is it possible for a Linux guest system designed for the 2.6 version of the kernel to share a 2.4 version kernel. These requirements are not, however, what containers were designed for. Rather than being seen as limitations, therefore, these restrictions should be viewed as some of the key advantages of containers in terms of providing a simple, scalable and reliable deployment platform. </p>&#13;
			<p id="_idParaDest-234" class="Heading-1-1"><span class="Heading11Marker">25.3 </span><a id="_idTextAnchor312"/>CentOS 8 Container Tools</p>&#13;
			<p class="My-Basic-Paragraph">CentOS 8 provides a number of tools for creating, inspecting and managing containers. The main tools are as follows:</p>&#13;
			<p class="Bullet-List"><span class="_idGenBNMarker-4">•</span><a id="_idIndexMarker527"/><a id="_idIndexMarker528"/><span class="My-Bold _idGenCharOverride-1">buildah</span> – A command-line tool for building container images.</p>&#13;
			<p class="Bullet-List"><span class="_idGenBNMarker-4">•</span><a id="_idIndexMarker529"/><a id="_idIndexMarker530"/><span class="My-Bold _idGenCharOverride-1">podman</span> – A command-line based container runtime and management tool. Performs tasks such as downloading container images from remote registries and inspecting, starting and stopping images.</p>&#13;
			<p class="Bullet-List"><span class="_idGenBNMarker-4">•</span><a id="_idIndexMarker531"/><a id="_idIndexMarker532"/><span class="My-Bold _idGenCharOverride-1">skopeo</span> – A command-line utility used to convert container images, copy images between registries and inspect images stored in registries without the need to download them.</p>&#13;
			<p class="Bullet-List"><span class="_idGenBNMarker-4">•</span><a id="_idIndexMarker533"/><a id="_idIndexMarker534"/><span class="My-Bold _idGenCharOverride-1">runc</span> – A lightweight container runtime for launching and running containers from the command-line.</p>&#13;
			<p class="Bullet-List"><span class="_idGenBNMarker-4">•</span><a id="_idIndexMarker535"/><a id="_idIndexMarker536"/><span class="My-Bold _idGenCharOverride-1">OpenShift</span> – An enterprise level container application management platform consisting of command-line and web-based tools.</p>&#13;
			<p class="My-Basic-Paragraph">All of the above tools are compliant with the Open Container Initiative (OCI), a set of specifications designed to ensure that containers conform to the same standards between competing tools and platforms.</p>&#13;
			<p id="_idParaDest-235" class="Heading-1-1"><span class="Heading11Marker">25.4 </span><a id="_idTextAnchor313"/>The Docker Registry</p>&#13;
			<p class="My-Basic-Paragraph">Although CentOS is provided with a set of tools designed to be used in place of those provided by Docker, those tools still need access to CentOS images for use when building containers. For this purpose, the CentOS project maintains a set of CentOS container images within the Docker Hub. The Docker Hub is an online container <span class="My-Italic CharOverride-2">registry</span> made of multiple <span class="My-Italic CharOverride-2">repositories</span>, each containing a wide range of container images available for download when building containers. The images within a repository are each assigned a <span class="My-Italic CharOverride-2">repository tag</span> (for example, centos8, centos7.7, latest etc) which can be referenced when performing an image download. The following, for example, is the URL of the centos8 image contained within the Docker Hub:</p>&#13;
			<p class="Code">docker://docker.io/library/centos:centos8</p>&#13;
			<p class="My-Basic-Paragraph">In addition to downloading (referred to as “pulling” in container terminology) container images from Docker and other third party hosts registries, you can also use registries to store your own images. This can be achieved either by hosting your own registry, or by making use of existing services such as those provided by Docker, Amazon AWS, Google Cloud, Microsoft Azure and IBM Cloud to name a few of the many options.</p>&#13;
			<p id="_idParaDest-236" class="Heading-1-1"><span class="Heading11Marker">25.5 </span><a id="_idTextAnchor315"/><a id="_idTextAnchor316"/><a id="_idIndexMarker541"/><a id="_idIndexMarker542"/>Container Networking</p>&#13;
			<p class="My-Basic-Paragraph">By default, containers are connected to a network using a <a id="_idIndexMarker543"/><a id="_idIndexMarker544"/><a id="_idIndexMarker545"/>Container Networking Interface (CNI) bridged network stack. In the bridged configuration, all the containers running on a server belong to the same subnet (10.88.0.0/16 by default) and, as such, are able to communicate with each other. The containers are also connected to the external network by bridging the host system’s network connection. Similarly, the host is able to access the containers via a virtual network interface (usually named cni0) which will have been created as part of the container tool installation.</p>&#13;
			<p id="_idParaDest-237" class="Heading-1-1"><span class="Heading11Marker">25.6 </span><a id="_idTextAnchor317"/>Summary</p>&#13;
			<p class="My-Basic-Paragraph">Linux Containers offer a lightweight alternative to virtualization and take advantage of the structure of the Linux and Unix operating systems. Linux Containers essentially share the kernel of the host operating system, with each container having its own root file system containing the files, libraries and applications. Containers are highly efficient and scalable and provide an ideal platform for building and deploying modular enterprise level solutions. A number of tools and platforms are available for building, deploying and managing containers including third-party solutions and those provided with CentOS.</p>&#13;
		</div>&#13;
</div>



  </body></html>