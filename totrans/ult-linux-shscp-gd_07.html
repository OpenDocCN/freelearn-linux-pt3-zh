<html><head></head><body>
  <div id="_idContainer103" class="Basic-Text-Frame">
    <h1 class="chapterNumber"><span class="koboSpan" id="kobo.1.1">7</span></h1>
    <h1 id="_idParaDest-111" class="chapterTitle"><span class="koboSpan" id="kobo.2.1">Text Stream Filters – Part 2</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.3.1">In this chapter, we’ll continue our look at various text-stream filters. </span><span class="koboSpan" id="kobo.3.2">As you go through this chapter, I challenge you to use your imagination. </span><span class="koboSpan" id="kobo.3.3">Instead of thinking of these filter utilities as something you have to learn because I said so, or because you need to learn them for a Linux certification exam, try to imagine the ways in which each of these utilities can help you format your own text files and reports. </span><span class="koboSpan" id="kobo.3.4">Trust me, you’ll never know when one or more of these utilities could come in handy.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.4.1">Here are the topics that we’ll cover in this chapter:</span></p>
    <ul>
      <li class="bulletList"><span class="koboSpan" id="kobo.5.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.6.1">expand</span></code></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.7.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.8.1">unexpand</span></code></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.9.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.10.1">nl</span></code></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.11.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.12.1">head</span></code></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.13.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.14.1">tail</span></code></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.15.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.16.1">head</span></code><span class="koboSpan" id="kobo.17.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.18.1">tail</span></code><span class="koboSpan" id="kobo.19.1"> together</span></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.20.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.21.1">od</span></code></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.22.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.23.1">uniq</span></code></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.24.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.25.1">wc</span></code></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.26.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.27.1">fmt</span></code></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.28.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.29.1">split</span></code></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.30.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.31.1">tr</span></code></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.32.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.33.1">xargs</span></code></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.34.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.35.1">pr</span></code></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.36.1">Printing from the Command-line</span></li>
    </ul>
    <p class="normal"><span class="koboSpan" id="kobo.37.1">They’re not hard to master, but there is a lot to cover. </span><span class="koboSpan" id="kobo.37.2">So if you’re ready, let’s get started.</span></p>
    <h1 id="_idParaDest-112" class="heading 1"><span class="koboSpan" id="kobo.38.1">Technical Requirements</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.39.1">Use either of your virtual machines, because things will work the same on either of them. </span><span class="koboSpan" id="kobo.39.2">Or, if your host machine is running either Linux or macOS, feel free to use it instead of a virtual machine. </span><span class="koboSpan" id="kobo.39.3">I won’t be providing an actual hands-on lab, so feel free to follow along on your own machine as you read through the chapter. </span><span class="koboSpan" id="kobo.39.4">And, as before, you can download the text files that you’ll need from the GitHub repository.</span></p>
    <h1 id="_idParaDest-113" class="heading 1"><span class="koboSpan" id="kobo.40.1">Using expand</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.41.1">There may be times </span><a id="_idIndexMarker317"/><span class="koboSpan" id="kobo.42.1">when a text document that you create with columnar data just won’t display correctly under certain circumstances. </span><span class="koboSpan" id="kobo.42.2">It may be because you separated the columns with tabs instead of with spaces. </span><span class="koboSpan" id="kobo.42.3">Sometimes, tabs won’t display correctly, and you’ll need to replace them with spaces. </span></p>
    <p class="normal"><span class="koboSpan" id="kobo.43.1">To look at this, create the </span><code class="inlineCode"><span class="koboSpan" id="kobo.44.1">expand.txt</span></code><span class="koboSpan" id="kobo.45.1"> text file. </span><span class="koboSpan" id="kobo.45.2">There will be three columns of data with two tabs between each column. </span><span class="koboSpan" id="kobo.45.3">The file will look like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.46.1">[donnie@fedora ~]$ cat &gt; expand.txt
one			two		three
four			five		six
seven		eight		nine
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.47.1">Now, expand the file and note the output. </span><span class="koboSpan" id="kobo.47.2">It should look like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.48.1">[donnie@fedora ~]$ expand expand.txt
one            		 two             	three
four           		 five          	six
seven         		 eight      	  	nine
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.49.1">Since I still have this creepy habit of reading your mind, I know that you’re wondering what’s really going on, since the expanded output looks the same as the original file. </span><span class="koboSpan" id="kobo.49.2">This is where looks can be deceiving. </span><span class="koboSpan" id="kobo.49.3">When you expanded the file, each tab that you placed between the columns was replaced by a number of blank spaces. </span><span class="koboSpan" id="kobo.49.4">The number of spaces varies from line-to-line, depending upon how many characters</span><a id="_idIndexMarker318"/><span class="koboSpan" id="kobo.50.1"> are in each text string. </span><span class="koboSpan" id="kobo.50.2">That way, the columns will still all line up evenly.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.51.1">Actually, expand replaces each whole tab character with eight spaces. </span><span class="koboSpan" id="kobo.51.2">But when you have text strings of varying lengths, it doesn’t appear to do that. </span><span class="koboSpan" id="kobo.51.3">That’s because expand adjusts the number of blank spaces it inserts to keep all of the columns lined up. </span><span class="koboSpan" id="kobo.51.4">If you have a text file with more than one tab between the columns and with varying length text strings, all but one of the tabs will be replaced by exactly eight spaces.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.52.1">If you want to prove this, save the expanded output to a new file, and then open the new file with your favorite text editor. </span><span class="koboSpan" id="kobo.52.2">In my case, I’ll use </span><code class="inlineCode"><span class="koboSpan" id="kobo.53.1">vim</span></code><span class="koboSpan" id="kobo.54.1">, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.55.1">[donnie@fedora ~]$ expand expand.txt &gt; expand_2.txt
[donnie@fedora ~]$ vim expand_2.txt
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.56.1">Now, move your cursor to the blank area between two of the columns. </span><span class="koboSpan" id="kobo.56.2">Move to the left or right between the columns, and you’ll see that you’ll only move one space at a time. </span><span class="koboSpan" id="kobo.56.3">Close this file, and open the original file. </span><span class="koboSpan" id="kobo.56.4">When you move the cursor between the columns of this file, you’ll see that it moves by the length of a tab, instead of by just one space.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.57.1">There are two options that you can use with expand. </span><span class="koboSpan" id="kobo.57.2">The first is the </span><code class="inlineCode"><span class="koboSpan" id="kobo.58.1">-t </span></code><span class="koboSpan" id="kobo.59.1">option. </span><span class="koboSpan" id="kobo.59.2">This lets you set the number of spaces you want to use in place of the tabs, instead of using the default of eight. </span><span class="koboSpan" id="kobo.59.3">Here, we want to replace each tab with only two blank spaces.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.60.1">[donnie@fedora ~]$ expand -t2 expand.txt
one      two     three
four     five    six
seven    eight   nine
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.61.1">With only two spaces replacing each tab, </span><code class="inlineCode"><span class="koboSpan" id="kobo.62.1">expand </span></code><span class="koboSpan" id="kobo.63.1">failed to keep the columns properly aligned. </span><span class="koboSpan" id="kobo.63.2">Feel free to experiment with other </span><code class="inlineCode"><span class="koboSpan" id="kobo.64.1">-t</span></code><span class="koboSpan" id="kobo.65.1"> values to see how things turn out.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.66.1">With the </span><code class="inlineCode"><span class="koboSpan" id="kobo.67.1">-i</span></code><span class="koboSpan" id="kobo.68.1"> switch, you can instruct </span><code class="inlineCode"><span class="koboSpan" id="kobo.69.1">expand</span></code><span class="koboSpan" id="kobo.70.1"> to only replace tabs that are at the beginning of each </span><a id="_idIndexMarker319"/><span class="koboSpan" id="kobo.71.1">line. </span><span class="koboSpan" id="kobo.71.2">Subsequent tabs in each line will remain unaltered. </span><span class="koboSpan" id="kobo.71.3">To see how it works, copy the </span><code class="inlineCode"><span class="koboSpan" id="kobo.72.1">expand_1.txt</span></code><span class="koboSpan" id="kobo.73.1"> file to the </span><code class="inlineCode"><span class="koboSpan" id="kobo.74.1">expand_1a.txt</span></code><span class="koboSpan" id="kobo.75.1"> file, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.76.1">donnie@fedora:~$ cp expand_1.txt expand_1a.txt
donnie@fedora:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.77.1">Open expand_1a.txt in your text editor, and insert one tab at the beginning of line 1, two tabs at the beginning of line 2, and three tabs at the beginning of line 3. </span><span class="koboSpan" id="kobo.77.2">The edited file should now look like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.78.1">donnie@fedora:~$ cat expand_1a.txt
	one	two	three
		four	five	six
			seven	eight	nine
donnie@fedora:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.79.1">Using the -i option, expand this file into the expand_1b.txt file, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.80.1">donnie@fedora:~$ expand -i expand_1a.txt &gt; expand_1b.txt
donnie@fedora:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.81.1">Open </span><code class="inlineCode"><span class="koboSpan" id="kobo.82.1">expand_1b.txt</span></code><span class="koboSpan" id="kobo.83.1"> in your text editor, and verify that only the tabs that preceded each line were replaced with blank spaces.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.84.1">Guess what? </span><span class="koboSpan" id="kobo.84.2">That’s all I</span><a id="_idIndexMarker320"/><span class="koboSpan" id="kobo.85.1"> have to say about </span><code class="inlineCode"><span class="koboSpan" id="kobo.86.1">expand</span></code><span class="koboSpan" id="kobo.87.1">. </span><span class="koboSpan" id="kobo.87.2">Now, let’s go in the opposite direction.</span></p>
    <h1 id="_idParaDest-114" class="heading 1"><span class="koboSpan" id="kobo.88.1">Using unexpand</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.89.1">Now that I’ve told you </span><a id="_idIndexMarker321"/><span class="koboSpan" id="kobo.90.1">what </span><code class="inlineCode"><span class="koboSpan" id="kobo.91.1">expand</span></code><span class="koboSpan" id="kobo.92.1"> does, do I really need to tell you what </span><code class="inlineCode"><span class="koboSpan" id="kobo.93.1">unexpand</span></code><span class="koboSpan" id="kobo.94.1"> does? </span><span class="koboSpan" id="kobo.94.2">That’s right, you guessed it. </span><code class="inlineCode"><span class="koboSpan" id="kobo.95.1">unexpand</span></code><span class="koboSpan" id="kobo.96.1"> removes the blank spaces from between columns, and replaces them with tabs. </span><span class="koboSpan" id="kobo.96.2">There are a couple of slight catches, though. </span><span class="koboSpan" id="kobo.96.3">By default, </span><code class="inlineCode"><span class="koboSpan" id="kobo.97.1">unexpand</span></code><span class="koboSpan" id="kobo.98.1"> only operates on spaces that are at the beginning of a line. </span><span class="koboSpan" id="kobo.98.2">That’s just the opposite of how expand works with tabs. </span><span class="koboSpan" id="kobo.98.3">So, if you want to replace all spaces in a line with tabs, you’ll need to use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.99.1">-a</span></code><span class="koboSpan" id="kobo.100.1"> switch. </span><span class="koboSpan" id="kobo.100.2">The second catch is that by default, </span><code class="inlineCode"><span class="koboSpan" id="kobo.101.1">unexpand</span></code><span class="koboSpan" id="kobo.102.1"> only works if it sees eight consecutive blank spaces. </span><span class="koboSpan" id="kobo.102.2">Any grouping of fewer than eight consecutive blank spaces won’t get converted to tabs. </span><span class="koboSpan" id="kobo.102.3">(You can change that behavior with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.103.1">-t</span></code><span class="koboSpan" id="kobo.104.1"> switch, as you’ll see in a few moments.)</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.105.1">I’ll demonstrate by unexpanding the </span><code class="inlineCode"><span class="koboSpan" id="kobo.106.1">expand_2.txt</span></code><span class="koboSpan" id="kobo.107.1"> file that I’ve just created in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.108.1">expand</span></code><span class="koboSpan" id="kobo.109.1"> section, using the </span><code class="inlineCode"><span class="koboSpan" id="kobo.110.1">-a</span></code><span class="koboSpan" id="kobo.111.1"> option, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.112.1">[donnie@fedora ~]$ unexpand -a expand_2.txt
one			two		three
four			five		six
seven		eight		nine
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.113.1">Again, you can’t really tell the difference. </span><span class="koboSpan" id="kobo.113.2">To see the difference, save the results to a new file, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.114.1">[donnie@fedora ~]$ unexpand -a expand_2.txt &gt; unexpand.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.115.1">Open the new file in your favorite text editor. </span><span class="koboSpan" id="kobo.115.2">Now, when you move your cursor between the columns, you’ll see that it jumps by the length of a tab, instead of by just one space. </span><span class="koboSpan" id="kobo.115.3">In other words, it’s now just like the original file that I expanded in the previous section.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.116.1">This works because when I used </span><code class="inlineCode"><span class="koboSpan" id="kobo.117.1">expand</span></code><span class="koboSpan" id="kobo.118.1"> to create the </span><code class="inlineCode"><span class="koboSpan" id="kobo.119.1">expand_2.txt</span></code><span class="koboSpan" id="kobo.120.1"> file, the tabs between the columns were all replaced by eight or more blank spaces.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.121.1">Now, I told you before that by default, </span><code class="inlineCode"><span class="koboSpan" id="kobo.122.1">unexpand</span></code><span class="koboSpan" id="kobo.123.1"> only operates on the blank spaces that are at the beginning of a line. </span><span class="koboSpan" id="kobo.123.2">To see that, open the </span><code class="inlineCode"><span class="koboSpan" id="kobo.124.1">expand_3.txt</span></code><span class="koboSpan" id="kobo.125.1"> file, which will look like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.126.1">donnie@fedora:~$ cat expand_3.txt
        one        two        three
    four         five     six
  seven           eight           nine
donnie@fedora:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.127.1">It’s rather ugly because nothing is in alignment, but in this case that’s what we want. </span><span class="koboSpan" id="kobo.127.2">The first line is preceded by eight blank spaces, the second line is preceded by four blank spaces, and the third line is preceded by two blank spaces. </span><span class="koboSpan" id="kobo.127.3">Between the columns</span><a id="_idIndexMarker322"/><span class="koboSpan" id="kobo.128.1"> are varying numbers of blank spaces.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.129.1">Next, create the </span><code class="inlineCode"><span class="koboSpan" id="kobo.130.1">unexpand_2.txt</span></code><span class="koboSpan" id="kobo.131.1"> file by unexpanding the </span><code class="inlineCode"><span class="koboSpan" id="kobo.132.1">expand_3.txt</span></code><span class="koboSpan" id="kobo.133.1"> file, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.134.1">donnie@fedora:~$ unexpand expand_3.txt &gt; unexpand_2.txt
donnie@fedora:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.135.1">Open the </span><code class="inlineCode"><span class="koboSpan" id="kobo.136.1">unexpand_2.txt</span></code><span class="koboSpan" id="kobo.137.1"> file in your text editor and verify that only the eight blank spaces at the beginning of the first line were replaced by a tab. </span><span class="koboSpan" id="kobo.137.2">Close the file and repeat the command with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.138.1">-t4</span></code><span class="koboSpan" id="kobo.139.1"> option, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.140.1">donnie@fedora:~$ unexpand -t4 expand_3.txt &gt; unexpand_2.txt
donnie@fedora:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.141.1">This time, you should see that the blank spaces at the beginning of both lines 1 and 2 have been replaced by tabs. </span><span class="koboSpan" id="kobo.141.2">Try this again with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.142.1">-t2</span></code><span class="koboSpan" id="kobo.143.1"> option, and you’ll see that the blank spaces that precede all three lines are replaced by tabs. </span><span class="koboSpan" id="kobo.143.2">Finally, run these commands again with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.144.1">-a</span></code><span class="koboSpan" id="kobo.145.1"> option to perform a global replacement of the blank spaces.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.146.1">I have to confess that for a long time, I never thought that I would use either </span><code class="inlineCode"><span class="koboSpan" id="kobo.147.1">expand</span></code><span class="koboSpan" id="kobo.148.1"> or </span><code class="inlineCode"><span class="koboSpan" id="kobo.149.1">unexpand</span></code><span class="koboSpan" id="kobo.150.1"> for anything. </span><span class="koboSpan" id="kobo.150.2">But, I was wrong. </span><span class="koboSpan" id="kobo.150.3">Several years ago, a former client tasked me with teaching a Kali Linux course. </span><span class="koboSpan" id="kobo.150.4">The book that I was using had a shell script that was supposed to automatically extract the IP address from the output of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.151.1">ifconfig</span></code><span class="koboSpan" id="kobo.152.1"> command. </span><span class="koboSpan" id="kobo.152.2">The script didn’t work though, because after the author wrote the book someone changed the </span><code class="inlineCode"><span class="koboSpan" id="kobo.153.1">ifconfig</span></code><span class="koboSpan" id="kobo.154.1"> code so that the output would be formatted differently.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.155.1">I had to modify the script to make it work, and I used either </span><code class="inlineCode"><span class="koboSpan" id="kobo.156.1">expand</span></code><span class="koboSpan" id="kobo.157.1"> or </span><code class="inlineCode"><span class="koboSpan" id="kobo.158.1">unexpand</span></code><span class="koboSpan" id="kobo.159.1"> as part of the fix. </span><span class="koboSpan" id="kobo.159.2">(That was long ago, so I don’t remember which one I used. </span><span class="koboSpan" id="kobo.159.3">But, that doesn’t matter.) So, it</span><a id="_idIndexMarker323"/><span class="koboSpan" id="kobo.160.1"> goes to show that you just never know. </span><span class="koboSpan" id="kobo.160.2">(Yes, I am a poet.)</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.161.1">Okay, enough of expanding and unexpanding. </span><span class="koboSpan" id="kobo.161.2">Let’s do some numbering.</span></p>
    <h1 id="_idParaDest-115" class="heading 1"><span class="koboSpan" id="kobo.162.1">Using nl</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.163.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.164.1">nl</span></code><span class="koboSpan" id="kobo.165.1"> utility is use</span><a id="_idIndexMarker324"/><span class="koboSpan" id="kobo.166.1">d for numbering lines of a text file. </span><span class="koboSpan" id="kobo.166.2">It’s easy to use, and there are only a few options that you need to remember. </span><span class="koboSpan" id="kobo.166.3">Let’s start by creating a file with ten consecutive lines, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.167.1">[donnie@fedora ~]$ cat &gt; lines.txt
This is line one.
</span><span class="koboSpan" id="kobo.167.2">This is line two.
</span><span class="koboSpan" id="kobo.167.3">This is line three.
</span><span class="koboSpan" id="kobo.167.4">This is line four.
</span><span class="koboSpan" id="kobo.167.5">This is line five
This is line six
This is line seven.
</span><span class="koboSpan" id="kobo.167.6">This is line eight.
</span><span class="koboSpan" id="kobo.167.7">This is line nine.
</span><span class="koboSpan" id="kobo.167.8">This is line ten.
</span><span class="koboSpan" id="kobo.167.9">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.168.1">Let’s number the lines in the file, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.169.1">[donnie@fedora ~]$ nl lines.txt
     1 This is line one.
     </span><span class="koboSpan" id="kobo.169.2">2 This is line two.
     </span><span class="koboSpan" id="kobo.169.3">3 This is line three.
     </span><span class="koboSpan" id="kobo.169.4">4 This is line four.
     </span><span class="koboSpan" id="kobo.169.5">5 This is line five
     6 This is line six
     7 This is line seven.
     </span><span class="koboSpan" id="kobo.169.6">8 This is line eight.
     </span><span class="koboSpan" id="kobo.169.7">9 This is line nine.
    </span><span class="koboSpan" id="kobo.169.8">10 This is line ten.
</span><span class="koboSpan" id="kobo.169.9">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.170.1">Now, let’s create another file just like this one, except that we’ll insert a few blank lines.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.171.1">[donnie@fedora ~]$ cat &gt; lines_2.txt
This is line one.
</span><span class="koboSpan" id="kobo.171.2">This is line two.
</span><span class="koboSpan" id="kobo.171.3">This is line three.
</span><span class="koboSpan" id="kobo.171.4">This is line four.
</span><span class="koboSpan" id="kobo.171.5">This is line five.
</span><span class="koboSpan" id="kobo.171.6">This is line six.
</span><span class="koboSpan" id="kobo.171.7">This is line seven.
</span><span class="koboSpan" id="kobo.171.8">This is line eight.
</span><span class="koboSpan" id="kobo.171.9">This is line nine.
</span><span class="koboSpan" id="kobo.171.10">This is line ten.
</span><span class="koboSpan" id="kobo.171.11">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.172.1">Again, we’ll number </span><a id="_idIndexMarker325"/><span class="koboSpan" id="kobo.173.1">this file without specifying any options.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.174.1">[donnie@fedora ~]$ nl lines_2.txt
     1 This is line one.
      
     </span><span class="koboSpan" id="kobo.174.2">2 This is line two.
      
     </span><span class="koboSpan" id="kobo.174.3">3 This is line three.
     </span><span class="koboSpan" id="kobo.174.4">4 This is line four.
     </span><span class="koboSpan" id="kobo.174.5">5 This is line five.
      
      
     </span><span class="koboSpan" id="kobo.174.6">6 This is line six.
      
     </span><span class="koboSpan" id="kobo.174.7">7 This is line seven.
     </span><span class="koboSpan" id="kobo.174.8">8 This is line eight.
     </span><span class="koboSpan" id="kobo.174.9">9 This is line nine.
      
      
    </span><span class="koboSpan" id="kobo.174.10">10 This is line ten.
</span><span class="koboSpan" id="kobo.174.11">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.175.1">If you don’t specify any options, only the non-blank lines will be numbered. </span><span class="koboSpan" id="kobo.175.2">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.176.1">-b</span></code><span class="koboSpan" id="kobo.177.1"> switch with the appropriate options to change that behavior. </span><span class="koboSpan" id="kobo.177.2">With the </span><code class="inlineCode"><span class="koboSpan" id="kobo.178.1">a</span></code><span class="koboSpan" id="kobo.179.1"> option, you can number all lines, including the blanks. </span><span class="koboSpan" id="kobo.179.2">(By the way, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.180.1">-b</span></code><span class="koboSpan" id="kobo.181.1"> switch stands for </span><strong class="keyWord"><span class="koboSpan" id="kobo.182.1">body</span></strong><span class="koboSpan" id="kobo.183.1">. </span><span class="koboSpan" id="kobo.183.2">In other words, this switch sets the way in which </span><code class="inlineCode"><span class="koboSpan" id="kobo.184.1">nl</span></code><span class="koboSpan" id="kobo.185.1"> numbers lines in the body of the</span><a id="_idIndexMarker326"/><span class="koboSpan" id="kobo.186.1"> file. </span><span class="koboSpan" id="kobo.186.2">In just a moment, I’ll show you how this comes into play.)</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.187.1">[donnie@fedora ~]$ nl -ba lines_2.txt
     1 This is line one.
     </span><span class="koboSpan" id="kobo.187.2">2	
     3 This is line two.
     </span><span class="koboSpan" id="kobo.187.3">4	
     5 This is line three.
     </span><span class="koboSpan" id="kobo.187.4">6 This is line four.
     </span><span class="koboSpan" id="kobo.187.5">7 This is line five.
     </span><span class="koboSpan" id="kobo.187.6">8	
     9	
    10 This is line six.
    </span><span class="koboSpan" id="kobo.187.7">11	
    12 This is line seven.
    </span><span class="koboSpan" id="kobo.187.8">13 This is line eight.
    </span><span class="koboSpan" id="kobo.187.9">14 This is line nine.
    </span><span class="koboSpan" id="kobo.187.10">15	
    16	
    17 This is line ten.
</span><span class="koboSpan" id="kobo.187.11">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.188.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.189.1">-bt</span></code><span class="koboSpan" id="kobo.190.1"> option causes </span><code class="inlineCode"><span class="koboSpan" id="kobo.191.1">nl</span></code><span class="koboSpan" id="kobo.192.1"> to only number non-empty lines in the text file body, while the </span><code class="inlineCode"><span class="koboSpan" id="kobo.193.1">-bn</span></code><span class="koboSpan" id="kobo.194.1"> option tells </span><code class="inlineCode"><span class="koboSpan" id="kobo.195.1">nl</span></code><span class="koboSpan" id="kobo.196.1"> not to number lines at all in the text file body. </span><span class="koboSpan" id="kobo.196.2">This may sound a bit strange to you, since the first option defines what is already default behavior, and the second option seems to defeat the whole purpose of using </span><code class="inlineCode"><span class="koboSpan" id="kobo.197.1">nl</span></code><span class="koboSpan" id="kobo.198.1">. </span><span class="koboSpan" id="kobo.198.2">I’ll clarify all of this in just a moment.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.199.1">When you create a text file, you can use a special set of delimiters to define a header, a body, and a footer that will be used by </span><code class="inlineCode"><span class="koboSpan" id="kobo.200.1">nl</span></code><span class="koboSpan" id="kobo.201.1">. </span></p>
    <p class="normal"><span class="koboSpan" id="kobo.202.1">As you can see in the following diagram, you do this by placing the appropriate series of backslashes and colons at the start </span><a id="_idIndexMarker327"/><span class="koboSpan" id="kobo.203.1">of each section.</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.204.1"><img src="../Images/B21693_07_01.png" alt=""/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.205.1">Figure 7.1: The header, body, and footer sections of a text file</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.206.1">Three of each character defines the header, two of each defines the body, and one of each defines the footer. </span><span class="koboSpan" id="kobo.206.2">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.207.1">nl</span></code><span class="koboSpan" id="kobo.208.1"> utility allows you to number each of these sections in its own way. </span><span class="koboSpan" id="kobo.208.2">Put this to the test by creating your own three-section text file, which will look like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.209.1">[donnie@fedora ~]$ cat &gt; line_number_1.txt
\:\:\:
This is the file header.
</span><span class="koboSpan" id="kobo.209.2">\:\:
This is the body of the file.
</span><span class="koboSpan" id="kobo.209.3">There's not a lot to say, so I'll
close it.
</span><span class="koboSpan" id="kobo.209.4">\:
This is the footer.
</span><span class="koboSpan" id="kobo.209.5">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.210.1">When using </span><code class="inlineCode"><span class="koboSpan" id="kobo.211.1">nl</span></code><span class="koboSpan" id="kobo.212.1"> without specifying any options, only the non-blank lines in the body will get </span><a id="_idIndexMarker328"/><span class="koboSpan" id="kobo.213.1">numbered, as you see here:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.214.1">[donnie@fedora ~]$ nl line_number_1.txt
       This is the file header.
      
     </span><span class="koboSpan" id="kobo.214.2">1	This is the body of the file.
     </span><span class="koboSpan" id="kobo.214.3">2	There's not a lot to say, so I'll
     3	close it.
      
       </span><span class="koboSpan" id="kobo.214.4">This is the footer.
</span><span class="koboSpan" id="kobo.214.5">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.215.1">To number lines in the header and footer, you would use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.216.1">-h</span></code><span class="koboSpan" id="kobo.217.1"> and the </span><code class="inlineCode"><span class="koboSpan" id="kobo.218.1">-f</span></code><span class="koboSpan" id="kobo.219.1"> switches. </span><span class="koboSpan" id="kobo.219.2">The options that go with those switches are the same as the ones that go with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.220.1">-b</span></code><span class="koboSpan" id="kobo.221.1"> switch. </span><span class="koboSpan" id="kobo.221.2">So, to number all lines in the header as well as the non-blank lines in the body, you would use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.222.1">-ha</span></code><span class="koboSpan" id="kobo.223.1"> option, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.224.1">[donnie@fedora ~]$ nl -ha line_number_1.txt
     1	This is the file header.
     </span><span class="koboSpan" id="kobo.224.2">2	
     1	This is the body of the file.
     </span><span class="koboSpan" id="kobo.224.3">2	There's not a lot to say, so I'll
     3	close it.
      
       </span><span class="koboSpan" id="kobo.224.4">This is the footer.
</span><span class="koboSpan" id="kobo.224.5">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.225.1">To number only non-blank lines in the header and non-blank lines in the body, use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.226.1">-ht</span></code><span class="koboSpan" id="kobo.227.1"> option, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.228.1">[donnie@fedora ~]$ nl -ht line_number_1.txt
     1	This is the file header.
      
     </span><span class="koboSpan" id="kobo.228.2">1	This is the body of the file.
     </span><span class="koboSpan" id="kobo.228.3">2	There's not a lot to say, so I'll
     3	close it.
      
       </span><span class="koboSpan" id="kobo.228.4">This is the footer.
</span><span class="koboSpan" id="kobo.228.5">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.229.1">Next, let’s number</span><a id="_idIndexMarker329"/><span class="koboSpan" id="kobo.230.1"> all lines in the footer, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.231.1">[donnie@fedora ~]$ nl -fa line_number_1.txt
       This is the file header.
      
     </span><span class="koboSpan" id="kobo.231.2">1	This is the body of the file.
     </span><span class="koboSpan" id="kobo.231.3">2	There's not a lot to say, so I'll
     3	close it.
      
     </span><span class="koboSpan" id="kobo.231.4">1	This is the footer.
</span><span class="koboSpan" id="kobo.231.5">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.232.1">This time, the footer got numbered, but the header didn’t. </span><span class="koboSpan" id="kobo.232.2">In both cases, the non-blank lines in the body got numbered, even though I didn’t specify for </span><code class="inlineCode"><span class="koboSpan" id="kobo.233.1">nl</span></code><span class="koboSpan" id="kobo.234.1"> to do that. </span><span class="koboSpan" id="kobo.234.2">To prevent </span><code class="inlineCode"><span class="koboSpan" id="kobo.235.1">nl </span></code><span class="koboSpan" id="kobo.236.1">from numbering lines in the body while numbering all lines in both the header and footer, include the </span><code class="inlineCode"><span class="koboSpan" id="kobo.237.1">-bn</span></code><span class="koboSpan" id="kobo.238.1"> option, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.239.1">[donnie@fedora ~]$ nl -bn -ha -fa line_number_1.txt
     1	This is the file header.
     </span><span class="koboSpan" id="kobo.239.2">2	
       This is the body of the file.
       </span><span class="koboSpan" id="kobo.239.3">There's not a lot to say, so I'll
       close it.
      
     </span><span class="koboSpan" id="kobo.239.4">1	This is the footer.
</span><span class="koboSpan" id="kobo.239.5">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.240.1">You can also have </span><code class="inlineCode"><span class="koboSpan" id="kobo.241.1">nl</span></code><span class="koboSpan" id="kobo.242.1"> search for lines that contain a certain text string, and number only those lines. </span><span class="koboSpan" id="kobo.242.2">For this, you would use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.243.1">p</span></code><span class="koboSpan" id="kobo.244.1"> option. </span><span class="koboSpan" id="kobo.244.2">Let’s take our first text file, which we’ll call </span><code class="inlineCode"><span class="koboSpan" id="kobo.245.1">lines.txt</span></code><span class="koboSpan" id="kobo.246.1">, and number only the line that contains the word </span><code class="inlineCode"><span class="koboSpan" id="kobo.247.1">seven</span></code><span class="koboSpan" id="kobo.248.1">. </span><span class="koboSpan" id="kobo.248.2">(Note that you can’t have a space between the </span><code class="inlineCode"><span class="koboSpan" id="kobo.249.1">p</span></code><span class="koboSpan" id="kobo.250.1"> and the string for which you’re searching.) It will look something like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.251.1">[donnie@fedora ~]$ nl -bpseven lines.txt
       This is line one.
       </span><span class="koboSpan" id="kobo.251.2">This is line two.
       </span><span class="koboSpan" id="kobo.251.3">This is line three.
       </span><span class="koboSpan" id="kobo.251.4">This is line four.
       </span><span class="koboSpan" id="kobo.251.5">This is line five
       This is line six
     1	This is line seven.
       </span><span class="koboSpan" id="kobo.251.6">This is line eight.
       </span><span class="koboSpan" id="kobo.251.7">This is line nine.
       </span><span class="koboSpan" id="kobo.251.8">This is line ten.
</span><span class="koboSpan" id="kobo.251.9">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.252.1">Now, let’s create a file </span><a id="_idIndexMarker330"/><span class="koboSpan" id="kobo.253.1">that’s a tad bit more realistic. </span><span class="koboSpan" id="kobo.253.2">We’ll even go all out and give it header, body, and footer.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.254.1">[donnie@fedora ~]$ cat &gt; macgruder.txt
\:\:\:
This is the file outlining the strategy
for the MacGruder Corporation account.
</span><span class="koboSpan" id="kobo.254.2">\:\:
It is vitally important to maintain close
working relations with the IT gurus at
the MacGruder Corporation. </span><span class="koboSpan" id="kobo.254.3">This account                       
represents our company's best opportunity
in ages to make a huge sale of servers,
desktop computers, routers, and software
services. </span><span class="koboSpan" id="kobo.254.4">We must give full attention
to the needs and wants of the MacGruder
Corporation.
</span><span class="koboSpan" id="kobo.254.5">\:
This document contains sensitive
information about the MacGruder
Corporation.
</span><span class="koboSpan" id="kobo.254.6">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.255.1">Now, number every line in the body that contains the word </span><code class="inlineCode"><span class="koboSpan" id="kobo.256.1">MacGruder</span></code><span class="koboSpan" id="kobo.257.1">, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.258.1">[donnie@fedora ~]$ nl -bpMacGruder macgruder.txt
       This is the file outlining the strategy
       for the MacGruder Corporation account.
      
       </span><span class="koboSpan" id="kobo.258.2">It is vitally important to maintain close
       working relations with the IT gurus at
     1	the MacGruder Corporation. </span><span class="koboSpan" id="kobo.258.3">This account
       represents our company's best opportunity
       in ages to make a huge sale of servers,
       desktop computers, routers, and software
       services. </span><span class="koboSpan" id="kobo.258.4">We must give full attention
     2	to the needs and wants of the MacGruder
       Corporation.
      
       </span><span class="koboSpan" id="kobo.258.5">This document contains sensitive
       information about the MacGruder
       Corporation.
</span><span class="koboSpan" id="kobo.258.6">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.259.1">If you specify for </span><code class="inlineCode"><span class="koboSpan" id="kobo.260.1">nl</span></code><span class="koboSpan" id="kobo.261.1"> to </span><a id="_idIndexMarker331"/><span class="koboSpan" id="kobo.262.1">only number the </span><code class="inlineCode"><span class="koboSpan" id="kobo.263.1">MacGruder</span></code><span class="koboSpan" id="kobo.264.1"> lines for the header and/or the footer without specifying anything for the body, </span><code class="inlineCode"><span class="koboSpan" id="kobo.265.1">nl</span></code><span class="koboSpan" id="kobo.266.1"> will also number all non-blank body lines by default, as you see here:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.267.1">[donnie@fedora ~]$ nl -hpMacGruder -fpMacGruder macgruder.txt
       This is the file outlining the strategy
     1	for the MacGruder Corporation account.
      
     </span><span class="koboSpan" id="kobo.267.2">1	It is vitally important to maintain close
     2	working relations with the IT gurus at
     3	the MacGruder Corporation. </span><span class="koboSpan" id="kobo.267.3">This account
     4	represents our company's best opportunity
     5	in ages to make a huge sale of servers,
     6	desktop computers, routers, and software
     7	services. </span><span class="koboSpan" id="kobo.267.4">We must give full attention
     8	to the needs and wants of the MacGruder
     9	Corporation.
      
       </span><span class="koboSpan" id="kobo.267.5">This document contains sensitive
     1	information about the MacGruder
       Corporation.
</span><span class="koboSpan" id="kobo.267.6">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.268.1">Include the </span><code class="inlineCode"><span class="koboSpan" id="kobo.269.1">-bn</span></code><span class="koboSpan" id="kobo.270.1"> option</span><a id="_idIndexMarker332"/><span class="koboSpan" id="kobo.271.1"> to only number the </span><code class="inlineCode"><span class="koboSpan" id="kobo.272.1">MacGruder</span></code><span class="koboSpan" id="kobo.273.1"> lines in the header and/or footer, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.274.1">[donnie@fedora ~]$ nl -bn -hpMacGruder -fpMacGruder macgruder.txt
       This is the file outlining the strategy
     1	for the MacGruder Corporation account.
      
       </span><span class="koboSpan" id="kobo.274.2">It is vitally important to maintain close
       working relations with the IT gurus at
       the MacGruder Corporation. </span><span class="koboSpan" id="kobo.274.3">This account
       represents our company's best opportunity
       in ages to make a huge sale of servers,
       desktop computers, routers, and software
       services. </span><span class="koboSpan" id="kobo.274.4">We must give full attention
       to the needs and wants of the MacGruder
       Corporation.
      
       </span><span class="koboSpan" id="kobo.274.5">This document contains sensitive
     1	information about the MacGruder
       Corporation.
</span><span class="koboSpan" id="kobo.274.6">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.275.1">And now, you’re wondering when you would ever create a text file with these </span><code class="inlineCode"><span class="koboSpan" id="kobo.276.1">nl</span></code><span class="koboSpan" id="kobo.277.1">-style headers and footers. </span><span class="koboSpan" id="kobo.277.2">Well, the answer is--drum-roll, please--I have no idea. </span><span class="koboSpan" id="kobo.277.3">After some rather extensive research, I’ve not found any other utility that displays these headers and footers as actual headers and footers. </span><span class="koboSpan" id="kobo.277.4">In fact, the utilities I’ve found that convert text files to other formats can insert their own headers and footers, but they’ll display the </span><code class="inlineCode"><span class="koboSpan" id="kobo.278.1">nl</span></code><span class="koboSpan" id="kobo.279.1">-style headers and footers as just part of the normal document.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.280.1">However, </span><code class="inlineCode"><span class="koboSpan" id="kobo.281.1">nl</span></code><span class="koboSpan" id="kobo.282.1"> is still useful for times when you need to insert line numbers into files that consist of nothing but a body. </span><span class="koboSpan" id="kobo.282.2">Also, if you plan to take a Linux certification exam, you’ll need to know about the header, body, and footer concept of </span><code class="inlineCode"><span class="koboSpan" id="kobo.283.1">nl</span></code><span class="koboSpan" id="kobo.284.1">-style text files, because you just might see some questions about it.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.285.1">The man page for </span><code class="inlineCode"><span class="koboSpan" id="kobo.286.1">nl</span></code><span class="koboSpan" id="kobo.287.1"> is seriously deficient, so you’ll instead want to consult the info page for more </span><code class="inlineCode"><span class="koboSpan" id="kobo.288.1">nl</span></code><span class="koboSpan" id="kobo.289.1"> information </span><a id="_idIndexMarker333"/><span class="koboSpan" id="kobo.290.1">and options. </span><span class="koboSpan" id="kobo.290.2">The command to run for that is:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.291.1">[donnie@fedora ~]$ info nl
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.292.1">That does it for </span><code class="inlineCode"><span class="koboSpan" id="kobo.293.1">nl</span></code><span class="koboSpan" id="kobo.294.1">. </span><span class="koboSpan" id="kobo.294.2">Let’s move on ahead.</span></p>
    <h1 id="_idParaDest-116" class="heading 1"><span class="koboSpan" id="kobo.295.1">Using head</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.296.1">If you only want to</span><a id="_idIndexMarker334"/><span class="koboSpan" id="kobo.297.1"> view a certain number of lines from the beginning of a text file, use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.298.1">head</span></code><span class="koboSpan" id="kobo.299.1"> utility. </span><span class="koboSpan" id="kobo.299.2">To demonstrate, I’ll be showing you files that are here on my Fedora workstation. </span><span class="koboSpan" id="kobo.299.3">If you don’t have the same exact files on your own machine, feel free to use others.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.300.1">By default, </span><code class="inlineCode"><span class="koboSpan" id="kobo.301.1">head</span></code><span class="koboSpan" id="kobo.302.1"> displays the first ten lines of a file. </span><span class="koboSpan" id="kobo.302.2">I’ll show you in just a bit how to change that.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.303.1">Let’s start by entering the </span><code class="inlineCode"><span class="koboSpan" id="kobo.304.1">/var/log/</span></code><span class="koboSpan" id="kobo.305.1"> directory, and looking at the first ten lines of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.306.1">boot.log</span></code><span class="koboSpan" id="kobo.307.1"> file, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.308.1">[donnie@fedora ~]$ cd /var/log
[donnie@fedora log]$ sudo head boot.log
[  OK  ] Finished logrotate.service - Rotate log files.
</span><span class="koboSpan" id="kobo.308.2">[FAILED] Failed to start vmware.ser… starts and stops VMware services.
</span><span class="koboSpan" id="kobo.308.3">See 'systemctl status vmware.service' for details.
         </span><span class="koboSpan" id="kobo.308.4">Starting vmware-USBArbitra…s and stops the USB Arbitrator....
</span><span class="koboSpan" id="kobo.308.5">[  OK  ] Started rsyslog.service - System Logging Service.
</span><span class="koboSpan" id="kobo.308.6">[  OK  ] Started chronyd.service - NTP client/server.
</span><span class="koboSpan" id="kobo.308.7">[  OK  ] Started vmware-USBArbitrat…rts and stops the USB Arbitrator..
         </span><span class="koboSpan" id="kobo.308.8">Starting livesys-late.serv…ate init script for live image....
</span><span class="koboSpan" id="kobo.308.9">[  OK  ] Started livesys-late.servi… Late init script for live image..
</span><span class="koboSpan" id="kobo.308.10">[  OK  ] Started dbus-broker.service - D-Bus System Message Bus.
</span><span class="koboSpan" id="kobo.308.11">[donnie@fedora log]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.309.1">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.310.1">-n</span></code><span class="koboSpan" id="kobo.311.1"> switch to change the number of lines that you want to see. </span><span class="koboSpan" id="kobo.311.2">To only see the first five </span><a id="_idIndexMarker335"/><span class="koboSpan" id="kobo.312.1">lines, enter this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.313.1">[donnie@fedora log]$ sudo head -n5 boot.log
[  OK  ] Finished logrotate.service - Rotate log files.
</span><span class="koboSpan" id="kobo.313.2">[FAILED] Failed to start vmware.ser… starts and stops VMware services.
</span><span class="koboSpan" id="kobo.313.3">See 'systemctl status vmware.service' for details.
         </span><span class="koboSpan" id="kobo.313.4">Starting vmware-USBArbitra…s and stops the USB Arbitrator....
</span><span class="koboSpan" id="kobo.313.5">[  OK  ] Started rsyslog.service - System Logging Service.
</span><span class="koboSpan" id="kobo.313.6">[donnie@fedora log]$
</span></code></pre>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.314.1">In this case, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.315.1">-n</span></code><span class="koboSpan" id="kobo.316.1"> is optional. </span><span class="koboSpan" id="kobo.316.2">You’ll get the same results by running the command like this:</span></p>
      <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.317.1">[donnie@fedora log]$ sudo head -5 boot.log
</span></code></pre>
      <p class="normal"><span class="koboSpan" id="kobo.318.1">The dash in front of the number means that the number is an option. </span><span class="koboSpan" id="kobo.318.2">It doesn’t mean that the number is negative. </span><span class="koboSpan" id="kobo.318.3">But, as you’ll see in a moment, some commands will require you to use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.319.1">-n</span></code><span class="koboSpan" id="kobo.320.1">.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.321.1">You can choose to view the first lines from more than one file at the same time by including multiple filenames in your command. </span><span class="koboSpan" id="kobo.321.2">Here, we’re looking at the first five lines of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.322.1">boot.log</span></code><span class="koboSpan" id="kobo.323.1"> file and the </span><code class="inlineCode"><span class="koboSpan" id="kobo.324.1">cron</span></code><span class="koboSpan" id="kobo.325.1"> file.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.326.1">[donnie@fedora log]$ sudo head -n5 boot.log cron
[sudo] password for donnie:
==&gt; boot.log &lt;==
[  OK  ] Finished logrotate.service - Rotate log files.
</span><span class="koboSpan" id="kobo.326.2">[FAILED] Failed to start vmware.ser… starts and stops VMware services.
</span><span class="koboSpan" id="kobo.326.3">See 'systemctl status vmware.service' for details.
         </span><span class="koboSpan" id="kobo.326.4">Starting vmware-USBArbitra…s and stops the USB Arbitrator....
</span><span class="koboSpan" id="kobo.326.5">[  OK  ] Started rsyslog.service - System Logging Service.
</span><span class="koboSpan" id="kobo.326.6">==&gt; cron &lt;==
Sep  9 17:36:05 fedora crond[2062]: (CRON) INFO (Shutting down)
Sep 11 15:27:58 fedora crond[2038]: (CRON) STARTUP (1.6.1)
Sep 11 15:27:58 fedora crond[2038]: (CRON) INFO (Syslog will be used instead of sendmail.)
Sep 11 15:27:58 fedora crond[2038]: (CRON) INFO (RANDOM_DELAY will be scaled with factor 85% if used.)
Sep 11 15:27:58 fedora crond[2038]: (CRON) INFO (running with inotify support)
[donnie@fedora log]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.327.1">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.328.1">-q</span></code><span class="koboSpan" id="kobo.329.1"> option to enable quiet mode. </span><span class="koboSpan" id="kobo.329.2">That way, when you view lines from more than one file at a time, you won’t see the header lines for the files. </span><span class="koboSpan" id="kobo.329.3">(This could come in handy if you’re running </span><code class="inlineCode"><span class="koboSpan" id="kobo.330.1">head </span></code><span class="koboSpan" id="kobo.331.1">from within a shell script.)</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.332.1"> Also, note how you </span><a id="_idIndexMarker336"/><span class="koboSpan" id="kobo.333.1">can combine options with only one dash. </span><span class="koboSpan" id="kobo.333.2">In this case, use of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.334.1">-n</span></code><span class="koboSpan" id="kobo.335.1"> is mandatory if you want to set the number of lines that you want to see. </span><span class="koboSpan" id="kobo.335.2">Here’s what it looks like:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.336.1">[donnie@fedora log]$ sudo head -qn5 boot.log cron
[  OK  ] Finished logrotate.service - Rotate log files.
</span><span class="koboSpan" id="kobo.336.2">[FAILED] Failed to start vmware.ser… starts and stops VMware services.
</span><span class="koboSpan" id="kobo.336.3">See 'systemctl status vmware.service' for details.
         </span><span class="koboSpan" id="kobo.336.4">Starting vmware-USBArbitra…s and stops the USB Arbitrator....
</span><span class="koboSpan" id="kobo.336.5">[  OK  ] Started rsyslog.service - System Logging Service.
</span><span class="koboSpan" id="kobo.336.6">Sep  9 17:36:05 fedora crond[2062]: (CRON) INFO (Shutting down)
Sep 11 15:27:58 fedora crond[2038]: (CRON) STARTUP (1.6.1)
Sep 11 15:27:58 fedora crond[2038]: (CRON) INFO (Syslog will be used instead of sendmail.)
Sep 11 15:27:58 fedora crond[2038]: (CRON) INFO (RANDOM_DELAY will be scaled with factor 85% if used.)
Sep 11 15:27:58 fedora crond[2038]: (CRON) INFO (running with inotify support)
[donnie@fedora log]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.337.1">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.338.1">-n</span></code><span class="koboSpan" id="kobo.339.1"> option with a negative number to see all but the last </span><code class="inlineCode"><span class="koboSpan" id="kobo.340.1">n</span></code><span class="koboSpan" id="kobo.341.1"> lines of a file. </span><span class="koboSpan" id="kobo.341.2">If you want to see all but the last 20 lines of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.342.1">boot.log</span></code><span class="koboSpan" id="kobo.343.1"> file, enter this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.344.1">[donnie@fedora log]$ sudo head -n-20 boot.log
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.345.1">Again, in this case, use of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.346.1">-n</span></code><span class="koboSpan" id="kobo.347.1"> is mandatory.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.348.1">You can look at a number of either bytes, kilobytes, or megabytes from the beginning of a file with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.349.1">-c</span></code><span class="koboSpan" id="kobo.350.1"> option. </span><span class="koboSpan" id="kobo.350.2">Here, we’re looking at the first 30 bytes of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.351.1">boot.log</span></code><span class="koboSpan" id="kobo.352.1"> file:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.353.1">[donnie@fedora log]$ sudo head -c30 boot.log
[  OK  ] Finished [donnie@fedora log]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.354.1">You see that the </span><code class="inlineCode"><span class="koboSpan" id="kobo.355.1">-c</span></code><span class="koboSpan" id="kobo.356.1"> option has a slight quirk to it. </span><span class="koboSpan" id="kobo.356.2">For some reason, the newline command isn’t issued, and your new command prompt will end up on the same line as your output.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.357.1">Now, let’s look at the</span><a id="_idIndexMarker337"/><span class="koboSpan" id="kobo.358.1"> first two kilobytes of </span><code class="inlineCode"><span class="koboSpan" id="kobo.359.1">boot.log</span></code><span class="koboSpan" id="kobo.360.1"> by placing a </span><code class="inlineCode"><span class="koboSpan" id="kobo.361.1">k</span></code><span class="koboSpan" id="kobo.362.1"> after the </span><code class="inlineCode"><span class="koboSpan" id="kobo.363.1">2</span></code><span class="koboSpan" id="kobo.364.1">, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.365.1">[donnie@fedora log]$ sudo head -c2k boot.log
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.366.1">To view the first two megabytes of this file, you would have placed an </span><code class="inlineCode"><span class="koboSpan" id="kobo.367.1">m </span></code><span class="koboSpan" id="kobo.368.1">after the </span><code class="inlineCode"><span class="koboSpan" id="kobo.369.1">2</span></code><span class="koboSpan" id="kobo.370.1">, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.371.1">[donnie@fedora log]$ sudo head -c2m boot.log
</span></code></pre>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.372.1">If you’re wondering why a </span><code class="inlineCode"><span class="koboSpan" id="kobo.373.1">c</span></code><span class="koboSpan" id="kobo.374.1"> is used to denote the number of bytes, it’s because </span><em class="italic"><span class="koboSpan" id="kobo.375.1">c</span></em><span class="koboSpan" id="kobo.376.1"> stands for </span><em class="italic"><span class="koboSpan" id="kobo.377.1">character</span></em><span class="koboSpan" id="kobo.378.1">. </span><span class="koboSpan" id="kobo.378.2">One character just happens to be one byte in size. </span><span class="koboSpan" id="kobo.378.3">So, when you tell </span><code class="inlineCode"><span class="koboSpan" id="kobo.379.1">head</span></code><span class="koboSpan" id="kobo.380.1"> or </span><code class="inlineCode"><span class="koboSpan" id="kobo.381.1">tail</span></code><span class="koboSpan" id="kobo.382.1"> how many bytes you want to see, you’re really telling it how many characters you want to see.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.383.1">That’s all</span><a id="_idIndexMarker338"/><span class="koboSpan" id="kobo.384.1"> for </span><code class="inlineCode"><span class="koboSpan" id="kobo.385.1">head</span></code><span class="koboSpan" id="kobo.386.1">. </span><span class="koboSpan" id="kobo.386.2">Let’s move back to the </span><code class="inlineCode"><span class="koboSpan" id="kobo.387.1">tail</span></code><span class="koboSpan" id="kobo.388.1">.</span></p>
    <h1 id="_idParaDest-117" class="heading 1"><span class="koboSpan" id="kobo.389.1">Using tail</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.390.1">As you may</span><a id="_idIndexMarker339"/><span class="koboSpan" id="kobo.391.1"> have guessed, </span><code class="inlineCode"><span class="koboSpan" id="kobo.392.1">tail</span></code><span class="koboSpan" id="kobo.393.1"> allows you to view lines from the end of a file. </span><span class="koboSpan" id="kobo.393.2">By default, it will display the last ten lines. </span><span class="koboSpan" id="kobo.393.3">Let’s take another look at the </span><code class="inlineCode"><span class="koboSpan" id="kobo.394.1">boot.log</span></code><span class="koboSpan" id="kobo.395.1"> file:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.396.1">[donnie@fedora log]$ sudo tail boot.log
[  OK  ] Reached target remote-fs-p…eparation for Remote File Systems.
</span><span class="koboSpan" id="kobo.396.2">[  OK  ] Reached target remote-fs.target - Remote File Systems.
         </span><span class="koboSpan" id="kobo.396.3">Starting rpc-statd-notify.…- Notify NFS peers of a restart...
         </span><span class="koboSpan" id="kobo.396.4">Starting systemd-user-sess…vice - Permit User Sessions...
</span><span class="koboSpan" id="kobo.396.5">[  OK  ] Started rpc-statd-notify.s…m - Notify NFS peers of a restart.
</span><span class="koboSpan" id="kobo.396.6">[  OK  ] Finished systemd-user-sess…ervice - Permit User Sessions.
</span><span class="koboSpan" id="kobo.396.7">[  OK  ] Started atd.service - Deferred execution scheduler.
</span><span class="koboSpan" id="kobo.396.8">[  OK  ] Started crond.service - Command Scheduler.
         </span><span class="koboSpan" id="kobo.396.9">Starting plymouth-quit-wai… until boot process finishes up...
         </span><span class="koboSpan" id="kobo.396.10">Starting plymouth-quit.ser… Terminate Plymouth Boot Screen...
</span><span class="koboSpan" id="kobo.396.11">[donnie@fedora log]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.397.1">To specify the number of lines or bytes that you want to see, just use the same options that you used for </span><code class="inlineCode"><span class="koboSpan" id="kobo.398.1">head</span></code><span class="koboSpan" id="kobo.399.1">. </span><span class="koboSpan" id="kobo.399.2">There are however, a few options that </span><code class="inlineCode"><span class="koboSpan" id="kobo.400.1">head</span></code><span class="koboSpan" id="kobo.401.1"> doesn’t have. </span><span class="koboSpan" id="kobo.401.2">For example, if you place a </span><code class="inlineCode"><span class="koboSpan" id="kobo.402.1">+</span></code><span class="koboSpan" id="kobo.403.1"> in front of a number, you’ll be able to start your display from a certain line. </span><span class="koboSpan" id="kobo.403.2">Here, I’ve decided to view everything from line 33 to the end of the file.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.404.1">[donnie@fedora log]$ sudo tail -n+33 boot.log
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.405.1">Note that the </span><code class="inlineCode"><span class="koboSpan" id="kobo.406.1">-n</span></code><span class="koboSpan" id="kobo.407.1"> is mandatory for this.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.408.1">You can use the same trick to start the display at two kilobytes into the file, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.409.1">[donnie@fedora log]$ sudo tail -c+2k boot.log
</span></code></pre>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.410.1">If you’re wondering why a </span><code class="inlineCode"><span class="koboSpan" id="kobo.411.1">c</span></code><span class="koboSpan" id="kobo.412.1"> is used to denote the number of bytes, it’s because </span><em class="italic"><span class="koboSpan" id="kobo.413.1">c</span></em><span class="koboSpan" id="kobo.414.1"> stands for </span><em class="italic"><span class="koboSpan" id="kobo.415.1">character</span></em><span class="koboSpan" id="kobo.416.1">. </span><span class="koboSpan" id="kobo.416.2">One character just happens to be one byte in size. </span><span class="koboSpan" id="kobo.416.3">So, when you tell </span><code class="inlineCode"><span class="koboSpan" id="kobo.417.1">head</span></code><span class="koboSpan" id="kobo.418.1"> or </span><code class="inlineCode"><span class="koboSpan" id="kobo.419.1">tail</span></code><span class="koboSpan" id="kobo.420.1"> how many bytes you want to see, you’re really telling it how many characters you want to see.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.421.1">The last option for tail is the </span><code class="inlineCode"><span class="koboSpan" id="kobo.422.1">-f</span></code><span class="koboSpan" id="kobo.423.1"> option, which stands for </span><em class="italic"><span class="koboSpan" id="kobo.424.1">follow</span></em><span class="koboSpan" id="kobo.425.1">. </span><span class="koboSpan" id="kobo.425.2">This option provides a running, changing display of a log file. </span><span class="koboSpan" id="kobo.425.3">For example, to view the last ten lines of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.426.1">secure</span></code><span class="koboSpan" id="kobo.427.1"> log file here on my Fedora machine, with the display changing as new events are added, I would enter:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.428.1">[donnie@fedora log]$ sudo tail -f secure
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.429.1">When you’re through, just hit </span><em class="keystroke"><span class="koboSpan" id="kobo.430.1">Ctrl-c</span></em><span class="koboSpan" id="kobo.431.1"> to exit.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.432.1">This could come in handy if you suspect that some nefarious activity may be taking place on your system, because it allows you to constantly monitor for security events as </span><a id="_idIndexMarker340"/><span class="koboSpan" id="kobo.433.1">they pop up. </span><span class="koboSpan" id="kobo.433.2">Or, if you need to troubleshoot something, use this option to monitor your normal system log.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.434.1">For our next trick, let’s see about using </span><code class="inlineCode"><span class="koboSpan" id="kobo.435.1">head</span></code><span class="koboSpan" id="kobo.436.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.437.1">tail</span></code><span class="koboSpan" id="kobo.438.1"> together.</span></p>
    <h1 id="_idParaDest-118" class="heading 1"><span class="koboSpan" id="kobo.439.1">Using Head And Tail Together</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.440.1">You’ve seen how to </span><a id="_idIndexMarker341"/><span class="koboSpan" id="kobo.441.1">use </span><code class="inlineCode"><span class="koboSpan" id="kobo.442.1">head</span></code><span class="koboSpan" id="kobo.443.1"> to view lines from the beginning of a file, and how to use </span><code class="inlineCode"><span class="koboSpan" id="kobo.444.1">tail</span></code><span class="koboSpan" id="kobo.445.1"> to view lines from the end of a file.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.446.1">That’s all well and good, but what if you want to view selected lines from somewhere in the middle of a file? </span><span class="koboSpan" id="kobo.446.2">That’s easy. </span><span class="koboSpan" id="kobo.446.3">Just use </span><code class="inlineCode"><span class="koboSpan" id="kobo.447.1">head</span></code><span class="koboSpan" id="kobo.448.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.449.1">tail</span></code><span class="koboSpan" id="kobo.450.1"> together. </span><span class="koboSpan" id="kobo.450.2">Here’s how it works.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.451.1">Let’s say that you want to view lines 11 through 20 of a file with 39 lines. </span><span class="koboSpan" id="kobo.451.2">Just enter:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.452.1">[donnie@fedora log]$ sudo head -n20 boot.log | tail
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.453.1">You can use </span><code class="inlineCode"><span class="koboSpan" id="kobo.454.1">nl</span></code><span class="koboSpan" id="kobo.455.1"> to prove that you’re really seeing lines 11 through 20, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.456.1">[donnie@fedora log]$ sudo nl -ba boot.log | head -n20 | tail
    11	[  OK  ] Started rtkit-daemon.servi…timeKit Scheduling Policy Service.
    </span><span class="koboSpan" id="kobo.456.2">12	[  OK  ] Started avahi-daemon.service - Avahi mDNS/DNS-SD Stack.
    </span><span class="koboSpan" id="kobo.456.3">13	[  OK  ] Started abrtd.service - ABRT Daemon.
    </span><span class="koboSpan" id="kobo.456.4">14	[  OK  ] Started switcheroo-control… Switcheroo Control Proxy service.
    </span><span class="koboSpan" id="kobo.456.5">15	[  OK  ] Started abrt-journal-core.… ABRT coredumpctl message creator.
    </span><span class="koboSpan" id="kobo.456.6">16	[  OK  ] Started abrt-oops.service - ABRT kernel log watcher.
    </span><span class="koboSpan" id="kobo.456.7">17	[  OK  ] Started abrt-xorg.service - ABRT Xorg log watcher.
    </span><span class="koboSpan" id="kobo.456.8">18	[  OK  ] Started alsa-state.service…nd Card State (restore and store).
    </span><span class="koboSpan" id="kobo.456.9">19	[  OK  ] Reached target sound.target - Sound Card.
    </span><span class="koboSpan" id="kobo.456.10">20	[  OK  ] Started upower.service - Daemon for power management.
</span><span class="koboSpan" id="kobo.456.11">[donnie@fedora log]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.457.1">You can make a lot of other combinations besides this one. </span><span class="koboSpan" id="kobo.457.2">(Again I say, you’re only limited by your</span><a id="_idIndexMarker342"/><span class="koboSpan" id="kobo.458.1"> own imagination.) If you want to look at lines 10 through 15 of </span><code class="inlineCode"><span class="koboSpan" id="kobo.459.1">boot.log</span></code><span class="koboSpan" id="kobo.460.1">, enter this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.461.1">[donnie@fedora log]$ sudo head -n15 boot.log | tail -n6
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.462.1">Again, you can use </span><code class="inlineCode"><span class="koboSpan" id="kobo.463.1">nl</span></code><span class="koboSpan" id="kobo.464.1"> to prove that you’re looking at the correct lines, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.465.1">[donnie@fedora log]$ sudo nl -ba boot.log | head -n15 | tail -n6
    10	[  OK  ] Started dbus-broker.service - D-Bus System Message Bus.
    </span><span class="koboSpan" id="kobo.465.2">11	[  OK  ] Started rtkit-daemon.servi…timeKit Scheduling Policy Service.
    </span><span class="koboSpan" id="kobo.465.3">12	[  OK  ] Started avahi-daemon.service - Avahi mDNS/DNS-SD Stack.
    </span><span class="koboSpan" id="kobo.465.4">13	[  OK  ] Started abrtd.service - ABRT Daemon.
    </span><span class="koboSpan" id="kobo.465.5">14	[  OK  ] Started switcheroo-control… Switcheroo Control Proxy service.
    </span><span class="koboSpan" id="kobo.465.6">15	[  OK  ] Started abrt-journal-core.… ABRT coredumpctl message creator.
</span><span class="koboSpan" id="kobo.465.7">[donnie@fedora log]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.466.1">And, that does it</span><a id="_idIndexMarker343"/><span class="koboSpan" id="kobo.467.1"> for </span><code class="inlineCode"><span class="koboSpan" id="kobo.468.1">head</span></code><span class="koboSpan" id="kobo.469.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.470.1">tail</span></code><span class="koboSpan" id="kobo.471.1">. </span><span class="koboSpan" id="kobo.471.2">Let’s now have some real fun by doing some octal dumping.</span></p>
    <h1 id="_idParaDest-119" class="heading 1"><span class="koboSpan" id="kobo.472.1">Using od</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.473.1">The </span><strong class="keyWord"><span class="koboSpan" id="kobo.474.1">octal dump</span></strong><span class="koboSpan" id="kobo.475.1"> (</span><code class="inlineCode"><span class="koboSpan" id="kobo.476.1">od</span></code><span class="koboSpan" id="kobo.477.1">) utility has</span><a id="_idIndexMarker344"/><span class="koboSpan" id="kobo.478.1"> a lot of options, and it would require quite a few pages to fully explore them. </span><span class="koboSpan" id="kobo.478.2">But, unless you’re a hard-core programmer, you’ll probably have need for only a very few of these options.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.479.1">If you take a Linux certification exam, you may see a question or two about </span><code class="inlineCode"><span class="koboSpan" id="kobo.480.1">od</span></code><span class="koboSpan" id="kobo.481.1">. </span><span class="koboSpan" id="kobo.481.2">However, you probably won’t see any questions that cover </span><code class="inlineCode"><span class="koboSpan" id="kobo.482.1">od</span></code><span class="koboSpan" id="kobo.483.1"> in any amount of depth. </span><span class="koboSpan" id="kobo.483.2">So for now, I’ll just cover the basics.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.484.1">The name of this utility is a bit misleading. </span><span class="koboSpan" id="kobo.484.2">It does, by default, display file contents as octal byte-code. </span><span class="koboSpan" id="kobo.484.3">But, that’s not all that it does. </span><span class="koboSpan" id="kobo.484.4">By using the appropriate option switches, you can also use </span><code class="inlineCode"><span class="koboSpan" id="kobo.485.1">od</span></code><span class="koboSpan" id="kobo.486.1"> to display file contents in several other formats. </span><code class="inlineCode"><span class="koboSpan" id="kobo.487.1">od</span></code><span class="koboSpan" id="kobo.488.1"> is normally used to display the contents of binary files, but you can also use it to display non-printing characters in normal text files.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.489.1">You can display the contents of an entire file, or limit the amount of the file contents that you want to display. </span><span class="koboSpan" id="kobo.489.2">If you choose to display an entire file, you may want to either pipe the output into </span><code class="inlineCode"><span class="koboSpan" id="kobo.490.1">less</span></code><span class="koboSpan" id="kobo.491.1">, or redirect the output to a new text file. </span><span class="koboSpan" id="kobo.491.2">Let’s start by looking at part of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.492.1">od</span></code><span class="koboSpan" id="kobo.493.1"> output from the </span><code class="inlineCode"><span class="koboSpan" id="kobo.494.1">echo</span></code><span class="koboSpan" id="kobo.495.1"> binary file:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.496.1">[donnie@fedora ~]$ od /bin/echo
0000000 042577 043114 000402 000001 000000 000000 000000 000000
0000020 000003 000076 000001 000000 030020 000000 000000 000000
0000040 000100 000000 000000 000000 104450 000000 000000 000000
0000060 000000 000000 000100 000070 000015 000100 000040 000037
0000100 000006 000000 000004 000000 000100 000000 000000 000000
0000120 000100 000000 000000 000000 000100 000000 000000 000000
. </span><span class="koboSpan" id="kobo.496.2">. </span><span class="koboSpan" id="kobo.496.3">.
</span><span class="koboSpan" id="kobo.496.4">. </span><span class="koboSpan" id="kobo.496.5">. </span><span class="koboSpan" id="kobo.496.6">.
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.497.1">Note how the left column starts at zero, and increments by 20 (octal) from one line to the next. </span><span class="koboSpan" id="kobo.497.2">Think of this column as the address column. </span><span class="koboSpan" id="kobo.497.3">The addresses can be used to mark and later find some particular data within the file. </span><span class="koboSpan" id="kobo.497.4">The rest of each line represents the actual data.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.498.1">To view the file in other formats, use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.499.1">-t </span></code><span class="koboSpan" id="kobo.500.1">switch with the appropriate option. </span><span class="koboSpan" id="kobo.500.2">For example, you can view the </span><code class="inlineCode"><span class="koboSpan" id="kobo.501.1">echo</span></code><span class="koboSpan" id="kobo.502.1"> binary in hexadecimal format like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.503.1">[donnie@fedora ~]$ od -tx /bin/echo
0000000 464c457f 00010102 00000000 00000000
0000020 003e0003 00000001 00003010 00000000
0000040 00000040 00000000 00008928 00000000
0000060 00000000 00380040 0040000d 001f0020
0000100 00000006 00000004 00000040 00000000
0000120 00000040 00000000 00000040 00000000
. </span><span class="koboSpan" id="kobo.503.2">. </span><span class="koboSpan" id="kobo.503.3">.
</span><span class="koboSpan" id="kobo.503.4">. </span><span class="koboSpan" id="kobo.503.5">. </span><span class="koboSpan" id="kobo.503.6">.
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.504.1">Note how the first </span><a id="_idIndexMarker345"/><span class="koboSpan" id="kobo.505.1">column remained the same. </span><span class="koboSpan" id="kobo.505.2">Only the other columns changed.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.506.1">If you’re a normal user, you may not need </span><code class="inlineCode"><span class="koboSpan" id="kobo.507.1">od</span></code><span class="koboSpan" id="kobo.508.1"> for much else besides viewing non-printing characters in text files. </span><span class="koboSpan" id="kobo.508.2">You may need, for example, to find new-line or carriage return characters. </span><span class="koboSpan" id="kobo.508.3">For this, you can use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.509.1">-tc</span></code><span class="koboSpan" id="kobo.510.1"> option and look for characters that are preceded with a backslash. </span><span class="koboSpan" id="kobo.510.2">In the example that we’re about to examine, </span><code class="inlineCode"><span class="koboSpan" id="kobo.511.1">\n</span></code><span class="koboSpan" id="kobo.512.1"> represents newline characters, and </span><code class="inlineCode"><span class="koboSpan" id="kobo.513.1">\r</span></code><span class="koboSpan" id="kobo.514.1"> represents carriage return characters.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.515.1">I’ll be performing the demos with a Project Gutenberg ebook file that’s titled, </span><em class="italic"><span class="koboSpan" id="kobo.516.1">How to Speak and Write Correctly</span></em><span class="koboSpan" id="kobo.517.1">. </span><span class="koboSpan" id="kobo.517.2">You can download it from here: </span><a href="https://www.gutenberg.org/cache/epub/6409/pg6409.txt"><span class="url"><span class="koboSpan" id="kobo.518.1">https://www.gutenberg.org/cache/epub/6409/pg6409.txt</span></span></a></p>
      <p class="normal"><span class="koboSpan" id="kobo.519.1">Or, you can also just get it from the Github repository. </span><span class="koboSpan" id="kobo.519.2">Either way, the filename will be </span><code class="inlineCode"><span class="koboSpan" id="kobo.520.1">pg6409.txt</span></code><span class="koboSpan" id="kobo.521.1">.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.522.1">Now, let’s look at the first ten lines of our file, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.523.1">[donnie@fedora ~]$ od -tc pg6409.txt | head
0000000 357 273 277 T  h   e       P   r   o   j   e   c   t       G
0000020 u t   e   n   b   e   r   g       e   B   o   o   k       o
0000040 f     H   o   w       t   o       S   p   e   a   k       a
0000060 n d       W   r   i   t   e       C   o   r   r   e   c   t
0000100 l y  \r  \n                  \r  \n   T   h   i   s       e
0000120 b o   o   k       i   s       f   o   r       t   h   e   
0000140 u s   e       o   f       a   n   y   o   n   e       a   n
0000160 y w   h   e   r   e       i   n       t   h   e       U   n
0000200 i t   e   d       S   t   a   t   e   s       a   n   d  \r
0000220 \n m   o   s   t       o   t   h   e   r       p   a   r   t
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.524.1">You see that there are multiple </span><code class="inlineCode"><span class="koboSpan" id="kobo.525.1">\n</span></code><span class="koboSpan" id="kobo.526.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.527.1">\r</span></code><span class="koboSpan" id="kobo.528.1"> characters in this file. </span><span class="koboSpan" id="kobo.528.2">But, what does that mean? </span><span class="koboSpan" id="kobo.528.3">First, it means that the file was created with a Windows-based text editor, such as Notepad or Wordpad. </span><span class="koboSpan" id="kobo.528.4">For some bizarre reason, Windows text editors insert both newline characters (</span><code class="inlineCode"><span class="koboSpan" id="kobo.529.1">\n</span></code><span class="koboSpan" id="kobo.530.1">) and carriage return characters (</span><code class="inlineCode"><span class="koboSpan" id="kobo.531.1">\r</span></code><span class="koboSpan" id="kobo.532.1">) at the end of each line.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.533.1">Unix and Linux text editors only insert a newline character at the end of each line. </span><span class="koboSpan" id="kobo.533.2">If you’re on a Unix or Linux machine and just want to read a text file that has carriage return characters, everything will work just fine. </span><span class="koboSpan" id="kobo.533.3">But, if you want to search for something in the text file, the carriage return characters might prevent the search </span><a id="_idIndexMarker346"/><span class="koboSpan" id="kobo.534.1">from performing correctly. </span></p>
    <p class="normal"><span class="koboSpan" id="kobo.535.1">Also, Unix and Linux operating systems won’t correctly read shell scripts or configuration files if they contain any carriage returns.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.536.1">You can use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.537.1">-ta</span></code><span class="koboSpan" id="kobo.538.1"> option to view non-printable characters by their official ASCII names, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.539.1">[donnie@fedora ~]$ od -ta pg6409.txt | head
0000000 o   ;   ?  </span><span class="koboSpan" id="kobo.539.2">T   h   e  sp   P   r   o   j   e   c   t  sp   G
0000020 u  t   e   n   b   e   r   g  sp   e   B   o   o   k  sp   o
0000040 f sp   H   o   w  sp   t   o  sp   S   p   e   a   k  sp   a
0000060 n  d  sp   W   r   i   t   e  sp   C   o   r   r   e   c   t
0000100 l  y  cr  nl  sp  sp  sp  sp  cr  nl   T   h   i   s  sp   e
0000120 b  o   o   k  sp   i   s  sp   f   o   r  sp   t   h   e  sp
0000140 u  s   e  sp   o   f  sp   a   n   y   o   n   e  sp   a   n
0000160 y  w   h   e   r   e  sp   i   n  sp   t   h   e  sp   U   n
0000200 i  t   e   d  sp   S   t   a   t   e   s  sp   a   n   d  cr
0000220 nl  m   o   s   t  sp   o   t   h   e   r  sp   p   a   r   t
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.540.1">This time, the newlines and carriage returns are represented by </span><code class="inlineCode"><span class="koboSpan" id="kobo.541.1">nl</span></code><span class="koboSpan" id="kobo.542.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.543.1">cr</span></code><span class="koboSpan" id="kobo.544.1"> instead of by </span><code class="inlineCode"><span class="koboSpan" id="kobo.545.1">\n</span></code><span class="koboSpan" id="kobo.546.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.547.1">\r</span></code><span class="koboSpan" id="kobo.548.1">.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.549.1">If you want to begin the display from somewhere other than the beginning of the file, use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.550.1">-j </span></code><span class="koboSpan" id="kobo.551.1">switch. </span><span class="koboSpan" id="kobo.551.2">For example, if you want to begin viewing from address </span><code class="inlineCode"><span class="koboSpan" id="kobo.552.1">0000640,</span></code><span class="koboSpan" id="kobo.553.1"> enter:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.554.1">[donnie@fedora ~]$ od -ta -j0000640 pg6409.txt | head
0000640 e  d  sp   S   t   a   t   e   s   ,  cr  nl   y   o   u  sp
0000660 w  i   l   l  sp   h   a   v   e  sp   t   o  sp   c   h   e
0000700 c  k  sp   t   h   e  sp   l   a   w   s  sp   o   f  sp   t
0000720 h  e  sp   c   o   u   n   t   r   y  sp   w   h   e   r   e
0000740 sp  y   o   u  sp   a   r   e  sp   l   o   c   a   t   e   d
0000760 cr nl   b   e   f   o   r   e  sp   u   s   i   n   g  sp   t
0001000 h  i   s  sp   e   B   o   o   k   .  </span><span class="koboSpan" id="kobo.554.2">cr  nl  cr  nl   T   i
0001020 t  l   e   :  sp   H   o   w  sp   t   o  sp   S   p   e   a
0001040 k sp  a   n   d  sp   W   r   i   t   e  sp   C   o   r   r
0001060 e  c  t   l   y  cr  nl  cr  nl  cr  nl   A   u   t   h   o
[donnie@fedora ~]
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.555.1">If you want to read in</span><a id="_idIndexMarker347"/><span class="koboSpan" id="kobo.556.1"> only a certain portion of the file, use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.557.1">-N</span></code><span class="koboSpan" id="kobo.558.1"> switch. </span><span class="koboSpan" id="kobo.558.2">Here, I’m reading in the first </span><code class="inlineCode"><span class="koboSpan" id="kobo.559.1">0000640</span></code><span class="koboSpan" id="kobo.560.1"> bytes worth of our text file:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.561.1">[donnie@fedora ~]$ od -ta -N0000640 pg6409.txt
0000000 o   ;  ?   </span><span class="koboSpan" id="kobo.561.2">T   h   e  sp   P   r   o   j   e   c   t  sp   G
0000020 u   t  e   n   b   e   r   g  sp   e   B   o   o   k  sp   o
0000040 f  sp  H   o   w  sp   t   o  sp   S   p   e   a   k  sp   a
. </span><span class="koboSpan" id="kobo.561.3">. </span><span class="koboSpan" id="kobo.561.4">.
</span><span class="koboSpan" id="kobo.561.5">. </span><span class="koboSpan" id="kobo.561.6">. </span><span class="koboSpan" id="kobo.561.7">.
</span><span class="koboSpan" id="kobo.561.8">0000600 sp  y   o   u  sp   a   r   e  sp   n   o   t  sp   l   o   c
0000620 a  t   e   d  sp   i   n  sp   t   h   e  sp   U   n   i   t
0000640
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.562.1">Finally, let’s combine these two options. </span><span class="koboSpan" id="kobo.562.2">Let’s start at address </span><code class="inlineCode"><span class="koboSpan" id="kobo.563.1">0000400</span></code><span class="koboSpan" id="kobo.564.1"> and read in </span><code class="inlineCode"><span class="koboSpan" id="kobo.565.1">0000640</span></code><span class="koboSpan" id="kobo.566.1"> bytes worth</span><a id="_idIndexMarker348"/><span class="koboSpan" id="kobo.567.1"> of the file, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.568.1">[donnie@fedora ~]$ od -ta -j0000400 -N0000640 pg6409.txt
0000400 a  w   a   y  sp   o   r  sp   r   e   -   u   s   e  sp   i
0000420 t sp   u   n   d   e   r  sp   t   h   e  sp   t   e   r   m
0000440 s cr  nl   o   f  sp   t   h   e  sp   P   r   o   j   e   c
. </span><span class="koboSpan" id="kobo.568.2">. </span><span class="koboSpan" id="kobo.568.3">.
</span><span class="koboSpan" id="kobo.568.4">. </span><span class="koboSpan" id="kobo.568.5">. </span><span class="koboSpan" id="kobo.568.6">.
</span><span class="koboSpan" id="kobo.568.7">0001160 0  0   4  sp   [   e   B   o   o   k  sp   #   6   4   0   9
0001200 ] cr  nl  sp  sp  sp  sp  sp  sp  sp  sp  sp  sp  sp  sp  sp
0001220 sp sp  sp   M   o   s   t  sp   r   e   c   e   n   t   l   y
0001240
[donnie@fedora ~]$
</span></code></pre>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.569.1">Keep in mind that the numbers in the address column are in octal format. </span><span class="koboSpan" id="kobo.569.2">That’s why you need to use something like </span><code class="inlineCode"><span class="koboSpan" id="kobo.570.1">0000640</span></code><span class="koboSpan" id="kobo.571.1"> in the addressing options. </span><span class="koboSpan" id="kobo.571.2">If you were to use </span><code class="inlineCode"><span class="koboSpan" id="kobo.572.1">640</span></code><span class="koboSpan" id="kobo.573.1"> instead, </span><code class="inlineCode"><span class="koboSpan" id="kobo.574.1">od</span></code><span class="koboSpan" id="kobo.575.1"> would look at it as a decimal number, and would give you different results from what you expected.</span></p>
      <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.576.1">donnie@fedora:~$ od -ta -j400 -N640 pg6409.txt
0000620   a   t   e   d  sp   i   n  sp   t   h   e  sp   U   n   i   t
0000640   e   d  sp   S   t   a   t   e   s   ,  cr  nl   y   o   u  sp
0000660   w   i   l   l  sp   h   a   v   e  sp   t   o  sp   c   h   e
. </span><span class="koboSpan" id="kobo.576.2">. </span><span class="koboSpan" id="kobo.576.3">.
</span><span class="koboSpan" id="kobo.576.4">. </span><span class="koboSpan" id="kobo.576.5">. </span><span class="koboSpan" id="kobo.576.6">.
</span><span class="koboSpan" id="kobo.576.7">0001740   E  sp   W   A   T   E   R   S  cr  nl  cr  nl  cr  nl  cr  nl
0001760  cr  nl   T   H   E  sp   C   H   R   I   S   T   I   A   N  sp
0002000   H   E   R   A   L   D  cr  nl   B   I   B   L   E  sp   H   O
0002020
donnie@fedora:~$
</span></code></pre>
      <p class="normal"><code style="font-weight: bold;" class="codeHighlighted"><span class="koboSpan" id="kobo.577.1">A</span></code><span class="koboSpan" id="kobo.578.1">s you see, this isn’t what you want.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.579.1">Here’s an example of how you might be able to use </span><code class="inlineCode"><span class="koboSpan" id="kobo.580.1">od</span></code><span class="koboSpan" id="kobo.581.1">. </span><span class="koboSpan" id="kobo.581.2">Suppose that you have a couple of text files that you need to </span><code class="inlineCode"><span class="koboSpan" id="kobo.582.1">cat</span></code><span class="koboSpan" id="kobo.583.1"> together, but they just don’t line up correctly. </span><span class="koboSpan" id="kobo.583.2">To demonstrate, create a text file that has tabs at the beginning of several lines, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.584.1">[donnie@fedora ~]$ cat &gt; alignment_1.txt
This is line one.
</span><span class="koboSpan" id="kobo.584.2">This is line two.
        </span><span class="koboSpan" id="kobo.584.3">This is line three.
		</span><span class="koboSpan" id="kobo.584.4">This is line four.
			</span><span class="koboSpan" id="kobo.584.5">This is line five.
</span><span class="koboSpan" id="kobo.584.6">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.585.1">Create a second </span><a id="_idIndexMarker349"/><span class="koboSpan" id="kobo.586.1">file just like it, except without the tabs, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.587.1">[donnie@fedora ~]$ cat &gt; alignment_2.txt
This is line one.
</span><span class="koboSpan" id="kobo.587.2">This is line two.
</span><span class="koboSpan" id="kobo.587.3">This is line three.
</span><span class="koboSpan" id="kobo.587.4">This is line four.
</span><span class="koboSpan" id="kobo.587.5">This is line five.
</span><span class="koboSpan" id="kobo.587.6">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.588.1">Now, pretend that you don’t know about the tabs that are in the first file. </span><span class="koboSpan" id="kobo.588.2">Furthermore, pretend that it’s such a large file that you haven’t been able to look through it in order to notice the tabs. </span><span class="koboSpan" id="kobo.588.3">With that in mind, try to </span><code class="inlineCode"><span class="koboSpan" id="kobo.589.1">cat</span></code><span class="koboSpan" id="kobo.590.1"> the two files together, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.591.1">[donnie@fedora ~]$ cat alignment_1.txt alignment_2.txt
This is line one.
</span><span class="koboSpan" id="kobo.591.2">This is line two.
	</span><span class="koboSpan" id="kobo.591.3">This is line three.
		</span><span class="koboSpan" id="kobo.591.4">This is line four.
			</span><span class="koboSpan" id="kobo.591.5">This is line five.
</span><span class="koboSpan" id="kobo.591.6">This is line one.
</span><span class="koboSpan" id="kobo.591.7">This is line two.
</span><span class="koboSpan" id="kobo.591.8">This is line three.
</span><span class="koboSpan" id="kobo.591.9">This is line four.
</span><span class="koboSpan" id="kobo.591.10">This is line five.
</span><span class="koboSpan" id="kobo.591.11">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.592.1">So now, you’re scratching your head, wondering why things aren’t lining up correctly. </span><span class="koboSpan" id="kobo.592.2">A quick way to find out what’s going on would be to pipe the output through </span><code class="inlineCode"><span class="koboSpan" id="kobo.593.1">od</span></code><span class="koboSpan" id="kobo.594.1"> with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.595.1">-ta</span></code><span class="koboSpan" id="kobo.596.1"> switch, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.597.1">[donnie@fedora ~]$ cat alignment_1.txt alignment_2.txt | od -ta
0000000 T  h   i   s  sp   i   s  sp   l   i   n   e  sp   o   n   e
0000020 . </span><span class="koboSpan" id="kobo.597.2">nl   T   h   i   s  sp   i   s  sp   l   i   n   e  sp   t
0000040 w  o   .  </span><span class="koboSpan" id="kobo.597.3">nl  ht   T   h   i   s  sp   i   s  sp   l   i   n
0000060 e sp   t   h   r   e   e   .  </span><span class="koboSpan" id="kobo.597.4">nl  ht  ht   T   h   i   s  sp
0000100 i  s  sp   l   i   n   e  sp   f   o   u   r   .  </span><span class="koboSpan" id="kobo.597.5">nl  ht  ht
0000120 ht  T   h   i   s  sp   i   s  sp   l   i   n   e  sp   f   i
0000140 v  e   .  </span><span class="koboSpan" id="kobo.597.6">nl   T   h   i   s  sp   i   s  sp   l   i   n   e
0000160 sp  o   n   e   .  </span><span class="koboSpan" id="kobo.597.7">nl   T   h   i   s  sp   i   s  sp   l   i
0000200 n  e  sp   t   w   o   .  </span><span class="koboSpan" id="kobo.597.8">nl   T   h   i   s  sp   i   s  sp
0000220 l  i   n   e  sp   t   h   r   e   e   .  </span><span class="koboSpan" id="kobo.597.9">nl   T   h   i   s
0000240 sp  i   s  sp   l   i   n   e  sp   f   o   u   r   .  </span><span class="koboSpan" id="kobo.597.10">nl   T
0000260 h  i   s  sp   i   s  sp   l   i   n   e  sp   f   i   v   e
0000300 . </span><span class="koboSpan" id="kobo.597.11">nl
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.598.1">All of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.599.1">ht </span></code><span class="koboSpan" id="kobo.600.1">instances </span><a id="_idIndexMarker350"/><span class="koboSpan" id="kobo.601.1">you see indicate the presence of a hard tab, which gives you a clue about how to fix the alignment issues. </span><span class="koboSpan" id="kobo.601.2">You can also </span><code class="inlineCode"><span class="koboSpan" id="kobo.602.1">od</span></code><span class="koboSpan" id="kobo.603.1"> each file separately to find where you need to edit.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.604.1">There are still more </span><code class="inlineCode"><span class="koboSpan" id="kobo.605.1">od</span></code><span class="koboSpan" id="kobo.606.1"> options that you might find useful. </span><span class="koboSpan" id="kobo.606.2">To see them, consult either the </span><code class="inlineCode"><span class="koboSpan" id="kobo.607.1">od</span></code><span class="koboSpan" id="kobo.608.1"> man page or the </span><code class="inlineCode"><span class="koboSpan" id="kobo.609.1">od</span></code><span class="koboSpan" id="kobo.610.1"> info page.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.611.1">In real life, you can use od to help troubleshoot problems with either shell scripts or Linux/Unix configuration files. </span><span class="koboSpan" id="kobo.611.2">Remember that if scripts or configuration files contain any carriage return characters, the operating system won’t be able to read them. </span><span class="koboSpan" id="kobo.611.3">Also, Linux operating systems have begun making more extensive use of .yaml files in recent years. </span><span class="koboSpan" id="kobo.611.4">In addition to the carriage return problem, </span><code class="inlineCode"><span class="koboSpan" id="kobo.612.1">.yaml</span></code><span class="koboSpan" id="kobo.613.1"> files also require that each line be indented in a specific way. </span><span class="koboSpan" id="kobo.613.2">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.614.1">od</span></code><span class="koboSpan" id="kobo.615.1"> can help determine if each line is indented with the correct number of tabs or spaces.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.616.1">Next, let’s look at </span><a id="_idIndexMarker351"/><span class="koboSpan" id="kobo.617.1">something that’s uniquely different.</span></p>
    <h1 id="_idParaDest-120" class="heading 1"><span class="koboSpan" id="kobo.618.1">Using uniq</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.619.1">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.620.1">uniq</span></code><span class="koboSpan" id="kobo.621.1"> utility</span><a id="_idIndexMarker352"/><span class="koboSpan" id="kobo.622.1"> with files that have consecutive, identical lines. </span><span class="koboSpan" id="kobo.622.2">Its default behavior is to only show one copy of any line that is duplicated. </span><span class="koboSpan" id="kobo.622.3">Let’s begin by creating the </span><code class="inlineCode"><span class="koboSpan" id="kobo.623.1">fruit.txt</span></code><span class="koboSpan" id="kobo.624.1"> file, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.625.1">[donnie@fedora ~]$ cat &gt; fruit.txt
Peach
Peach
peach
apricot
Apricot
peach
Apricot
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.626.1">Using </span><code class="inlineCode"><span class="koboSpan" id="kobo.627.1">uniq</span></code><span class="koboSpan" id="kobo.628.1"> without any options gives you this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.629.1">[donnie@fedora ~]$ uniq fruit.txt
Peach
peach
apricot
Apricot
peach
Apricot
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.630.1">This got rid of the duplicates that were identical in case. </span><span class="koboSpan" id="kobo.630.2">But you still have some consecutive words that are the same, except for case. </span><span class="koboSpan" id="kobo.630.3">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.631.1">-i</span></code><span class="koboSpan" id="kobo.632.1"> switch to make this operation case-insensitive, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.633.1">[donnie@fedora ~]$ uniq -i fruit.txt
Peach
apricot
peach
Apricot
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.634.1">Of the two duplicate pairs, whichever word was on top was the one that stayed. </span><span class="koboSpan" id="kobo.634.2">In the </span><code class="inlineCode"><span class="koboSpan" id="kobo.635.1">Peach</span></code><span class="koboSpan" id="kobo.636.1"> pair, the upper-case </span><code class="inlineCode"><span class="koboSpan" id="kobo.637.1">Peach</span></code><span class="koboSpan" id="kobo.638.1"> was on top, so it stayed. </span><span class="koboSpan" id="kobo.638.2">In the </span><code class="inlineCode"><span class="koboSpan" id="kobo.639.1">Apricot</span></code><span class="koboSpan" id="kobo.640.1"> pair, the lower-case </span><code class="inlineCode"><span class="koboSpan" id="kobo.641.1">apricot</span></code><span class="koboSpan" id="kobo.642.1"> was on top, so it stayed.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.643.1">You can get a count of how many consecutive duplicate lines there are with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.644.1">-c</span></code><span class="koboSpan" id="kobo.645.1"> switch. </span><span class="koboSpan" id="kobo.645.2">Combine it </span><a id="_idIndexMarker353"/><span class="koboSpan" id="kobo.646.1">with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.647.1">-i</span></code><span class="koboSpan" id="kobo.648.1"> switch to make the count case-insensitive. </span><span class="koboSpan" id="kobo.648.2">Here’s how that works:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.649.1">[donnie@fedora ~]$ uniq -c fruit.txt
      2 Peach
      1 peach
      1 apricot
      1 Apricot
      1 peach
      1 Apricot
[donnie@fedora ~]$ uniq -ic fruit.txt
      3 Peach
      2 apricot
      1 peach
      1 Apricot
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.650.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.651.1">-u</span></code><span class="koboSpan" id="kobo.652.1"> switch allows you to only display lines that aren’t repeated. </span><span class="koboSpan" id="kobo.652.2">You can also make this case-insensitive by combining it with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.653.1">-i</span></code><span class="koboSpan" id="kobo.654.1"> switch. </span><span class="koboSpan" id="kobo.654.2">Here’s what that looks like:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.655.1">[donnie@fedora ~]$ uniq -u fruit.txt
peach
apricot
Apricot
peach
Apricot
[donnie@fedora ~]$ uniq -iu fruit.txt
peach
Apricot
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.656.1">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.657.1">-d</span></code><span class="koboSpan" id="kobo.658.1"> switch to show one copy of each line that is repeated, and to not show any line that isn’t repeated. </span><span class="koboSpan" id="kobo.658.2">Again, you can combine this with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.659.1">-i</span></code><span class="koboSpan" id="kobo.660.1"> switch, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.661.1">[donnie@fedora ~]$ uniq -d fruit.txt
Peach
[donnie@fedora ~]$ uniq -id fruit.txt
Peach
apricot
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.662.1">You can also have </span><code class="inlineCode"><span class="koboSpan" id="kobo.663.1">uniq</span></code><span class="koboSpan" id="kobo.664.1"> perform its comparisons on partial lines, instead of whole lines. </span><span class="koboSpan" id="kobo.664.2">To demo this, create </span><a id="_idIndexMarker354"/><span class="koboSpan" id="kobo.665.1">a file of two sets of statements. </span><span class="koboSpan" id="kobo.665.2">Have some of the statements differ in only the first word, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.666.1">[donnie@fedora ~]$ cat &gt; newfile.txt
The cat is sitting under the table.
</span><span class="koboSpan" id="kobo.666.2">Katelyn cat is sitting under the table.
</span><span class="koboSpan" id="kobo.666.3">Mr. </span><span class="koboSpan" id="kobo.666.4">Gray, the tomcat, is on the couch.
</span><span class="koboSpan" id="kobo.666.5">Mr. </span><span class="koboSpan" id="kobo.666.6">Gray, the tomcat, is on the couch.
</span><span class="koboSpan" id="kobo.666.7">Mister Gray, the tomcat, is on the couch.
</span><span class="koboSpan" id="kobo.666.8">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.667.1">A default </span><code class="inlineCode"><span class="koboSpan" id="kobo.668.1">uniq</span></code><span class="koboSpan" id="kobo.669.1"> operation would yield this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.670.1">[donnie@fedora ~]$ uniq newfile.txt
The cat is sitting under the table.
</span><span class="koboSpan" id="kobo.670.2">Katelyn cat is sitting under the table.
</span><span class="koboSpan" id="kobo.670.3">Mr. </span><span class="koboSpan" id="kobo.670.4">Gray, the tomcat, is on the couch.
</span><span class="koboSpan" id="kobo.670.5">Mister Gray, the tomcat, is on the couch.
</span><span class="koboSpan" id="kobo.670.6">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.671.1">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.672.1">-f </span></code><span class="koboSpan" id="kobo.673.1">switch to tell </span><code class="inlineCode"><span class="koboSpan" id="kobo.674.1">uniq</span></code><span class="koboSpan" id="kobo.675.1"> to ignore fields in its comparison. </span><span class="koboSpan" id="kobo.675.2">In this case, a field is a word in a sentence. </span><span class="koboSpan" id="kobo.675.3">The number after the </span><code class="inlineCode"><span class="koboSpan" id="kobo.676.1">-f</span></code><span class="koboSpan" id="kobo.677.1"> tells </span><code class="inlineCode"><span class="koboSpan" id="kobo.678.1">uniq</span></code><span class="koboSpan" id="kobo.679.1"> how many fields to ignore. </span><span class="koboSpan" id="kobo.679.2">For now, let’s make </span><code class="inlineCode"><span class="koboSpan" id="kobo.680.1">uniq</span></code><span class="koboSpan" id="kobo.681.1"> ignore the first word, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.682.1">[donnie@fedora ~]$ uniq -f1 newfile.txt
The cat is sitting under the table.
</span><span class="koboSpan" id="kobo.682.2">Mr. </span><span class="koboSpan" id="kobo.682.3">Gray, the tomcat, is on the couch.
</span><span class="koboSpan" id="kobo.682.4">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.683.1">You can use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.684.1">-c</span></code><span class="koboSpan" id="kobo.685.1"> switch in the same manner, except that it would have </span><code class="inlineCode"><span class="koboSpan" id="kobo.686.1">uniq</span></code><span class="koboSpan" id="kobo.687.1"> skip a number of characters, instead of fields. </span><span class="koboSpan" id="kobo.687.2">This could be handy if you have lines with leading blank spaces.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.688.1">If you want </span><code class="inlineCode"><span class="koboSpan" id="kobo.689.1">uniq</span></code><span class="koboSpan" id="kobo.690.1"> to end its comparisons before it gets to the end of the lines, use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.691.1">-w</span></code><span class="koboSpan" id="kobo.692.1"> switch. </span><span class="koboSpan" id="kobo.692.2">The number after the </span><code class="inlineCode"><span class="koboSpan" id="kobo.693.1">-w</span></code><span class="koboSpan" id="kobo.694.1"> tells </span><code class="inlineCode"><span class="koboSpan" id="kobo.695.1">uniq</span></code><span class="koboSpan" id="kobo.696.1"> how many characters into the line to perform its</span><a id="_idIndexMarker355"/><span class="koboSpan" id="kobo.697.1"> comparison. </span><span class="koboSpan" id="kobo.697.2">If a </span><code class="inlineCode"><span class="koboSpan" id="kobo.698.1">-c</span></code><span class="koboSpan" id="kobo.699.1"> or a </span><code class="inlineCode"><span class="koboSpan" id="kobo.700.1">-f</span></code><span class="koboSpan" id="kobo.701.1"> switch is specified, the count doesn’t begin until after the </span><code class="inlineCode"><span class="koboSpan" id="kobo.702.1">-c</span></code><span class="koboSpan" id="kobo.703.1"> or </span><code class="inlineCode"><span class="koboSpan" id="kobo.704.1">-f</span></code><span class="koboSpan" id="kobo.705.1"> switch is satisfied.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.706.1">To demo this, create yet another text file that will look like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.707.1">[donnie@fedora ~]$ cat &gt; newfile_2.txt
Mr. </span><span class="koboSpan" id="kobo.707.2">Gray is on the couch.
</span><span class="koboSpan" id="kobo.707.3">Mr. </span><span class="koboSpan" id="kobo.707.4">Gray is on the back of the couch.
</span><span class="koboSpan" id="kobo.707.5">Mister Gray is on the back of the couch.
</span><span class="koboSpan" id="kobo.707.6">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.708.1">This time, we want our comparison to begin on the second word of each sentence, and to end on the 14</span><sup class="superscript"><span class="koboSpan" id="kobo.709.1">th</span></sup><span class="koboSpan" id="kobo.710.1"> character of the comparison. </span><span class="koboSpan" id="kobo.710.2">Here’s how that works:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.711.1">[donnie@fedora ~]$ uniq -f1 -w14 newfile_2.txt
Mr. </span><span class="koboSpan" id="kobo.711.2">Gray is on the couch.
</span><span class="koboSpan" id="kobo.711.3">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.712.1">Okay, easy enough so far, right?</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.713.1">For the next demo, create a pair of files so that you can use </span><code class="inlineCode"><span class="koboSpan" id="kobo.714.1">join</span></code><span class="koboSpan" id="kobo.715.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.716.1">uniq</span></code><span class="koboSpan" id="kobo.717.1"> together. </span><span class="koboSpan" id="kobo.717.2">First, create the </span><code class="inlineCode"><span class="koboSpan" id="kobo.718.1">actorfile_9.txt</span></code><span class="koboSpan" id="kobo.719.1"> file, which will look like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.720.1">[donnie@fedora ~]$ cat &gt; actorfile_9.txt
Wayne	John
Allen	Gracie
Allen	Fred
Price	Vincent
Davis   	Bette
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.721.1">Next, create the </span><code class="inlineCode"><span class="koboSpan" id="kobo.722.1">actorfile_10.txt</span></code><span class="koboSpan" id="kobo.723.1"> file, which will look like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.724.1">[donnie@fedora ~]$ cat &gt; actorfile_10.txt
Wayne		drama
Allen		comedy
Allen		comedy
Price		horror
Davis		drama
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.725.1">Join the two files together to see what happens:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.726.1">[donnie@fedora ~]$ join actorfile_9.txt actorfile_10.txt
Wayne John drama
Allen Gracie comedy
Allen Gracie comedy
Allen Fred comedy
Allen Fred comedy
Price Vincent horror
Davis Bette drama
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.727.1">Notice that when </span><a id="_idIndexMarker356"/><span class="koboSpan" id="kobo.728.1">the key field is the same on two consecutive lines, </span><code class="inlineCode"><span class="koboSpan" id="kobo.729.1">join</span></code><span class="koboSpan" id="kobo.730.1"> thinks that it has to list each of those lines twice in the combined output. </span><span class="koboSpan" id="kobo.730.2">You can take care of that by piping the output through </span><code class="inlineCode"><span class="koboSpan" id="kobo.731.1">uniq</span></code><span class="koboSpan" id="kobo.732.1">, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.733.1">[donnie@fedora ~]$ join actorfile_9.txt actorfile_10.txt | uniq
Wayne John drama
Allen Gracie comedy
Allen Fred comedy
Price Vincent horror
Davis Bette drama
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.734.1">Okay, that’s it </span><a id="_idIndexMarker357"/><span class="koboSpan" id="kobo.735.1">for </span><code class="inlineCode"><span class="koboSpan" id="kobo.736.1">uniq</span></code><span class="koboSpan" id="kobo.737.1">. </span><span class="koboSpan" id="kobo.737.2">Let’s now do some counting.</span></p>
    <h1 id="_idParaDest-121" class="heading 1"><span class="koboSpan" id="kobo.738.1">Using wc</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.739.1">This easy-to-use </span><a id="_idIndexMarker358"/><span class="koboSpan" id="kobo.740.1">utility gives you a quick way to count the number of lines, words, and/or bytes in a text file. </span><span class="koboSpan" id="kobo.740.2">So, if you’re typing a document that can only contain a certain number of words, you don’t have to sit there and manually try to count the words as you scroll the document up your screen. </span><span class="koboSpan" id="kobo.740.3">Just use </span><code class="inlineCode"><span class="koboSpan" id="kobo.741.1">wc</span></code><span class="koboSpan" id="kobo.742.1">, instead.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.743.1">The default output for </span><code class="inlineCode"><span class="koboSpan" id="kobo.744.1">wc</span></code><span class="koboSpan" id="kobo.745.1"> shows you the number of lines, followed by the number of words, and then by the number of bytes. </span><span class="koboSpan" id="kobo.745.2">Finally, it shows the name of the input file. </span><span class="koboSpan" id="kobo.745.3">Here’s how that looks:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.746.1">[donnie@fedora ~]$ wc actorfile_1.txt
 5 10 67 actorfile_1.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.747.1">So, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.748.1">actorfile_1.txt</span></code><span class="koboSpan" id="kobo.749.1"> file contains five lines, ten words, and 67 bytes.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.750.1">If you specify more than one file, </span><code class="inlineCode"><span class="koboSpan" id="kobo.751.1">wc</span></code><span class="koboSpan" id="kobo.752.1"> will tell give you information for each individual file, and the total for all of the files, which looks like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.753.1">[donnie@fedora ~]$ wc actorfile_1.txt actorfile_2.txt macgruder.txt
  5  10  67 actorfile_1.txt
  5  10  77 actorfile_2.txt
 19  77 510 macgruder.txt
 29  97 654 total
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.754.1">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.755.1">-l </span></code><span class="koboSpan" id="kobo.756.1">(that’s a lower-case L) switch if you only want to see the number of lines in your files. </span><span class="koboSpan" id="kobo.756.2">Here’s how that looks:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.757.1">[donnie@fedora ~]$ wc -l actorfile_1.txt
5 actorfile_1.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.758.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.759.1">-w</span></code><span class="koboSpan" id="kobo.760.1"> switch shows the number of words in a file, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.761.1">[donnie@fedora ~]$ wc -w actorfile_1.txt
10 actorfile_1.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.762.1">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.763.1">-c</span></code><span class="koboSpan" id="kobo.764.1"> switch to show only the number of bytes, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.765.1">[donnie@fedora ~]$ wc -c actorfile_1.txt
67 actorfile_1.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.766.1">To see the numbers of characters in a file, use </span><code class="inlineCode"><span class="koboSpan" id="kobo.767.1">-m</span></code><span class="koboSpan" id="kobo.768.1">, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.769.1">[donnie@fedora ~]$ wc -m actorfile_1.txt
67 actorfile_1.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.770.1">Theoretically, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.771.1">-c</span></code><span class="koboSpan" id="kobo.772.1"> and the </span><code class="inlineCode"><span class="koboSpan" id="kobo.773.1">-m</span></code><span class="koboSpan" id="kobo.774.1"> outputs should be identical as you see above, because one </span><a id="_idIndexMarker359"/><span class="koboSpan" id="kobo.775.1">character is one byte in size. </span><span class="koboSpan" id="kobo.775.2">However, the outputs might differ slightly for large text files, as you see here:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.776.1">[donnie@fedora ~]$ wc -c pg6409.txt
282605 pg6409.txt
[donnie@fedora ~]$ wc -m pg6409.txt
282419 pg6409.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.777.1">I have no idea of why that is, because I’ve never found any explanation about it.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.778.1">The last switch is the </span><code class="inlineCode"><span class="koboSpan" id="kobo.779.1">-L</span></code><span class="koboSpan" id="kobo.780.1"> switch, which shows you the length of the longest line in your input file, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.781.1">[donnie@fedora ~]$ wc -L pg6409.txt
87 pg6409.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.782.1">You can combine </span><code class="inlineCode"><span class="koboSpan" id="kobo.783.1">wc</span></code><span class="koboSpan" id="kobo.784.1"> with other utilities. </span><span class="koboSpan" id="kobo.784.2">Suppose that you have a text file that contains a lot of duplicate lines. </span><span class="koboSpan" id="kobo.784.3">Combine </span><code class="inlineCode"><span class="koboSpan" id="kobo.785.1">wc</span></code><span class="koboSpan" id="kobo.786.1"> with </span><code class="inlineCode"><span class="koboSpan" id="kobo.787.1">uniq </span></code><span class="koboSpan" id="kobo.788.1">to see how eliminating the blank lines would affect the size of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.789.1">pg6409.txt</span></code><span class="koboSpan" id="kobo.790.1"> file that you downloaded from Project Gutenberg, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.791.1">[donnie@fedora ~]$ wc pg6409.txt
  6019  45875 282605 pg6409.txt
[donnie@fedora ~]$ uniq pg6409.txt | wc
   5785   45875  282137
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.792.1">You see that </span><code class="inlineCode"><span class="koboSpan" id="kobo.793.1">uniq</span></code><span class="koboSpan" id="kobo.794.1"> has reduced the number of lines, but the word count remains the same. </span><span class="koboSpan" id="kobo.794.2">This tells us that all of the duplicate lines are blank lines. </span><span class="koboSpan" id="kobo.794.3">The byte-count has also gone down, because even empty spaces count as characters, which are one byte in size.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.795.1">If you’re a systems administrator, you can use </span><code class="inlineCode"><span class="koboSpan" id="kobo.796.1">wc</span></code><span class="koboSpan" id="kobo.797.1"> to help with your security audits. </span><span class="koboSpan" id="kobo.797.2">If you know how many users are supposed to be authorized for your system, you can periodically check the number of lines in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.798.1">/etc/passwd</span></code><span class="koboSpan" id="kobo.799.1"> file. </span><span class="koboSpan" id="kobo.799.2">(Remember, each</span><a id="_idIndexMarker360"/><span class="koboSpan" id="kobo.800.1"> line represents one user.) This gives you a good way to recognize if a user has been added behind your back.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.801.1">All righty, we’re through counting. </span><span class="koboSpan" id="kobo.801.2">It’s time now to do some formatting.</span></p>
    <h1 id="_idParaDest-122" class="heading 1"><span class="koboSpan" id="kobo.802.1">Using fmt</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.803.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.804.1">fmt</span></code><span class="koboSpan" id="kobo.805.1"> utility works by</span><a id="_idIndexMarker361"/><span class="koboSpan" id="kobo.806.1"> attempting to make all non-blank lines in a text file the same length. </span><span class="koboSpan" id="kobo.806.2">Its default action is to set a target length of 75 characters for each line. </span><span class="koboSpan" id="kobo.806.3">However, you can change that if your file is either too narrow or too wide to display properly. </span><span class="koboSpan" id="kobo.806.4">The slight catch is that it doesn’t work well with every file. </span><span class="koboSpan" id="kobo.806.5">If your file has things like tables, indices, or tables of contents, </span><code class="inlineCode"><span class="koboSpan" id="kobo.807.1">fmt</span></code><span class="koboSpan" id="kobo.808.1"> can mess up their formatting. </span><span class="koboSpan" id="kobo.808.2">(That’s ironic, considering that </span><code class="inlineCode"><span class="koboSpan" id="kobo.809.1">fmt</span></code><span class="koboSpan" id="kobo.810.1"> is short for </span><em class="italic"><span class="koboSpan" id="kobo.811.1">format</span></em><span class="koboSpan" id="kobo.812.1">.) You would then have to go back and manually edit them to make them look right.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.813.1">I should point out for all of these examples to work on a virtual machine, you’ll need to have the virtual machine window set to a wider-than-default width. </span><span class="koboSpan" id="kobo.813.2">You can do that by opening the Virtualbox </span><strong class="screenText"><span class="koboSpan" id="kobo.814.1">View</span></strong><span class="koboSpan" id="kobo.815.1"> menu for the virtual machine, and selecting the </span><strong class="screenText"><span class="koboSpan" id="kobo.816.1">Scaled Mode</span></strong><span class="koboSpan" id="kobo.817.1"> option. </span><span class="koboSpan" id="kobo.817.2">That will allow you to resize the virtual machine window to suit your needs.</span></p>
      <p class="normal"><span class="koboSpan" id="kobo.818.1">Another option is to just remotely log into the virtual machine from your host machine’s terminal. </span><span class="koboSpan" id="kobo.818.2">You’ll then be able to resize the terminal window as you desire.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.819.1">We’ll start by looking at an excerpt from the </span><code class="inlineCode"><span class="koboSpan" id="kobo.820.1">pg6409.txt</span></code><span class="koboSpan" id="kobo.821.1"> ebook file that you’ve already downloaded from the Project Gutenberg site. </span><span class="koboSpan" id="kobo.821.2">Here’s what the unformatted</span><a id="_idIndexMarker362"/><span class="koboSpan" id="kobo.822.1"> excerpt file looks like:</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.823.1"><img src="../Images/B21693_07_02.png" alt="B21693_7_2"/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.824.1">Figure 7.2: The unformatted text</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.825.1">I’ve decided that that’s a bit too wide, so I’ll use </span><code class="inlineCode"><span class="koboSpan" id="kobo.826.1">fmt</span></code><span class="koboSpan" id="kobo.827.1"> with its default target setting of 75 characters per line, like so:</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.828.1"><img src="../Images/B21693_07_03.png" alt="B21693_7_3"/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.829.1">Figure 7.3: Using fmt with the default width</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.830.1">It still seems a bit too wide. </span><span class="koboSpan" id="kobo.830.2">So, let’s use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.831.1">-w</span></code><span class="koboSpan" id="kobo.832.1"> switch to narrow it down to a width of 60 characters, like so:</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.833.1"><img src="../Images/B21693_07_04.png" alt="B21693_7_4"/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.834.1">Figure 7.4: Setting a width of 60 characters</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.835.1">On second </span><a id="_idIndexMarker363"/><span class="koboSpan" id="kobo.836.1">thought, let’s try it with a line width of 90 characters, like this:</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.837.1"><img src="../Images/B21693_07_05.png" alt="B21693_7_5"/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.838.1">Figure 7.5: Setting a width of 90 characters</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.839.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.840.1">-u</span></code><span class="koboSpan" id="kobo.841.1"> switch ensures that you always have one space between each word, and two spaces between each sentence, which looks like this:</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.842.1"><img src="../Images/B21693_07_06.png" alt="B21693_7_6"/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.843.1">Figure 7.6: Using the -u option</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.844.1">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.845.1">-s</span></code><span class="koboSpan" id="kobo.846.1"> switch if you want to make long lines shorter, but you don’t want to make short lines</span><a id="_idIndexMarker364"/><span class="koboSpan" id="kobo.847.1"> longer. </span><span class="koboSpan" id="kobo.847.2">(Note that you can use a single dash to combine switches.) Here’s how that looks:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.848.1">[donnie@fedora ~]$ fmt -sw60 excerpt.txt
It is the purpose of this book, as briefly and concisely
as possible, to
direct the reader along a straight course, pointing out
the mistakes he
must avoid and giving him such assistance as will enable
him to reach the
goal of a correct knowledge of the English language. </span><span class="koboSpan" id="kobo.848.2">It
is not a Grammar
in any sense, but a guide, a silent signal-post pointing
the way in the
right direction.
</span><span class="koboSpan" id="kobo.848.3">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.849.1">Yeah, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.850.1">-s</span></code><span class="koboSpan" id="kobo.851.1"> doesn’t work so well with this particular file, and I’ve never really found a use for it myself. </span><span class="koboSpan" id="kobo.851.2">But, that doesn’t mean that you’ll never find a use for it.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.852.1">Once you’ve finally decided that you like what you see, use a redirector to save the output to a new file, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.853.1">[donnie@fedora ~]$ fmt -uw80 excerpt.txt &gt; formatted_excerpt.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.854.1">Now that we’ve</span><a id="_idIndexMarker365"/><span class="koboSpan" id="kobo.855.1"> had enough of formatting, let’s do some splitting.</span></p>
    <h1 id="_idParaDest-123" class="heading 1"><span class="koboSpan" id="kobo.856.1">Using split</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.857.1">You can use </span><code class="inlineCode"><span class="koboSpan" id="kobo.858.1">split </span></code><span class="koboSpan" id="kobo.859.1">to</span><a id="_idIndexMarker366"/><span class="koboSpan" id="kobo.860.1"> break one large text file into two or more smaller ones. </span><span class="koboSpan" id="kobo.860.2">By default, it takes a large file and splits it into smaller files of 1,000 lines each. </span><span class="koboSpan" id="kobo.860.3">(Of course, the last file may be smaller.) Also by default, the names of these new small files will be </span><code class="inlineCode"><span class="koboSpan" id="kobo.861.1">xaa</span></code><span class="koboSpan" id="kobo.862.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.863.1">xab</span></code><span class="koboSpan" id="kobo.864.1">, </span><code class="inlineCode"><span class="koboSpan" id="kobo.865.1">xac</span></code><span class="koboSpan" id="kobo.866.1">, and so on. </span><span class="koboSpan" id="kobo.866.2">Let’s begin by looking at the line-count of the public-domain ebook file that you downloaded from Project Gutenberg, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.867.1">[donnie@fedora ~]$ wc -l pg6409.txt
6019 pg6409.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.868.1">Since there are 6,019 lines in this file, </span><code class="inlineCode"><span class="koboSpan" id="kobo.869.1">split</span></code><span class="koboSpan" id="kobo.870.1"> will break it into six files of 1,000 lines each, and one file of only 19 lines. </span><span class="koboSpan" id="kobo.870.2">Here’s how it works:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.871.1">[donnie@fedora ~]$ split pg6409.txt
[donnie@fedora ~]$ ls -l x*
-rw-r--r--. </span><span class="koboSpan" id="kobo.871.2">1 donnie donnie 38304 Sep 15 17:31 xaa
-rw-r--r--. </span><span class="koboSpan" id="kobo.871.3">1 donnie donnie 48788 Sep 15 17:31 xab
-rw-r--r--. </span><span class="koboSpan" id="kobo.871.4">1 donnie donnie 42676 Sep 15 17:31 xac
-rw-r--r--. </span><span class="koboSpan" id="kobo.871.5">1 donnie donnie 42179 Sep 15 17:31 xad
-rw-r--r--. </span><span class="koboSpan" id="kobo.871.6">1 donnie donnie 54845 Sep 15 17:31 xae
-rw-r--r--. </span><span class="koboSpan" id="kobo.871.7">1 donnie donnie 55021 Sep 15 17:31 xaf
-rw-r--r--. </span><span class="koboSpan" id="kobo.871.8">1 donnie donnie   792 Sep 15 17:31 xag
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.872.1">To verify that this works, use </span><code class="inlineCode"><span class="koboSpan" id="kobo.873.1">wc</span></code><span class="koboSpan" id="kobo.874.1"> to perform a line-count of each file:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.875.1">[donnie@fedora ~]$ wc -l xaa xab xac xad xae xaf xag
  1000 xaa
  1000 xab
  1000 xac
  1000 xad
  1000 xae
  1000 xaf
    19 xag
  6019 total
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.876.1">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.877.1">-a</span></code><span class="koboSpan" id="kobo.878.1"> option to change the length of the new filenames. </span><span class="koboSpan" id="kobo.878.2">The following command will give you a five-character suffix for the filenames.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.879.1">[donnie@fedora ~]$ split -a5 pg6409.txt
[donnie@fedora ~]$ ls -l xaaa*
-rw-r--r--. </span><span class="koboSpan" id="kobo.879.2">1 donnie donnie 38304 Sep 15 17:37 xaaaaa
-rw-r--r--. </span><span class="koboSpan" id="kobo.879.3">1 donnie donnie 48788 Sep 15 17:37 xaaaab
-rw-r--r--. </span><span class="koboSpan" id="kobo.879.4">1 donnie donnie 42676 Sep 15 17:37 xaaaac
-rw-r--r--. </span><span class="koboSpan" id="kobo.879.5">1 donnie donnie 42179 Sep 15 17:37 xaaaad
-rw-r--r--. </span><span class="koboSpan" id="kobo.879.6">1 donnie donnie 54845 Sep 15 17:37 xaaaae
-rw-r--r--. </span><span class="koboSpan" id="kobo.879.7">1 donnie donnie 55021 Sep 15 17:37 xaaaaf
-rw-r--r--. </span><span class="koboSpan" id="kobo.879.8">1 donnie donnie   792 Sep 15 17:37 xaaaag
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.880.1">You can also change</span><a id="_idIndexMarker367"/><span class="koboSpan" id="kobo.881.1"> the filename prefix from </span><code class="inlineCode"><span class="koboSpan" id="kobo.882.1">x</span></code><span class="koboSpan" id="kobo.883.1"> to whatever you want. </span><span class="koboSpan" id="kobo.883.2">Just add the desired prefix to the end of the command, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.884.1">[donnie@fedora ~]$ split -a5 pg6409.txt pg6409.txt
[donnie@fedora ~]$ ls -l pg6409.txt*
-rw-r--r--. </span><span class="koboSpan" id="kobo.884.2">1 donnie donnie 282605 Sep 13 17:39 pg6409.txt
-rw-r--r--. </span><span class="koboSpan" id="kobo.884.3">1 donnie donnie  38304 Sep 15 17:40 pg6409.txtaaaaa
-rw-r--r--. </span><span class="koboSpan" id="kobo.884.4">1 donnie donnie  48788 Sep 15 17:40 pg6409.txtaaaab
-rw-r--r--. </span><span class="koboSpan" id="kobo.884.5">1 donnie donnie  42676 Sep 15 17:40 pg6409.txtaaaac
-rw-r--r--. </span><span class="koboSpan" id="kobo.884.6">1 donnie donnie  42179 Sep 15 17:40 pg6409.txtaaaad
-rw-r--r--. </span><span class="koboSpan" id="kobo.884.7">1 donnie donnie  54845 Sep 15 17:40 pg6409.txtaaaae
-rw-r--r--. </span><span class="koboSpan" id="kobo.884.8">1 donnie donnie  55021 Sep 15 17:40 pg6409.txtaaaaf
-rw-r--r--. </span><span class="koboSpan" id="kobo.884.9">1 donnie donnie    792 Sep 15 17:40 pg6409.txtaaaag
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.885.1">If you don’t want to use letters for the filename suffixes, use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.886.1">-d</span></code><span class="koboSpan" id="kobo.887.1"> option to use numeric prefixes. </span><span class="koboSpan" id="kobo.887.2">(Again, notice how you can combine switches with only a single dash.) Do it like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.888.1">[donnie@fedora ~]$ split -da5 pg6409.txt pg6409.txt
[donnie@fedora ~]$ ls -l pg6409.txt0000*
-rw-r--r--. </span><span class="koboSpan" id="kobo.888.2">1 donnie donnie 38304 Sep 15 17:42 pg6409.txt00000
-rw-r--r--. </span><span class="koboSpan" id="kobo.888.3">1 donnie donnie 48788 Sep 15 17:42 pg6409.txt00001
-rw-r--r--. </span><span class="koboSpan" id="kobo.888.4">1 donnie donnie 42676 Sep 15 17:42 pg6409.txt00002
-rw-r--r--. </span><span class="koboSpan" id="kobo.888.5">1 donnie donnie 42179 Sep 15 17:42 pg6409.txt00003
-rw-r--r--. </span><span class="koboSpan" id="kobo.888.6">1 donnie donnie 54845 Sep 15 17:42 pg6409.txt00004
-rw-r--r--. </span><span class="koboSpan" id="kobo.888.7">1 donnie donnie 55021 Sep 15 17:42 pg6409.txt00005
-rw-r--r--. </span><span class="koboSpan" id="kobo.888.8">1 donnie donnie   792 Sep 15 17:42 pg6409.txt00006
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.889.1">But, what if 1,000 lines is too long for your files? </span><span class="koboSpan" id="kobo.889.2">Then, use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.890.1">-l</span></code><span class="koboSpan" id="kobo.891.1"> switch to change it to</span><a id="_idIndexMarker368"/><span class="koboSpan" id="kobo.892.1"> something else. </span><span class="koboSpan" id="kobo.892.2">Here, I’m creating files of 400 lines each:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.893.1">[donnie@fedora ~]$ split -da5 -l400 pg6409.txt pg6409.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.894.1">Note that whenever you use two or more option switches that each take a numeric option, you have to use a separate dash for each option.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.895.1">You can use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.896.1">-b</span></code><span class="koboSpan" id="kobo.897.1"> switch to create files that are a specific number of bytes in size. </span><span class="koboSpan" id="kobo.897.2">Here, I’m breaking the file into chunks of 900 bytes each:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.898.1">[donnie@fedora ~]$ split -da5 -b900 pg6409.txt pg6409.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.899.1">Add either a </span><code class="inlineCode"><span class="koboSpan" id="kobo.900.1">k</span></code><span class="koboSpan" id="kobo.901.1"> or an </span><code class="inlineCode"><span class="koboSpan" id="kobo.902.1">m</span></code><span class="koboSpan" id="kobo.903.1"> after the numeric option for the</span><code class="inlineCode"><span class="koboSpan" id="kobo.904.1"> -b</span></code><span class="koboSpan" id="kobo.905.1"> switch, and you can specify either kilobytes or megabytes, instead of the default bytes. </span><span class="koboSpan" id="kobo.905.2">In this example, I’m going back in time and pretending that I have to divide the file into two parts so that I can store it on two old-fashioned 180-Kbyte floppy disks:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.906.1">[donnie@fedora ~]$ split -da5 -b180k pg6409.txt pg6409.txt
[donnie@fedora ~]$ ls -l pg6409.txt000*
-rw-r--r--. </span><span class="koboSpan" id="kobo.906.2">1 donnie donnie 184320 Sep 15 17:55 pg6409.txt00000
-rw-r--r--. </span><span class="koboSpan" id="kobo.906.3">1 donnie donnie  98285 Sep 15 17:55 pg6409.txt00001
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.907.1">I’ll wrap up the </span><code class="inlineCode"><span class="koboSpan" id="kobo.908.1">split</span></code><span class="koboSpan" id="kobo.909.1"> write-up by making a confession, in order to unburden my soul. </span><span class="koboSpan" id="kobo.909.2">As I hinted in the previous paragraph, the original purpose of </span><code class="inlineCode"><span class="koboSpan" id="kobo.910.1">split</span></code><span class="koboSpan" id="kobo.911.1"> was to split up text files that are too large to store on a single old-fashioned floppy disk. </span></p>
    <p class="normal"><span class="koboSpan" id="kobo.912.1">In the modern age, we have hard drives and solid-state drives that have multiple Terabytes of capacity, and USB memory sticks that have multiple Gigabytes of capacity. </span><span class="koboSpan" id="kobo.912.2">So, you’ll likely find that </span><code class="inlineCode"><span class="koboSpan" id="kobo.913.1">split </span></code><span class="koboSpan" id="kobo.914.1">isn’t as useful as it used to be. </span><span class="koboSpan" id="kobo.914.2">But, do keep it in mind if </span><a id="_idIndexMarker369"/><span class="koboSpan" id="kobo.915.1">you plan to take a Linux certification exam, because you just might see some questions about it.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.916.1">Okay, we’ve had enough of splitting, so let’s do some translating.</span></p>
    <h1 id="_idParaDest-124" class="heading 1"><span class="koboSpan" id="kobo.917.1">Using tr</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.918.1">You can use </span><code class="inlineCode"><span class="koboSpan" id="kobo.919.1">tr </span></code><span class="koboSpan" id="kobo.920.1">for</span><a id="_idIndexMarker370"/><span class="koboSpan" id="kobo.921.1"> a variety of translation chores. </span><span class="koboSpan" id="kobo.921.2">(After all, </span><code class="inlineCode"><span class="koboSpan" id="kobo.922.1">tr </span></code><span class="koboSpan" id="kobo.923.1">does stand for </span><em class="italic"><span class="koboSpan" id="kobo.924.1">translate</span></em><span class="koboSpan" id="kobo.925.1">.) Rather than translating from one language to another, </span><code class="inlineCode"><span class="koboSpan" id="kobo.926.1">tr</span></code><span class="koboSpan" id="kobo.927.1"> translates from one character to another, from a range of characters to another, or from one class of characters to another. </span><span class="koboSpan" id="kobo.927.2">You can also delete selected characters from a file or eliminate duplicate characters.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.928.1">Compared to the utilities that we’ve looked at so far, there’s a big difference with how </span><code class="inlineCode"><span class="koboSpan" id="kobo.929.1">tr</span></code><span class="koboSpan" id="kobo.930.1"> operates. </span><span class="koboSpan" id="kobo.930.2">The other utilities that we’ve looked at so far can get their input from arguments that you would supply on the command-line. </span><span class="koboSpan" id="kobo.930.3">So, you don’t need to use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.931.1">stdin</span></code><span class="koboSpan" id="kobo.932.1"> redirector with them. </span><span class="koboSpan" id="kobo.932.2">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.933.1">tr</span></code><span class="koboSpan" id="kobo.934.1"> utility can’t use arguments, so you’ll either have to use a </span><code class="inlineCode"><span class="koboSpan" id="kobo.935.1">stdin</span></code><span class="koboSpan" id="kobo.936.1"> redirector or pipe its input in from another command.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.937.1">For the first example, create the file </span><code class="inlineCode"><span class="koboSpan" id="kobo.938.1">translation.txt</span></code><span class="koboSpan" id="kobo.939.1">, and use </span><code class="inlineCode"><span class="koboSpan" id="kobo.940.1">tr</span></code><span class="koboSpan" id="kobo.941.1"> to change every occurrence of a single character. </span><span class="koboSpan" id="kobo.941.2">Make the file look like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.942.1">[donnie@fedora ~]$ cat &gt; translation.txt
Let's translate all of the a's into A's.
</span><span class="koboSpan" id="kobo.942.2">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.943.1">Now, let’s do the actual translation, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.944.1">[donnie@fedora ~]$ tr 'a' 'A' &lt; translation.txt
Let's trAnslAte All of the A's into A's.
</span><span class="koboSpan" id="kobo.944.2">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.945.1">After the </span><code class="inlineCode"><span class="koboSpan" id="kobo.946.1">tr</span></code><span class="koboSpan" id="kobo.947.1">, I placed two text strings within single quotes. </span><span class="koboSpan" id="kobo.947.2">The first string represents what I want to find and change. </span><span class="koboSpan" id="kobo.947.3">The second string represents what we want the first string to become. </span><span class="koboSpan" id="kobo.947.4">In this case, I want to change all lower-case a’s into upper-case A’s.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.948.1">You can translate multiple characters by either listing them individually or by specifying ranges of</span><a id="_idIndexMarker371"/><span class="koboSpan" id="kobo.949.1"> characters. </span><span class="koboSpan" id="kobo.949.2">In this next example, I’ve chosen to convert a’s to A’s and l’s to L’s.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.950.1">[donnie@fedora ~]$ cat &gt; translation_2.txt
Let's translate all of the a's into A's
and all of the l's into L's.
</span><span class="koboSpan" id="kobo.950.2">[donnie@fedora ~]$
[donnie@fedora ~]$ tr 'al' 'AL' &lt; translation_2.txt
Let's trAnsLAte ALL of the A's into A's
And ALL of the L's into L's.
</span><span class="koboSpan" id="kobo.950.3">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.951.1">Separate the characters with a dash to specify a range of characters, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.952.1">[donnie@fedora ~]$ cat &gt; translation_3.txt
Let's now convert everything from             
a through l to A through L.
</span><span class="koboSpan" id="kobo.952.2">[donnie@fedora ~]$
[donnie@fedora ~]$ tr 'a-l' 'A-L' &lt; translation_3.txt
LEt's now ConvErt EvErytHInG From
A tHrouGH L to A tHrouGH L.
</span><span class="koboSpan" id="kobo.952.3">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.953.1">You can specify more than one range, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.954.1">[donnie@fedora ~]$ cat &gt; translation_4.txt
Let's now convert everything from
a through l to A through L, and
everything from u through z to      
U through Z.
</span><span class="koboSpan" id="kobo.954.2">[donnie@fedora ~]$
[donnie@fedora ~]$ tr 'a-lu-z' 'A-LU-Z' &lt; translation_4.txt
LEt's noW ConVErt EVErYtHInG From
A tHroUGH L to A tHroUGH L, AnD
EVErYtHInG From U tHroUGH Z to
U tHroUGH Z.
</span><span class="koboSpan" id="kobo.954.3">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.955.1">Other types of conversion are also possible. </span><span class="koboSpan" id="kobo.955.2">Here, I’m converting the letters a through e to the numbers 1 through 5:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.956.1">[donnie@fedora ~]$ cat &gt; translation_5.txt
Let's now convert a through e to
1 through 5.
</span><span class="koboSpan" id="kobo.956.2">Are we ready?
</span><span class="koboSpan" id="kobo.956.3">[donnie@fedora ~]$
[donnie@fedora ~]$ tr 'a-e' '1-5' &lt; translation_5.txt
L5t's now 3onv5rt 1 through 5 to
1 through 5.
</span><span class="koboSpan" id="kobo.956.4">Ar5 w5 r514y?
</span><span class="koboSpan" id="kobo.956.5">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.957.1">As is the case with </span><a id="_idIndexMarker372"/><span class="koboSpan" id="kobo.958.1">many of these utilities, </span><code class="inlineCode"><span class="koboSpan" id="kobo.959.1">tr</span></code><span class="koboSpan" id="kobo.960.1"> gives you multiple ways to perform certain operations. </span><span class="koboSpan" id="kobo.960.2">For example, to convert all lower-case letters in a file to upper-case letters, you can specify the ranges ‘a-z’ and ‘A-Z’ in your command, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.961.1">[donnie@fedora ~]$ cat &gt; translation_6.txt
Let's now convert all lower-case letters
into upper-case letters.
</span><span class="koboSpan" id="kobo.961.2">[donnie@fedora ~]$
[donnie@fedora ~]$ tr 'a-z' 'A-Z' &lt; translation_6.txt
LET'S NOW CONVERT ALL LOWER-CASE LETTERS
INTO UPPER-CASE LETTERS.
</span><span class="koboSpan" id="kobo.961.3">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.962.1">You can also use character classes to perform this conversion. </span><span class="koboSpan" id="kobo.962.2">A </span><strong class="keyWord"><span class="koboSpan" id="kobo.963.1">character class</span></strong><span class="koboSpan" id="kobo.964.1"> consists of the name of a type of characters placed within the square bracket and colon characters. </span><span class="koboSpan" id="kobo.964.2">For example, the character class for lower-case characters is represented by </span><code class="inlineCode"><span class="koboSpan" id="kobo.965.1">[:lower:]</span></code><span class="koboSpan" id="kobo.966.1">, and the character class for upper-case letters is represented by </span><code class="inlineCode"><span class="koboSpan" id="kobo.967.1">[:upper:]</span></code><span class="koboSpan" id="kobo.968.1">. </span><span class="koboSpan" id="kobo.968.2">So, the preceding command could be typed in like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.969.1">[donnie@fedora ~]$ tr [:lower:] [:upper:] &lt; translation_6.txt
LET'S NOW CONVERT ALL LOWER-CASE LETTERS
INTO UPPER-CASE LETTERS.
</span><span class="koboSpan" id="kobo.969.2">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.970.1">Here’s a table of </span><a id="_idIndexMarker373"/><span class="koboSpan" id="kobo.971.1">the rest of the character classes.</span></p>
    <table id="table001-3" class="table-container">
      <tbody>
        <tr>
          <td class="table-cell">
            <p class="normal"><strong class="keyWord"><span class="koboSpan" id="kobo.972.1">Class Name</span></strong></p>
          </td>
          <td class="table-cell">
            <p class="normal"><strong class="keyWord"><span class="koboSpan" id="kobo.973.1">What It Means</span></strong></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.974.1">[:alnum:]</span></code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><span class="koboSpan" id="kobo.975.1">Letters and digits. </span><span class="koboSpan" id="kobo.975.2">(In other words, alphanumeric.)</span></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.976.1">[:alpha:]</span></code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><span class="koboSpan" id="kobo.977.1">Letters</span></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.978.1">[:blank:]</span></code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><span class="koboSpan" id="kobo.979.1">Whitespace</span></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.980.1">[:cntrl:]</span></code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><span class="koboSpan" id="kobo.981.1">Control characters</span></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.982.1">[:digit:]</span></code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><span class="koboSpan" id="kobo.983.1">Digits</span></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.984.1">[:graph:]</span></code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><span class="koboSpan" id="kobo.985.1">All printable characters except for spaces</span></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.986.1">[:lower:]</span></code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><span class="koboSpan" id="kobo.987.1">All lower-case letters</span></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.988.1">[:print:]</span></code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><span class="koboSpan" id="kobo.989.1">All printable characters, including spaces</span></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.990.1">[:punct:]</span></code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><span class="koboSpan" id="kobo.991.1">All punctuation characters</span></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.992.1">[:space:]</span></code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><span class="koboSpan" id="kobo.993.1">Either veritcal or horizontal whitespace</span></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.994.1">[:upper:]</span></code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><span class="koboSpan" id="kobo.995.1">All upper-case letters</span></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.996.1">[:xdigit:]</span></code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><span class="koboSpan" id="kobo.997.1">Hexadecimal digits</span></p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="packt_figref"><span class="koboSpan" id="kobo.998.1">Table 7.1: Character classes</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.999.1">This looks easy enough, right? </span><span class="koboSpan" id="kobo.999.2">Unfortunately though, there’s a bit of a catch. </span><span class="koboSpan" id="kobo.999.3">Watch what happens when I try to translate digits to hexadecimal digits:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1000.1">[donnie@fedora ~]$ tr [:digit:] [:xdigit:] &lt; numbers.txt
tr: when translating, the only character classes that may appear in
string2 are 'upper' and 'lower'
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1001.1">The answer to this dilemma is in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1002.1">tr</span></code><span class="koboSpan" id="kobo.1003.1"> man page, where it says that “while translating, </span><code class="inlineCode"><span class="koboSpan" id="kobo.1004.1">[:lower:]</span></code><span class="koboSpan" id="kobo.1005.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.1006.1">[:upper:]</span></code><span class="koboSpan" id="kobo.1007.1"> may be used in pairs to specify case conversion”. </span><span class="koboSpan" id="kobo.1007.2">Granted, it doesn’t say that </span><em class="italic"><span class="koboSpan" id="kobo.1008.1">only</span></em> <code class="inlineCode"><span class="koboSpan" id="kobo.1009.1">[:lower:]</span></code><span class="koboSpan" id="kobo.1010.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.1011.1">[:upper:]</span></code><span class="koboSpan" id="kobo.1012.1"> can be used in pairs, but that is the implication. </span><span class="koboSpan" id="kobo.1012.2">However, you can use these other character classes in other types of </span><code class="inlineCode"><span class="koboSpan" id="kobo.1013.1">tr</span></code><span class="koboSpan" id="kobo.1014.1"> operations, which we’ll get to in just a bit.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1015.1">If you want to delete</span><a id="_idIndexMarker374"/><span class="koboSpan" id="kobo.1016.1"> certain characters from a text stream, use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1017.1">-d</span></code><span class="koboSpan" id="kobo.1018.1"> switch. </span><span class="koboSpan" id="kobo.1018.2">In this example, I’ll delete all vowels from the text.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.1019.1">Note that with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1020.1">-d</span></code><span class="koboSpan" id="kobo.1021.1"> switch, you only need to specify one text string or character class.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.1022.1">Here’s how that looks:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1023.1">[donnie@fedora ~]$ cat &gt; translation_7.txt
I will now show you how to delete
all vowels from a text stream. </span><span class="koboSpan" id="kobo.1023.2">Are
you really ready for this?
</span><span class="koboSpan" id="kobo.1023.3">[donnie@fedora ~]$
[donnie@fedora ~]$ tr -d 'aeiouAEIOU' &lt; translation_7.txt
 wll nw shw y hw t dlt
ll vwls frm  txt strm. </span><span class="koboSpan" id="kobo.1023.4">r
y rlly rdy fr ths?
</span><span class="koboSpan" id="kobo.1023.5">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1024.1">Add the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1025.1">-c </span></code><span class="koboSpan" id="kobo.1026.1">switch, and you can make </span><code class="inlineCode"><span class="koboSpan" id="kobo.1027.1">tr </span></code><span class="koboSpan" id="kobo.1028.1">operate on everything except what you specify. </span><span class="koboSpan" id="kobo.1028.2">Here, I’ll remove all the consonants, punctuation, spaces, and newline characters. </span><span class="koboSpan" id="kobo.1028.3">That is, I’ll remove everything that isn’t a vowel. </span><span class="koboSpan" id="kobo.1028.4">Prepare to be amazed at what you’re about to see:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1029.1">[donnie@fedora ~]$ cat &gt; translation_8.txt
I'll now show you how to delete
everything except for vowels from
a text stream.
</span><span class="koboSpan" id="kobo.1029.2">[donnie@fedora ~]$
[donnie@fedora ~]$ tr -dc 'aeiouAEIOU' &lt; translation_8.txt
Iooouooeeeeeieeooeoaeea[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1030.1">When I say that this removes everything but the vowels, I do mean </span><em class="italic"><span class="koboSpan" id="kobo.1031.1">everything</span></em><span class="koboSpan" id="kobo.1032.1">, including the invisible newline characters. </span><span class="koboSpan" id="kobo.1032.2">This explains why all of the vowels are on one line, and why the command prompt is now on the same line as the output.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1033.1">You can do the same things by specifying character classes instead of characters or ranges of </span><a id="_idIndexMarker375"/><span class="koboSpan" id="kobo.1034.1">characters. </span><span class="koboSpan" id="kobo.1034.2">In this example, I’m removing everything except for lower-case letters:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1035.1">[donnie@fedora ~]$ tr -dc [:lower:] &lt; translation_9.txt
histimewellremoveeverythingthatalowercaseletter[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1036.1">This time, let’s remove all of the non-printable control characters, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1037.1">[donnie@fedora ~]$ cat &gt; translation_10.txt
Now, let's remove
all of the
control characters.
</span><span class="koboSpan" id="kobo.1037.2">[donnie@fedora ~]$
[donnie@fedora ~]$ tr -d [:cntrl:] &lt; translation_10.txt
Now, let's removeall of thecontrol characters.[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1038.1">Of course, the only control characters in this file are newline characters, but that’s okay. </span><span class="koboSpan" id="kobo.1038.2">If you have a file that also contained other types of control characters, and you only want to delete all of the newline characters, just do this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1039.1">[donnie@fedora ~]$ cat &gt; translation_11.txt
Now,
I just want to
delete the
newline characters.
</span><span class="koboSpan" id="kobo.1039.2">[donnie@fedora ~]$
[donnie@fedora ~]$ tr -d '\n' &lt; translation_11.txt
Now,I just want todelete the newline characters.[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1040.1">If you have sequential occurrences of a given character or character class, you can use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1041.1">-s</span></code><span class="koboSpan" id="kobo.1042.1"> switch to replace them with only a single occurrence. </span><span class="koboSpan" id="kobo.1042.2">Here’s how that looks:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1043.1">[donnie@fedora ~]$ cat &gt; translation_12.txt
Take a look at the poor
yellow dog. </span><span class="koboSpan" id="kobo.1043.2">The poor little
pooch isn't as peppy as he
used to be.
</span><span class="koboSpan" id="kobo.1043.3">[donnie@fedora ~]$
[donnie@fedora ~]$ tr -s [:alpha:] &lt; translation_12.txt
Take a lok at the por
yelow dog. </span><span class="koboSpan" id="kobo.1043.4">The por litle
poch isn't as pepy as he
used to be.
</span><span class="koboSpan" id="kobo.1043.5">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1044.1">If you specify two strings with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1045.1">-s</span></code><span class="koboSpan" id="kobo.1046.1"> switch, </span><code class="inlineCode"><span class="koboSpan" id="kobo.1047.1">tr</span></code><span class="koboSpan" id="kobo.1048.1"> will first replace the characters in the first string with the </span><a id="_idIndexMarker376"/><span class="koboSpan" id="kobo.1049.1">characters in the second string. </span><span class="koboSpan" id="kobo.1049.2">Then, it will squeeze out the resultant consecutive characters. </span><span class="koboSpan" id="kobo.1049.3">As before, prepare to be amazed at what you’ll see here:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1050.1">[donnie@fedora ~]$ cat &gt; translation_13.txt
tennessee
[donnie@fedora ~]$
[donnie@fedora ~]$ tr -s 'tnse' 'srne' &lt; translation_13.txt
serene
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1051.1">So, I turned </span><em class="italic"><span class="koboSpan" id="kobo.1052.1">tennessee</span></em><span class="koboSpan" id="kobo.1053.1"> into </span><em class="italic"><span class="koboSpan" id="kobo.1054.1">serene</span></em><span class="koboSpan" id="kobo.1055.1">. </span><span class="koboSpan" id="kobo.1055.2">(Perform this trick at your next party in case you need to liven things up a bit.)</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1056.1">You can combine </span><code class="inlineCode"><span class="koboSpan" id="kobo.1057.1">tr</span></code><span class="koboSpan" id="kobo.1058.1"> with other text-stream utilities, which would look something like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1059.1">[donnie@fedora ~]$ sort autos.txt | tr [:lower:] [:upper:] | head
BMW			325I		1985	115	450
BMW			325I		1985	60	1000
CHEVY		IMPALA		1985	85	1550
CHEVY		MALIBU		1999	50	3500
CHEVY		MALIBU		2000	60	3000
EDSEL		CORSAIR	1958	47	750
FORD			EXPLORER	2003	25	9500
FORD			GALAXIE	1964	128	60
FORD			MUSTANG	1965	45	10000
FORD			TAURUS		2004	10	17000
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1060.1">Here’s a more practical use for </span><code class="inlineCode"><span class="koboSpan" id="kobo.1061.1">tr</span></code><span class="koboSpan" id="kobo.1062.1">. </span><span class="koboSpan" id="kobo.1062.2">Let’s say that you’ve been given a text file of columnar data that </span><a id="_idIndexMarker377"/><span class="koboSpan" id="kobo.1063.1">you need to format for printing. </span><span class="koboSpan" id="kobo.1063.2">But, the columns are all separated with a single space and nothing lines up correctly, as you see here:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1064.1">[donnie@fedora ~]$ cat &gt; spaces.txt
one two
three four
five six
seven eight
nine ten
[donnie@fedora ~]$ cat spaces.txt
one two
three four
five six
seven eight
nine ten
[donnie@fedora ~]$
</span></code></pre>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.1065.1">You can’t use </span><code class="inlineCode"><span class="koboSpan" id="kobo.1066.1">unexpand</span></code><span class="koboSpan" id="kobo.1067.1"> to replace the spaces with tabs, because you need at least two spaces between the columns for </span><code class="inlineCode"><span class="koboSpan" id="kobo.1068.1">unexpand</span></code><span class="koboSpan" id="kobo.1069.1"> to work.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.1070.1">In this case, you can use </span><code class="inlineCode"><span class="koboSpan" id="kobo.1071.1">tr</span></code><span class="koboSpan" id="kobo.1072.1"> to replace the spaces with tabs. </span><span class="koboSpan" id="kobo.1072.2">(Note that there is a blank space between the first set of single quotes. </span><span class="koboSpan" id="kobo.1072.3">So yes, you can quote spaces.)</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1073.1">[donnie@fedora ~]$ tr ' ' '\t' &lt; spaces.txt
one		two
three	four
five		six
seven	eight
nine		ten
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1074.1">Even if you do have more than one space between the columns, </span><code class="inlineCode"><span class="koboSpan" id="kobo.1075.1">unexpand</span></code><span class="koboSpan" id="kobo.1076.1"> still might not be the </span><a id="_idIndexMarker378"/><span class="koboSpan" id="kobo.1077.1">best choice. </span><span class="koboSpan" id="kobo.1077.2">Here, I’ve placed two spaces between the columns:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1078.1">[donnie@fedora ~]$ cat &gt; spaces_2.txt
one  two
three  four
five  six
seven  eight
nine  ten   
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1079.1">I’ll use </span><code class="inlineCode"><span class="koboSpan" id="kobo.1080.1">unexpand</span></code><span class="koboSpan" id="kobo.1081.1"> with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1082.1">-t2</span></code><span class="koboSpan" id="kobo.1083.1"> switch so that it will only take two spaces to make a tab, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1084.1">[donnie@fedora ~]$ unexpand -t2 spaces_2.txt
one	 	two
three	 four
five		six
seven	 eight
nine		ten
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1085.1">That’s somewhat better, but things still look a bit ragged. </span><span class="koboSpan" id="kobo.1085.2">So, I’ll use </span><code class="inlineCode"><span class="koboSpan" id="kobo.1086.1">tr</span></code><span class="koboSpan" id="kobo.1087.1"> to replace the spaces with tabs, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1088.1">[donnie@fedora ~]$ tr ' ' '\t' &lt; spaces_2.txt
one			two
three		four
five			six
seven		eight
nine			ten
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1089.1">Much nicer, eh? </span><span class="koboSpan" id="kobo.1089.2">But, since there were originally two spaces between columns, I now have two tabs between columns. </span><span class="koboSpan" id="kobo.1089.3">I only want one tab between columns, so I’ll use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1090.1">-s </span></code><span class="koboSpan" id="kobo.1091.1">switch to squeeze out the excess tabs, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1092.1">[donnie@fedora ~]$ tr -s ' ' '\t' &lt; spaces_2.txt
one		two
three	four
five		six
seven	eight
nine		ten
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1093.1">For the final example, consider the Project Gutenberg file that I showed you earlier. </span><span class="koboSpan" id="kobo.1093.2">Remember </span><a id="_idIndexMarker379"/><span class="koboSpan" id="kobo.1094.1">that it contains carriage return characters, indicating that it was created on a Windows computer. </span><span class="koboSpan" id="kobo.1094.2">Here’s how that looks:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1095.1">[donnie@fedora ~]$ od -c pg6409.txt | head
0000000 357 273 277 T   h   e       P   r   o   j   e   c   t       G
0000020 u   t   e   n   b   e   r   g       e   B   o   o   k       o
0000040 f       H   o   w       t   o       S   p   e   a   k       a
0000060 n   d       W   r   i   t   e       C   o   r   r   e   c   t
0000100 l   y  \r  \n                  \r  \n   T   h   i   s       e
0000120 b   o   o   k       i   s       f   o   r       t   h   e   
0000140 u   s   e       o   f       a   n   y   o   n   e       a   n
0000160 y   w   h   e   r   e       i   n       t   h   e       U   n
0000200 i   t   e   d       S   t   a   t   e   s       a   n   d  \r
0000220 \n   m   o   s   t       o   t   h   e   r       p   a   r   t
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1096.1">As I pointed out before, each </span><code class="inlineCode"><span class="koboSpan" id="kobo.1097.1">\r</span></code><span class="koboSpan" id="kobo.1098.1"> represents a carriage return. </span><span class="koboSpan" id="kobo.1098.2">Now, let’s pretend that this is a Linux configuration file, and that we need to strip out the carriage returns so that Linux will properly read it. </span><span class="koboSpan" id="kobo.1098.3">Save the output to a new file, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1099.1">[donnie@fedora ~]$ tr -d '\r' &lt; pg6409.txt &gt; pg6409_stripped.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1100.1">Did it work? </span><span class="koboSpan" id="kobo.1100.2">Let’s see:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1101.1">[donnie@fedora ~]$ od -c pg6409_stripped.txt | head
0000000 357 273 277 T  h   e       P   r   o   j   e   c   t       G
0000020 u   t   e   n  b   e   r   g       e   B   o   o   k       o
0000040 f       H   o  w       t   o       S   p   e   a   k       a
0000060 n   d       W  r   i   t   e       C   o   r   r   e   c   t
0000100 l   y  \n                 \n   T   h   i   s       e   b   o
0000120 o   k       i  s       f   o   r       t   h   e       u   s
0000140 e       o   f      a   n   y   o   n   e       a   n   y   w
0000160 h   e   r   e      i   n       t   h   e       U   n   i   t
0000200 e   d       S  t   a   t   e   s       a   n   d  \n   m   o
0000220 s   t       o  t   h   e   r       p   a   r   t   s       o
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1102.1">I don’t see any</span><a id="_idIndexMarker380"/><span class="koboSpan" id="kobo.1103.1"> carriage returns, so it worked just fine.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.1104.1">In reality, most people just use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1105.1">dos2unix</span></code><span class="koboSpan" id="kobo.1106.1"> utility to strip out the carriage returns. </span><span class="koboSpan" id="kobo.1106.2">But, if you plan to take any Linux certification exams, you might also want to know how to do it with </span><code class="inlineCode"><span class="koboSpan" id="kobo.1107.1">tr</span></code><span class="koboSpan" id="kobo.1108.1">.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.1109.1">The next utility we’ll look at will make you want to talk like a pirate.</span></p>
    <h1 id="_idParaDest-125" class="heading 1"><span class="koboSpan" id="kobo.1110.1">Using xargs</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.1111.1">It’s fitting that I’m </span><a id="_idIndexMarker381"/><span class="koboSpan" id="kobo.1112.1">writing this on </span><em class="italic"><span class="koboSpan" id="kobo.1113.1">International Talk Like a Pirate Day</span></em><span class="koboSpan" id="kobo.1114.1">, because when you pronounce the name of this utility just right, it really does sound like something that a pirate would say. </span><span class="koboSpan" id="kobo.1114.2">So, all together now, in your best pirate voice. </span><span class="koboSpan" id="kobo.1114.3">. </span><span class="koboSpan" id="kobo.1114.4">.</span></p>
    <p class="normal"><em class="italic"><span class="koboSpan" id="kobo.1115.1">Xaaaaarrrrrgs!</span></em></p>
    <p class="normal"><span class="koboSpan" id="kobo.1116.1">Okay, enough silliness. </span><span class="koboSpan" id="kobo.1116.2">Let’s get to work.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1117.1">Seriously, </span><code class="inlineCode"><span class="koboSpan" id="kobo.1118.1">xargs</span></code><span class="koboSpan" id="kobo.1119.1"> is a handy utility that can be used in a few different ways. </span><span class="koboSpan" id="kobo.1119.2">Since the current topic is text-stream filters though, we’ll only look at it in that context for the time being. </span><span class="koboSpan" id="kobo.1119.3">Later on, I’ll show you other uses for it.</span></p>
    <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.1120.1">xargs</span></code><span class="koboSpan" id="kobo.1121.1"> doesn’t work by itself, and is always used with another utility. </span><span class="koboSpan" id="kobo.1121.2">Its purpose is to take output from one source and use it as arguments for the other command. </span><span class="koboSpan" id="kobo.1121.3">It works somewhat like the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1122.1">-exec</span></code><span class="koboSpan" id="kobo.1123.1"> option with </span><code class="inlineCode"><span class="koboSpan" id="kobo.1124.1">find</span></code><span class="koboSpan" id="kobo.1125.1">, but with a few differences. </span><span class="koboSpan" id="kobo.1125.2">That is, </span><code class="inlineCode"><span class="koboSpan" id="kobo.1126.1">xargs</span></code><span class="koboSpan" id="kobo.1127.1"> can be used with other utilities besides </span><code class="inlineCode"><span class="koboSpan" id="kobo.1128.1">find</span></code><span class="koboSpan" id="kobo.1129.1">, it has more options, and it’s more efficient. </span><span class="koboSpan" id="kobo.1129.2">Let’s look at a few examples.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1130.1">If you want to sort multiple files, you can list them all on the command-line when you invoke </span><code class="inlineCode"><span class="koboSpan" id="kobo.1131.1">sort</span></code><span class="koboSpan" id="kobo.1132.1">. </span><span class="koboSpan" id="kobo.1132.2">To demo this, let’s review the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1133.1">actorfile_1.txt</span></code><span class="koboSpan" id="kobo.1134.1"> file and the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1135.1">actorfile_6.txt</span></code><span class="koboSpan" id="kobo.1136.1"> file</span><a id="_idIndexMarker382"/><span class="koboSpan" id="kobo.1137.1"> that I already had you create:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1138.1">[donnie@fedora ~]$ cat actorfile_1.txt
Benny		Jack
Allen		Fred
Ladd			Alan
Hitchcock		Alfred
Robinson		Edgar
[donnie@fedora ~]$ cat actorfile_6.txt
MacLaine		Shirley
Booth		Shirley
Stanwick		Barbara
Allen		Gracie
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1139.1">Now, let’s sort them together, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1140.1">[donnie@fedora ~]$ sort actorfile_1.txt actorfile_6.txt
Allen		Fred
Allen		Gracie
Benny		Jack
Booth		Shirley
Hitchcock		Alfred
Ladd			Alan
MacLaine		Shirley
Robinson		Edgar
Stanwick		Barbara
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1141.1">That works fine if you only have two files to sort. </span><span class="koboSpan" id="kobo.1141.2">But, what if you have a whole bunch of files that you want to sort? </span><span class="koboSpan" id="kobo.1141.3">And, what if you need to update those files on a regular basis and sort them again after each update? </span><span class="koboSpan" id="kobo.1141.4">Listing every file in a </span><code class="inlineCode"><span class="koboSpan" id="kobo.1142.1">sort</span></code><span class="koboSpan" id="kobo.1143.1"> command would soon become tiresome and a bit unwieldy. </span><span class="koboSpan" id="kobo.1143.2">To simplify the job, you can either write a shell script with the names of all of the files, or use </span><code class="inlineCode"><span class="koboSpan" id="kobo.1144.1">xargs</span></code><span class="koboSpan" id="kobo.1145.1"> with a list of all the files. </span><span class="koboSpan" id="kobo.1145.2">Since we haven’t yet looked at writing shell scripts, let’s look at </span><code class="inlineCode"><span class="koboSpan" id="kobo.1146.1">xargs</span></code><span class="koboSpan" id="kobo.1147.1">.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1148.1">First, create a file </span><a id="_idIndexMarker383"/><span class="koboSpan" id="kobo.1149.1">with a list of the files that you want to sort, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1150.1">[donnie@fedora ~]$ cat &gt; xargs_sort.txt
actorfile_1.txt actorfile_6.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1151.1">As you see, the filenames can all be on the same line, with only a single space between them. </span><span class="koboSpan" id="kobo.1151.2">Or, if you prefer, you can place each filename on its own line. </span><span class="koboSpan" id="kobo.1151.3">Either way works equally well.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1152.1">Now, use </span><code class="inlineCode"><span class="koboSpan" id="kobo.1153.1">xargs</span></code><span class="koboSpan" id="kobo.1154.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.1155.1">sort</span></code><span class="koboSpan" id="kobo.1156.1"> to read in the list of files, and then to sort the actual files, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1157.1">[donnie@fedora ~]$ xargs sort &lt; xargs_sort.txt
Allen		Fred
Allen		Gracie
Benny		Jack
Booth		Shirley
Hitchcock		Alfred
Ladd			Alan
MacLaine		Shirley
Robinson		Edgar
Stanwick		Barbara
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1158.1">As I said, this would be handy if you have a lot of files that you have to update and sort on a frequent basis. </span><span class="koboSpan" id="kobo.1158.2">Just build the list of the files that you need to sort, so that you don’t always have to type the names of all of the files.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1159.1">Let’s now create a file with a list of names, and use </span><code class="inlineCode"><span class="koboSpan" id="kobo.1160.1">xargs</span></code><span class="koboSpan" id="kobo.1161.1"> to feed the list into the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1162.1">echo</span></code><span class="koboSpan" id="kobo.1163.1"> command, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1164.1">[donnie@fedora ~]$ cat &gt; howdy.txt
Jack,
Jane,
Joe,
and John.
</span><span class="koboSpan" id="kobo.1164.2">[donnie@fedora ~]$
[donnie@fedora ~]$ xargs echo "Howdy" &lt; howdy.txt
Howdy Jack, Jane, Joe, and John.
</span><span class="koboSpan" id="kobo.1164.3">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1165.1">Pretty slick, eh? </span><span class="koboSpan" id="kobo.1165.2">(I know that you’re just dying to show this trick at your next party.) But, there’s</span><a id="_idIndexMarker384"/><span class="koboSpan" id="kobo.1166.1"> more.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1167.1">You can use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1168.1">-i</span></code><span class="koboSpan" id="kobo.1169.1"> switch and a set of curly braces to place the arguments wherever you want in the output string.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.1170.1">Note that for this example to work properly, each name will have to be on its own line in the input file. </span><span class="koboSpan" id="kobo.1170.2">That’s because </span><code class="inlineCode"><span class="koboSpan" id="kobo.1171.1">-i</span></code><span class="koboSpan" id="kobo.1172.1"> also causes the command to invoke once for each line in the input file.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.1173.1">Anyway, here’s how it works:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1174.1">[donnie@fedora ~]$ cat &gt; xargs_test.txt
Frank
Goldie
Vicky
[donnie@fedora ~]$
[donnie@fedora ~]$ xargs -i echo "Howdy {}.  </span><span class="koboSpan" id="kobo.1174.2">Are you busy for lunch?" </span><span class="koboSpan" id="kobo.1174.3">&lt; xargs_test.txt
Howdy Frank.  </span><span class="koboSpan" id="kobo.1174.4">Are you busy for lunch?
</span><span class="koboSpan" id="kobo.1174.5">Howdy Goldie.  </span><span class="koboSpan" id="kobo.1174.6">Are you busy for lunch?
</span><span class="koboSpan" id="kobo.1174.7">Howdy Vicky.  </span><span class="koboSpan" id="kobo.1174.8">Are you busy for lunch?
</span><span class="koboSpan" id="kobo.1174.9">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1175.1">If we use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1176.1">-n num</span></code><span class="koboSpan" id="kobo.1177.1"> switch, we can tell </span><code class="inlineCode"><span class="koboSpan" id="kobo.1178.1">xargs</span></code><span class="koboSpan" id="kobo.1179.1"> to execute the associated command once for every </span><em class="italic"><span class="koboSpan" id="kobo.1180.1">num</span></em><span class="koboSpan" id="kobo.1181.1"> lines of input.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1182.1">[donnie@fedora ~]$ cat howdy.txt
Jack,
Jane,
Joe,
and John.
</span><span class="koboSpan" id="kobo.1182.2">[donnie@fedora ~]$
[donnie@fedora ~]$ xargs -n1 echo "Howdy" &lt; howdy.txt
Howdy Jack,
Howdy Jane,
Howdy Joe,
Howdy and
Howdy John.
</span><span class="koboSpan" id="kobo.1182.3">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1183.1">That didn’t work</span><a id="_idIndexMarker385"/><span class="koboSpan" id="kobo.1184.1"> out so well, so let’s try with </span><code class="inlineCode"><span class="koboSpan" id="kobo.1185.1">-n2</span></code><span class="koboSpan" id="kobo.1186.1"> to see if it makes a difference.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1187.1">[donnie@fedora ~]$ xargs -n2 echo "Howdy" &lt; howdy.txt
Howdy Jack, Jane,
Howdy Joe, and
Howdy John.
</span><span class="koboSpan" id="kobo.1187.2">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1188.1">That looks much better.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1189.1">Finally, we can use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1190.1">-l num</span></code><span class="koboSpan" id="kobo.1191.1"> switch to determine the number of lines we want for our output. </span><span class="koboSpan" id="kobo.1191.2">Here, we’re creating two lines of output.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1192.1">[donnie@fedora ~]$ cat howdy.txt
Jack,
Jane,
Joe,
and John.
</span><span class="koboSpan" id="kobo.1192.2">[donnie@fedora ~]$
[donnie@fedora ~]$ xargs -l2 echo "Howdy" &lt; howdy.txt
Howdy Jack, Jane,
Howdy Joe, and John.
</span><span class="koboSpan" id="kobo.1192.3">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1193.1">That’s about it for </span><a id="_idIndexMarker386"/><span class="koboSpan" id="kobo.1194.1">now. </span><span class="koboSpan" id="kobo.1194.2">There are still other uses for </span><code class="inlineCode"><span class="koboSpan" id="kobo.1195.1">xargs</span></code><span class="koboSpan" id="kobo.1196.1">, which I’ll cover a bit later. </span><span class="koboSpan" id="kobo.1196.2">Next, let’s add some final polish to your important text files.</span></p>
    <h1 id="_idParaDest-126" class="heading 1"><span class="koboSpan" id="kobo.1197.1">Using pr</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.1198.1">You’ve been </span><a id="_idIndexMarker387"/><span class="koboSpan" id="kobo.1199.1">working hard, using various text-stream filters to extract meaningful data from your text files, and creating formatted reports. </span><span class="koboSpan" id="kobo.1199.2">Now, it’s time to make that hard work pay off by committing your work to paper. </span><span class="koboSpan" id="kobo.1199.3">Sure, you can print your files without using </span><code class="inlineCode"><span class="koboSpan" id="kobo.1200.1">pr</span></code><span class="koboSpan" id="kobo.1201.1">. </span><span class="koboSpan" id="kobo.1201.2">But for a nice professional look, </span><code class="inlineCode"><span class="koboSpan" id="kobo.1202.1">pr</span></code><span class="koboSpan" id="kobo.1203.1"> can give you just the right finishing touch.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1204.1">With </span><code class="inlineCode"><span class="koboSpan" id="kobo.1205.1">pr</span></code><span class="koboSpan" id="kobo.1206.1">, you can effortlessly prepare your files for printing by breaking them into pages, and by adding headers and page numbers. </span><span class="koboSpan" id="kobo.1206.2">In that regard, it’s better than using a regular text editor. </span><span class="koboSpan" id="kobo.1206.3">In fact, it’s almost like using a mini word processor. </span><span class="koboSpan" id="kobo.1206.4">It also gives you other formatting options that text editors won’t give you. </span><span class="koboSpan" id="kobo.1206.5">(You’ll see some examples in just a few moments.)</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1207.1">Once you’ve used </span><code class="inlineCode"><span class="koboSpan" id="kobo.1208.1">pr</span></code><span class="koboSpan" id="kobo.1209.1"> to perform your final formatting, you can print directly from the command-line by either piping </span><code class="inlineCode"><span class="koboSpan" id="kobo.1210.1">pr</span></code><span class="koboSpan" id="kobo.1211.1">'s output into the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1212.1">lpr</span></code><span class="koboSpan" id="kobo.1213.1"> utility, or by invoking </span><code class="inlineCode"><span class="koboSpan" id="kobo.1214.1">lpr </span></code><span class="koboSpan" id="kobo.1215.1">with your filename as an argument. </span><span class="koboSpan" id="kobo.1215.2">(I’ll tell you more about </span><code class="inlineCode"><span class="koboSpan" id="kobo.1216.1">lpr</span></code><span class="koboSpan" id="kobo.1217.1"> in just a bit.) There are a few reasons why you want to know how to do that.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1218.1">If you work with a Linux or Unix server that doesn’t have a GUI installed, you will need to know how to print from the command-line, because text-mode text editors don’t include a print function. </span><span class="koboSpan" id="kobo.1218.2">Also, if you know how to print from the command-line, you’ll be able to set up batch jobs that can print multiple files at once, and automate your printing by setting print jobs up with either a </span><code class="inlineCode"><span class="koboSpan" id="kobo.1219.1">cron</span></code><span class="koboSpan" id="kobo.1220.1"> job or a </span><code class="inlineCode"><span class="koboSpan" id="kobo.1221.1">systemd</span></code><span class="koboSpan" id="kobo.1222.1"> timer. </span><span class="koboSpan" id="kobo.1222.2">That could come in handy if you need to automatically print log files or reports on a nightly basis.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1223.1">By default, </span><code class="inlineCode"><span class="koboSpan" id="kobo.1224.1">pr</span></code><span class="koboSpan" id="kobo.1225.1"> breaks your files into single-spaced pages of 66 lines each. </span><span class="koboSpan" id="kobo.1225.2">It also places the file’s last modification date and time, the filename, and the page number into the header of every page, which is followed by a trailer of blank lines. </span><span class="koboSpan" id="kobo.1225.3">With the appropriate switches however, all of this can be changed. </span><span class="koboSpan" id="kobo.1225.4">Let’s start by looking at an example of </span><code class="inlineCode"><span class="koboSpan" id="kobo.1226.1">pr</span></code><span class="koboSpan" id="kobo.1227.1">'s default behavior. </span><span class="koboSpan" id="kobo.1227.2">Here’s an excerpt from the public-domain </span><a id="_idIndexMarker388"/><span class="koboSpan" id="kobo.1228.1">e-book, </span><em class="italic"><span class="koboSpan" id="kobo.1229.1">How to Speak and Write Correctly</span></em><span class="koboSpan" id="kobo.1230.1">:</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.1231.1"><img src="../Images/B21693_07_07.png" alt="B21693_7_7"/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.1232.1">Figure 7.7: Using pr with default settings</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1233.1">What I can’t show you due to book formatting concerns is that there are a lot of blank lines after the last line of text. </span><span class="koboSpan" id="kobo.1233.2">That’s because </span><code class="inlineCode"><span class="koboSpan" id="kobo.1234.1">pr</span></code><span class="koboSpan" id="kobo.1235.1"> recognizes that this short excerpt doesn’t fill the page.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1236.1">You can use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1237.1">-h</span></code><span class="koboSpan" id="kobo.1238.1"> option to replace the filename with a header of your choice, like so:</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.1239.1"><img src="../Images/B21693_07_08.png" alt="B21693_7_8"/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.1240.1">Figure 7.8: Setting a custom header with pr</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1241.1">If you don’t need to </span><a id="_idIndexMarker389"/><span class="koboSpan" id="kobo.1242.1">place headers in your output but still need to use </span><code class="inlineCode"><span class="koboSpan" id="kobo.1243.1">pr</span></code><span class="koboSpan" id="kobo.1244.1">'s other features, use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1245.1">-t</span></code><span class="koboSpan" id="kobo.1246.1"> switch to omit the header, like this:</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.1247.1"><img src="../Images/B21693_07_09.png" alt="B21693_7_9"/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.1248.1">Figure 7.9: Using the -t option</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1249.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.1250.1">-d</span></code><span class="koboSpan" id="kobo.1251.1"> option will double-space your output:</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.1252.1"><img src="../Images/B21693_07_10.png" alt="B21693_7_10"/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.1253.1">Figure 7.10: Using the -d option</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1254.1">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1255.1">-o</span></code><span class="koboSpan" id="kobo.1256.1"> option </span><a id="_idIndexMarker390"/><span class="koboSpan" id="kobo.1257.1">with a number to set the left margin. </span><span class="koboSpan" id="kobo.1257.2">(The number represents the number of spaces to indent the left margin.) Here, I’m setting a margin of eight spaces:</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.1258.1"><img src="../Images/B21693_07_11.png" alt="B21693_7_11"/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.1259.1">Figure 7.11: Setting the left margin</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1260.1">As I’ve already said, the</span><a id="_idIndexMarker391"/><span class="koboSpan" id="kobo.1261.1"> default page length is 66 lines. </span><span class="koboSpan" id="kobo.1261.2">You can change that with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1262.1">-l</span></code><span class="koboSpan" id="kobo.1263.1"> option. </span><span class="koboSpan" id="kobo.1263.2">To set a page length of 80 lines, enter:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1264.1">[donnie@fedora ~]$ pr -l80 excerpt_2.txt
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1265.1">By default, </span><code class="inlineCode"><span class="koboSpan" id="kobo.1266.1">pr</span></code><span class="koboSpan" id="kobo.1267.1"> separates pages by inserting multiple newline characters at the end of each page. </span><span class="koboSpan" id="kobo.1267.2">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1268.1">-f</span></code><span class="koboSpan" id="kobo.1269.1"> option to insert a single form-feed character between pages, instead. </span><span class="koboSpan" id="kobo.1269.2">If you need to insert line numbers, use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1270.1">-n</span></code><span class="koboSpan" id="kobo.1271.1"> option. </span><span class="koboSpan" id="kobo.1271.2">Here, I’m combining both of these options with a single dash:</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.1272.1"><img src="../Images/B21693_07_12.png" alt="B21693_7_12"/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.1273.1">Figure 7.12: Using form feeds and adding line numbers</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1274.1">To work with a range of pages, just place a </span><code class="inlineCode"><span class="koboSpan" id="kobo.1275.1">+</span></code><span class="koboSpan" id="kobo.1276.1"> in front of the first page number, and prefix the last </span><a id="_idIndexMarker392"/><span class="koboSpan" id="kobo.1277.1">page number with a colon. </span><span class="koboSpan" id="kobo.1277.2">Here, I’ve chosen to look at pages 10 through 12 of the full </span><code class="inlineCode"><span class="koboSpan" id="kobo.1278.1">pg6409.txt</span></code><span class="koboSpan" id="kobo.1279.1"> file:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1280.1">[donnie@fedora ~]$ pr +10:12 pg6409.txt
2023-09-13 17:39                   pg6409.txt                    Page 10
_Thou_, _He_, _She_, and _It_, with their plurals, _We_, _Ye_ or _You_
and _They_.
</span><span class="koboSpan" id="kobo.1280.2">. </span><span class="koboSpan" id="kobo.1280.3">. </span><span class="koboSpan" id="kobo.1280.4">.
</span><span class="koboSpan" id="kobo.1280.5">. </span><span class="koboSpan" id="kobo.1280.6">. </span><span class="koboSpan" id="kobo.1280.7">.
</span><span class="koboSpan" id="kobo.1280.8">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1281.1">If you omit the last page number, you’ll see everything from the first page until the end of the file. </span><span class="koboSpan" id="kobo.1281.2">Here, I’m looking at everything from page 103 until the end:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1282.1">[donnie@fedora ~]$ pr +103 pg6409.txt
2023-09-13 17:39                   pg6409.txt                   Page 103
1.A. </span><span class="koboSpan" id="kobo.1282.2">By reading or using any part of this Project Gutenberg™
electronic work, you indicate that you have read, understand, agree to
. </span><span class="koboSpan" id="kobo.1282.3">. </span><span class="koboSpan" id="kobo.1282.4">.
</span><span class="koboSpan" id="kobo.1282.5">. </span><span class="koboSpan" id="kobo.1282.6">. </span><span class="koboSpan" id="kobo.1282.7">.
</span><span class="koboSpan" id="kobo.1282.8">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1283.1">I’ve saved the columns and merge options until last, because they’re the trickiest to use. </span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1284.1">The columns option allows you to output your text in multiple columns. </span><span class="koboSpan" id="kobo.1284.2">You set it by using a </span><code class="inlineCode"><span class="koboSpan" id="kobo.1285.1">- </span></code><span class="koboSpan" id="kobo.1286.1">followed by a number. </span><span class="koboSpan" id="kobo.1286.2">The trick is, that you’ll first have to format your text so that it’s not too wide for the columns. </span><span class="koboSpan" id="kobo.1286.3">Here’s what you get if you try to output our sample</span><a id="_idIndexMarker393"/><span class="koboSpan" id="kobo.1287.1"> text as a two-column page:</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.1288.1"><img src="../Images/B21693_07_13.png" alt="B21693_7_13"/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.1289.1">Figure 7.13: The first attempt at using two columns</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1290.1">You can see that that’s not real useful, because too much got left out. </span><span class="koboSpan" id="kobo.1290.2">The easiest way to handle this is to change the line width with </span><code class="inlineCode"><span class="koboSpan" id="kobo.1291.1">fmt</span></code><span class="koboSpan" id="kobo.1292.1">, and then pipe the output to </span><code class="inlineCode"><span class="koboSpan" id="kobo.1293.1">pr</span></code><span class="koboSpan" id="kobo.1294.1">, like so:</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.1295.1"><img src="../Images/B21693_07_14.png" alt="B21693_7_14"/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.1296.1">Figure 7.14: Combining fmt and pr</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1297.1">Of course, you might </span><a id="_idIndexMarker394"/><span class="koboSpan" id="kobo.1298.1">have to experiment with the line-width until you get what you want.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1299.1">You’ll have the same problem with the merge option. </span><span class="koboSpan" id="kobo.1299.2">Here, I’m using the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1300.1">-m</span></code><span class="koboSpan" id="kobo.1301.1"> switch to show two files side-by-side:</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.1302.1"><img src="../Images/B21693_07_15.png" alt="B21693_7_15"/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.1303.1">Figure 7.15: First attempt at merging two files</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1304.1">Again, you see that the lines are too wide to fit properly in two columns. </span><span class="koboSpan" id="kobo.1304.2">The best way to handle </span><a id="_idIndexMarker395"/><span class="koboSpan" id="kobo.1305.1">this is to narrow the lines with </span><code class="inlineCode"><span class="koboSpan" id="kobo.1306.1">fmt</span></code><span class="koboSpan" id="kobo.1307.1">, but save the output to two intermediate files. </span><span class="koboSpan" id="kobo.1307.2">Then, use </span><code class="inlineCode"><span class="koboSpan" id="kobo.1308.1">pr</span></code><span class="koboSpan" id="kobo.1309.1"> to merge the two new files. </span><span class="koboSpan" id="kobo.1309.2">Here what that process looks like:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1310.1">[donnie@fedora ~]$ fmt -w35 excerpt.txt &gt; excerpt_fmt.txt
[donnie@fedora ~]$ fmt -w35 excerpt_2.txt &gt; excerpt_2_fmt.txt
</span></code></pre>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.1311.1"><img src="../Images/B21693_07_16.png" alt="B21693_7_16"/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.1312.1">Figure 7.16: Merging the two formatted files</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1313.1">Once you have</span><a id="_idIndexMarker396"/><span class="koboSpan" id="kobo.1314.1"> everything looking good on-screen, you’re ready to redirect your </span><code class="inlineCode"><span class="koboSpan" id="kobo.1315.1">pr</span></code><span class="koboSpan" id="kobo.1316.1"> output into a new text file, and then print it.</span></p>
    <h1 id="_idParaDest-127" class="heading 1"><span class="koboSpan" id="kobo.1317.1">Printing from the Command-line</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.1318.1">As I’ve already </span><a id="_idIndexMarker397"/><span class="koboSpan" id="kobo.1319.1">mentioned a few times, it is possible to print text files from the command-line. </span><span class="koboSpan" id="kobo.1319.2">(Actually, you can also print PostScript files, </span><code class="inlineCode"><span class="koboSpan" id="kobo.1320.1">.pdf</span></code><span class="koboSpan" id="kobo.1321.1"> files, image files, and a few other types of document files from the command line. </span><span class="koboSpan" id="kobo.1321.2">For now though, we’re only interested in printing text files.) To do this, your Linux, Unix, or Unix-like machine needs to have the following two things installed on it:</span></p>
    <ul>
      <li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.1322.1">Common Unix Printing Software</span></strong><span class="koboSpan" id="kobo.1323.1"> (</span><strong class="keyWord"><span class="koboSpan" id="kobo.1324.1">CUPS</span></strong><span class="koboSpan" id="kobo.1325.1">): This is normally installed by default on </span><a id="_idIndexMarker398"/><span class="koboSpan" id="kobo.1326.1">desktop implementations of Linux, but not on text-mode server implementations of Linux.</span></li>
      <li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.1327.1">The proper driver for your printer</span></strong><span class="koboSpan" id="kobo.1328.1">: CUPS includes a wide-range of printer drivers</span><a id="_idIndexMarker399"/><span class="koboSpan" id="kobo.1329.1"> that are ready to go. </span><span class="koboSpan" id="kobo.1329.2">However, your particular printer might not be included. </span><span class="koboSpan" id="kobo.1329.3">If that’s the case, you’ll need to obtain the proper driver from the printer manufacturer and follow their instructions for installing it.</span></li>
    </ul>
    <p class="normal"><span class="koboSpan" id="kobo.1330.1">Installing CUPS is</span><a id="_idIndexMarker400"/><span class="koboSpan" id="kobo.1331.1"> generally quite easy, because it’s included in the repositories of most Linux distros. </span><span class="koboSpan" id="kobo.1331.2">On any type of Red Hat-style machine, such as Fedora, AlmaLinux, Rocky Linux, Oracle Linux, or RHEL, just do:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1332.1">sudo dnf install cups
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1333.1">On Debian or any of its derivatives, you’ll need two packages. </span><span class="koboSpan" id="kobo.1333.2">To install them, just do:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1334.1">sudo apt install cups cups-bsd
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1335.1">Next, you’ll need to find out if CUPS includes the driver for your printer. </span><span class="koboSpan" id="kobo.1335.2">Do that with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1336.1">lpinfo -m</span></code><span class="koboSpan" id="kobo.1337.1"> command on a Red Hat-type system, and with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.1338.1">sudo lpinfo -m</span></code><span class="koboSpan" id="kobo.1339.1"> command on a Debian-type system.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1340.1">You can pipe the output into </span><code class="inlineCode"><span class="koboSpan" id="kobo.1341.1">less</span></code><span class="koboSpan" id="kobo.1342.1"> if you want to scroll through the whole list. </span><span class="koboSpan" id="kobo.1342.2">Or, pipe it into </span><code class="inlineCode"><span class="koboSpan" id="kobo.1343.1">grep</span></code><span class="koboSpan" id="kobo.1344.1"> if you want to search for a specific printer manufacturer, which will look something like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1345.1">donnie@debian:~$ sudo lpinfo -m | grep -i brother
donnie@debian:~$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1346.1">So, the Debian implementation of CUPS doesn’t include drivers for any Brother printer. </span><span class="koboSpan" id="kobo.1346.2">But, as you see here, CUPS on my Fedora workstation has quite a wide selection of Brother printer drivers:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1347.1">[donnie@fedora ~]$ lpinfo -m | grep -i brother
gutenprint.5.3://brother-dcp-1200/expert Brother DCP-1200 - CUPS+Gutenprint v5.3.4
gutenprint.5.3://brother-dcp-1200/simple Brother DCP-1200 - CUPS+Gutenprint v5.3.4 Simplified
gutenprint.5.3://brother-dcp-8045d/expert Brother DCP-8045D - CUPS+Gutenprint v5.3.4
gutenprint.5.3://brother-dcp-8045d/simple Brother DCP-8045D - CUPS+Gutenprint v5.3.4 Simplified
. </span><span class="koboSpan" id="kobo.1347.2">. </span><span class="koboSpan" id="kobo.1347.3">.
</span><span class="koboSpan" id="kobo.1347.4">. </span><span class="koboSpan" id="kobo.1347.5">. </span><span class="koboSpan" id="kobo.1347.6">.
</span><span class="koboSpan" id="kobo.1347.7">gutenprint.5.3://brother-mfc-9600/expert Brother MFC-9600 - CUPS+Gutenprint v5.3.4
gutenprint.5.3://brother-mfc-9600/simple Brother MFC-9600 - CUPS+Gutenprint v5.3.4 Simplified
MFC7460DN.ppd Brother MFC7460DN for CUPS
lsb/usr/MFC7460DN.ppd Brother MFC7460DN for CUPS
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1348.1">The only catch was that </span><a id="_idIndexMarker401"/><span class="koboSpan" id="kobo.1349.1">the Fedora workstation didn’t have the drivers for my Brother MFC7460DN printer, so I had to download the driver from the Brother website and install it myself. </span><span class="koboSpan" id="kobo.1349.2">(The driver that I installed is represented by the last two items in this list.) The </span><code class="inlineCode"><span class="koboSpan" id="kobo.1350.1">lpstat -p -d</span></code><span class="koboSpan" id="kobo.1351.1"> command shows me the status of my printer, as you see here:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1352.1">[donnie@fedora ~]$ lpstat -p -d
printer MFC7460DN is idle.  </span><span class="koboSpan" id="kobo.1352.2">enabled since Tue 19 Sep 2023 06:17:03 PM EDT
system default destination: MFC7460DN
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1353.1">Cool. </span><span class="koboSpan" id="kobo.1353.2">It’s ready to go.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1354.1">Once you’ve set everything up, you’re ready to print with either </span><code class="inlineCode"><span class="koboSpan" id="kobo.1355.1">lp</span></code><span class="koboSpan" id="kobo.1356.1"> or </span><code class="inlineCode"><span class="koboSpan" id="kobo.1357.1">lpr</span></code><span class="koboSpan" id="kobo.1358.1">. </span><span class="koboSpan" id="kobo.1358.2">(They’re two different utilities that both do the same thing, but with different option switches. </span><span class="koboSpan" id="kobo.1358.3">To make things simple, I’m just going to show you </span><code class="inlineCode"><span class="koboSpan" id="kobo.1359.1">lpr</span></code><span class="koboSpan" id="kobo.1360.1">.) To print to a specific printer, do something like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1361.1">[donnie@fedora ~]$ lpr -P MFC7460DN somefile.txt
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1362.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.1363.1">-P</span></code><span class="koboSpan" id="kobo.1364.1"> option directs the print job to the desired printer. </span><span class="koboSpan" id="kobo.1364.2">If you don’t want to always have to specify a printer, you can set a default printer, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1365.1">[donnie@localhost ~]$ lpoptions -d MFC7460DN
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1366.1">(Note that this will require </span><code class="inlineCode"><span class="koboSpan" id="kobo.1367.1">sudo</span></code><span class="koboSpan" id="kobo.1368.1"> privileges on a Debian-type system. </span><span class="koboSpan" id="kobo.1368.2">)</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1369.1">Once you’ve assigned a default printer, you can run a print job like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1370.1">[donnie@fedora ~]$ lpr somefile.txt
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1371.1">If you have multiple files that you need to print out, there’s no need to issue multiple </span><code class="inlineCode"><span class="koboSpan" id="kobo.1372.1">lpr </span></code><span class="koboSpan" id="kobo.1373.1">commands. </span><span class="koboSpan" id="kobo.1373.2">Instead, just place the names of the files that you want to print into a separate </span><a id="_idIndexMarker402"/><span class="koboSpan" id="kobo.1374.1">text file, and then use </span><code class="inlineCode"><span class="koboSpan" id="kobo.1375.1">xargs</span></code><span class="koboSpan" id="kobo.1376.1"> to read the list. </span><span class="koboSpan" id="kobo.1376.2">That will look something like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.1377.1">[donnie@fedora ~]$ xargs lpr &lt; print_list.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.1378.1">Easy, right? </span><span class="koboSpan" id="kobo.1378.2">Well, there are actually a lot more print options that you can use with either </span><code class="inlineCode"><span class="koboSpan" id="kobo.1379.1">lp</span></code><span class="koboSpan" id="kobo.1380.1"> or </span><code class="inlineCode"><span class="koboSpan" id="kobo.1381.1">lpr</span></code><span class="koboSpan" id="kobo.1382.1">, but for now we’ll just go with the basics. </span><span class="koboSpan" id="kobo.1382.2">To see a complete tutorial on printing with </span><code class="inlineCode"><span class="koboSpan" id="kobo.1383.1">lp</span></code><span class="koboSpan" id="kobo.1384.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.1385.1">lpr</span></code><span class="koboSpan" id="kobo.1386.1">, your best bet is to pull up a web browser on a Linux desktop machine, and navigate to </span><code class="inlineCode"><span class="koboSpan" id="kobo.1387.1">http://localhost:631</span></code><span class="koboSpan" id="kobo.1388.1">. </span><span class="koboSpan" id="kobo.1388.2">In addition to the tutorial, you’ll </span><a id="_idIndexMarker403"/><span class="koboSpan" id="kobo.1389.1">see that you can also perform certain administrative functions from the web interface.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1390.1">All right, I think that will do for this chapter. </span><span class="koboSpan" id="kobo.1390.2">Let’s wrap things up and move on.</span></p>
    <h1 id="_idParaDest-128" class="heading 1"><span class="koboSpan" id="kobo.1391.1">Summary</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.1392.1">In this chapter, I showed you a lot more utilities that you can use to format text files as either you or your employer might require. </span><span class="koboSpan" id="kobo.1392.2">Finally, at the end, I showed you the basics of setting up a printer on a text-mode server.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1393.1">The beauty of all this is that you can create shell scripts that will automatically obtain information from various sources, create properly-formatted text files, and then print them. </span><span class="koboSpan" id="kobo.1393.2">You can even have the scripts run automatically by creating either a </span><code class="inlineCode"><span class="koboSpan" id="kobo.1394.1">cron</span></code><span class="koboSpan" id="kobo.1395.1"> job or a </span><code class="inlineCode"><span class="koboSpan" id="kobo.1396.1">systemd</span></code><span class="koboSpan" id="kobo.1397.1"> timer.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1398.1">Oh, but I haven’t shown you how to create a shell script, have I? </span><span class="koboSpan" id="kobo.1398.2">That’s okay, because that will be the subject of the next chapter. </span><span class="koboSpan" id="kobo.1398.3">I’ll see you there.</span></p>
    <h1 id="_idParaDest-129" class="heading 1"><span class="koboSpan" id="kobo.1399.1">Questions</span></h1>
    <ol>
      <li class="numberedList" value="1"><span class="koboSpan" id="kobo.1400.1">Which two of the following commands would you use to see if a text file contains carriage return characters? </span><span class="koboSpan" id="kobo.1400.2">(Select two.)</span><ol>
          <li class="alphabeticList level 2" value="1"><code class="inlineCode"><span class="koboSpan" id="kobo.1401.1">od -tx filename.txt</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.1402.1">od -tc filename.txt</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.1403.1">od -ta filename.txt</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.1404.1">od -td filename.txt</span></code></li>
        </ol>
      </li>
      <li class="numberedList"><span class="koboSpan" id="kobo.1405.1">You’ve created a text file that contains a list of other text files. </span><span class="koboSpan" id="kobo.1405.2">And now, you want to sort all of the files that are contained in that list, and save the output to one new file. </span><span class="koboSpan" id="kobo.1405.3">Which of the following commands would you use for that?</span><ol>
          <li class="alphabeticList level 2" value="1"><code class="inlineCode"><span class="koboSpan" id="kobo.1406.1">sort sort_list.txt &gt; combined_sorted.txt</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.1407.1">xargs sort sort_list.txt &gt; combined_sorted.txt</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.1408.1">xargs sort &lt; sort_list.txt &gt; combined_sorted.txt</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.1409.1">sort &lt; sort_list.txt &gt; combined_sorted.txt</span></code></li>
        </ol>
      </li>
      <li class="numberedList"><span class="koboSpan" id="kobo.1410.1">Which of the following commands will number all lines in the body of a text file?</span><ol>
          <li class="alphabeticList level 2" value="1"><code class="inlineCode"><span class="koboSpan" id="kobo.1411.1">nl -a file.txt</span></code></li>
          <li class="alphabeticList level 2"> <code class="inlineCode"><span class="koboSpan" id="kobo.1412.1">nl file.txt</span></code></li>
          <li class="alphabeticList level 2"> <code class="inlineCode"><span class="koboSpan" id="kobo.1413.1">nl -bn file.txt</span></code></li>
          <li class="alphabeticList level 2"> <code class="inlineCode"><span class="koboSpan" id="kobo.1414.1">nl -ba file.txt</span></code></li>
        </ol>
      </li>
      <li class="numberedList"><span class="koboSpan" id="kobo.1415.1"> Which utility would you most likely use for the final step of preparing a text file for printing?</span><ol>
          <li class="alphabeticList level 2" value="1"> <code class="inlineCode"><span class="koboSpan" id="kobo.1416.1">fmt</span></code></li>
          <li class="alphabeticList level 2"> <code class="inlineCode"><span class="koboSpan" id="kobo.1417.1">pr</span></code></li>
          <li class="alphabeticList level 2"> <code class="inlineCode"><span class="koboSpan" id="kobo.1418.1">lp</span></code></li>
          <li class="alphabeticList level 2"> <code class="inlineCode"><span class="koboSpan" id="kobo.1419.1">lpr</span></code></li>
        </ol>
      </li>
      <li class="numberedList"><span class="koboSpan" id="kobo.1420.1">Which of the following commands would you use to verify that the driver for your printer is installed on your computer?</span><ol>
          <li class="alphabeticList level 2" value="1"> <code class="inlineCode"><span class="koboSpan" id="kobo.1421.1">lpinfo -m</span></code></li>
          <li class="alphabeticList level 2"> <code class="inlineCode"><span class="koboSpan" id="kobo.1422.1">lpstat -p -d</span></code></li>
          <li class="alphabeticList level 2"> <code class="inlineCode"><span class="koboSpan" id="kobo.1423.1">lpr -i</span></code></li>
          <li class="alphabeticList level 2"> <code class="inlineCode"><span class="koboSpan" id="kobo.1424.1">lp -i</span></code></li>
        </ol>
      </li>
    </ol>
    <h1 id="_idParaDest-130" class="heading 1"><span class="koboSpan" id="kobo.1425.1">Further Reading</span></h1>
    <ul>
      <li class="bulletList"><span class="koboSpan" id="kobo.1426.1">nl Command in Linux with Examples: </span><a href="https://linuxconfig.org/nl"><span class="url"><span class="koboSpan" id="kobo.1427.1">https://linuxconfig.org/nl</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.1428.1">head Command in Linux (5 Essential Examples: </span><a href="https://linuxhandbook.com/head-command/ "><span class="url"><span class="koboSpan" id="kobo.1429.1">https://linuxhandbook.com/head-command/</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.1430.1">Using od to See How Text isFormatted: </span><a href="https://bash-prompt.net/guides/od/"><span class="url"><span class="koboSpan" id="kobo.1431.1">https://bash-prompt.net/guides/od/</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.1432.1">wc Command in Linux with Examples: </span><a href="https://www.geeksforgeeks.org/wc-command-linux-examples/"><span class="url"><span class="koboSpan" id="kobo.1433.1">https://www.geeksforgeeks.org/wc-command-linux-examples/</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.1434.1">tr Command in Linux with Examples: </span><a href="https://linuxize.com/post/linux-tr-command/"><span class="url"><span class="koboSpan" id="kobo.1435.1">https://linuxize.com/post/linux-tr-command/</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.1436.1">How to use the Linux tr Command: </span><a href="https://www.howtogeek.com/886723/how-to-use-the-linux-tr-command/"><span class="url"><span class="koboSpan" id="kobo.1437.1">https://www.howtogeek.com/886723/how-to-use-the-linux-tr-command/</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.1438.1">Talk Like a Pirate Day: </span><a href="https://nationaltoday.com/talk-like-a-pirate-day/"><span class="url"><span class="koboSpan" id="kobo.1439.1">https://nationaltoday.com/talk-like-a-pirate-day/</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.1440.1">How to Use the xargs Command on Linux: </span><a href="https://www.howtogeek.com/435164/how-to-use-the-xargs-command-on-linux/"><span class="url"><span class="koboSpan" id="kobo.1441.1">https://www.howtogeek.com/435164/how-to-use-the-xargs-command-on-linux/</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.1442.1">How I use the Linux fmt command to format text: </span><a href="https://opensource.com/article/22/7/fmt-trivial-text-formatter"><span class="url"><span class="koboSpan" id="kobo.1443.1">https://opensource.com/article/22/7/fmt-trivial-text-formatter</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.1444.1">pr command in Linux: </span><a href="https://www.geeksforgeeks.org/pr-command-in-linux/"><span class="url"><span class="koboSpan" id="kobo.1445.1">https://www.geeksforgeeks.org/pr-command-in-linux/</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.1446.1">Master the Linux “pr” Command: A Comprehensive Guide: </span><a href="https://hopeness.medium.com/master-the-linux-pr-command-a-comprehensive-guide-b166865c933e"><span class="url"><span class="koboSpan" id="kobo.1447.1">https://hopeness.medium.com/master-the-linux-pr-command-a-comprehensive-guide-b166865c933e</span></span></a></li>
    </ul>
    <h1 id="_idParaDest-131" class="heading 1"><span class="koboSpan" id="kobo.1448.1">Answers</span></h1>
    <ol>
      <li class="numberedList" value="1"><span class="koboSpan" id="kobo.1449.1">b and c</span></li>
      <li class="numberedList"><span class="koboSpan" id="kobo.1450.1">c</span></li>
      <li class="numberedList"><span class="koboSpan" id="kobo.1451.1">d</span></li>
      <li class="numberedList"><span class="koboSpan" id="kobo.1452.1">b</span></li>
      <li class="numberedList"><span class="koboSpan" id="kobo.1453.1">a</span></li>
    </ol>
    <h1 id="_idParaDest-132" class="heading 1"><span class="koboSpan" id="kobo.1454.1">Join our community on Discord!</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.1455.1">Read this book alongside other users, Linux experts, and the author himself. </span></p>
    <p class="normal"><span class="koboSpan" id="kobo.1456.1">Ask questions, provide solutions to other readers, chat with the author via Ask Me Anything sessions, and much more. </span><span class="koboSpan" id="kobo.1456.2">Scan the QR code or visit the link to join the community.</span></p>
    <p class="normal"><a href="https://packt.link/SecNet"><span class="url"><span class="koboSpan" id="kobo.1457.1">https://packt.link/SecNet</span></span></a></p>
    <p class="normal"><span class="koboSpan" id="kobo.1458.1"><img src="../Images/QR_Code10596186092701843.png" alt=""/></span></p>
  </div>
</body></html>