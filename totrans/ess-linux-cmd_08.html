<html><head></head><body>
		<div id="_idContainer187">
			<h1 id="_idParaDest-85" class="chapter-number"><a id="_idTextAnchor094"/>8</h1>
			<h1 id="_idParaDest-86"><a id="_idTextAnchor095"/>Linux SWAP Commands</h1>
			<p>Linux SWAP commands<a id="_idIndexMarker423"/> are an integral part of Linux system administration, allowing administrators to effectively manage swap space within the operating system. Swap space serves as a crucial component of memory management, providing additional virtual memory when the physical RAM capacity is insufficient. These commands are widely utilized by Linux system administrators due to their importance in optimizing system performance and ensuring efficient memory utilization. The importance of Linux SWAP commands lies in their ability to enhance system stability and prevent issues related to memory exhaustion. By effectively managing swap space, administrators can alleviate memory constraints, allowing the system to handle memory-intensive tasks and prevent crashes or slowdowns. This is particularly valuable in scenarios where the system encounters high memory demands or when running multiple resource-intensive applications simultaneously. The purpose of these commands is to provide administrators with the necessary tools to control and monitor swap space. These commands enable the configuration and activation of swap devices or files, allowing administrators to fine-tune the system’s memory management settings. Additionally, they provide insights into memory usage, allowing administrators to monitor swap space utilization and make informed decisions regarding memory allocation and optimization. They are highly valued by Linux system administrators due to their role in ensuring efficient memory utilization and system stability. By utilizing these commands, administrators can proactively manage and allocate memory resources according to the system’s requirements. This, in turn, leads to improved system performance, reduced memory-related issues, and enhanced <span class="No-Break">overall reliability.</span></p>
			<p>With these commands, system administrators can effectively manage swap space and optimize memory utilization. Their significance lies in their ability to enhance system stability, prevent memory exhaustion, and allow efficient handling of <span class="No-Break">memory-intensive tasks.</span></p>
			<p>In this chapter, we are going to cover the following <span class="No-Break">main topics:</span></p>
			<ul>
				<li>The <span class="No-Break">swapon command</span></li>
				<li>The <span class="No-Break">free command</span><a id="_idTextAnchor096"/></li>
			</ul>
			<h1 id="_idParaDest-87"><a id="_idTextAnchor097"/>The swapon command</h1>
			<p>The <strong class="source-inline">swapon</strong> command is a crucial utility<a id="_idIndexMarker424"/> in Linux that allows system administrators to activate and configure swap devices or files. Swap space serves as an extension to the physical memory (RAM) and provides additional virtual memory to the system. It is located on disk, typically in the form of a dedicated partition or a swap file. The operating system uses this disk space as an extension of the physical RAM, allowing it to move data between RAM and the swap space as needed to efficiently manage system memory. The <strong class="source-inline">swapon</strong> command plays a vital role in efficiently managing memory resources and optimizing system performance. One of the main reasons why the <strong class="source-inline">swapon</strong> command is of utmost importance is its ability to address situations where the system’s physical memory is insufficient to handle the workload. By activating swap devices or files using the <strong class="source-inline">swapon</strong> command, administrators can effectively increase available memory resources, allowing the system to handle memory-intensive tasks without encountering memory exhaustion or performance degradation. This is particularly crucial in environments with limited physical memory or when running <span class="No-Break">resource-intensive applications.</span></p>
			<p>This command is widespread among Linux system administrators due to its versatility and flexibility. It enables administrators to configure swap devices or files according to their specific requirements. This includes specifying the location and size of the swap space, as well as defining swap priority levels for multiple swap devices. The <strong class="source-inline">swapon</strong> command empowers administrators to fine-tune the system’s memory management settings, ensuring efficient utilization of available resources. The primary purpose of the <strong class="source-inline">swapon</strong> command is to enable efficient memory management and optimize system performance. By activating swap devices or files, the command expands the virtual memory of the system, allowing it to handle memory demands beyond the physical RAM capacity. This<a id="_idIndexMarker425"/> helps prevent memory-related issues such as <strong class="bold">out-of-memory</strong> (<strong class="bold">OOM</strong>) errors, system crashes, or sluggish performance. The <strong class="source-inline">swapon</strong> command is a critical tool for maintaining system stability and ensuring smooth operation, especially in environments where memory demands fluctuate or exceed physical memory limitations. Let’s explore a few examples<a id="_idIndexMarker426"/> and leverage their <span class="No-Break">practical applications:</span></p>
			<ul>
				<li><strong class="bold">Example 1</strong>: The <strong class="source-inline">swapon</strong> command provides a means to obtain comprehensive details about active swap devices, offering valuable information such as the device path, type, size, and priority. This feature allows system administrators to gain insights into currently enabled swap devices and their associated properties. By executing the <strong class="source-inline">swapon</strong> command, users can retrieve a detailed summary of the active swap configuration, facilitating efficient monitoring and management of <span class="No-Break">swap resources:</span></li>
			</ul>
			<div>
				<div id="_idContainer182" class="IMG---Figure">
					<img src="image/B18212_08_1.jpg" alt="Figure 8.1 – Executing the swapon command to obtain details about active swap devices"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.1 – Executing the swapon command to obtain details about active swap devices</p>
			<p class="list-inset">In the example, the output displays the <span class="No-Break">following columns:</span></p>
			<ul>
				<li><strong class="source-inline">NAME</strong>: This column indicates the name or identifier of the swap device. In this case, it shows <strong class="source-inline">/dev/dm-1</strong>, which represents a swap partition on the <strong class="source-inline">/</strong><span class="No-Break"><strong class="source-inline">dev/dm-1</strong></span><span class="No-Break"> device.</span></li>
				<li><strong class="source-inline">TYPE</strong>: This column indicates the type of the swap device. Here, it states that the device is a <strong class="source-inline">partition</strong> type, indicating that it is a dedicated partition specifically used for <span class="No-Break">swap space.</span></li>
				<li><strong class="source-inline">SIZE</strong>: This column displays the size of the swap device. In the example, the size is specified as <strong class="source-inline">3G</strong>, indicating that the swap partition has a capacity of <span class="No-Break">3 GB.</span></li>
				<li><strong class="source-inline">USED</strong>: This column indicates the amount of swap space that is currently being utilized. In the output, it shows <strong class="source-inline">0B</strong>, indicating that none of the swap space is currently <span class="No-Break">in use.</span></li>
				<li><strong class="source-inline">PRIO</strong>: This column represents the priority assigned to the swap device. A higher priority value indicates a higher preference for utilizing that particular swap device. In the example, the priority is indicated as <strong class="source-inline">-2</strong>, suggesting that this swap device has a lower priority compared <span class="No-Break">to others.</span></li>
			</ul>
			<ul>
				<li><strong class="bold">Example 2</strong>: Now, let’s explore a similar command<a id="_idIndexMarker427"/> that offers comparable functionality. We will discuss this specific command in detail in our upcoming topic. In this case, the <strong class="source-inline">free</strong> command is used to display information about the system’s memory usage, including the total physical memory (RAM), used memory, free memory, and swap space. We will delve into the <strong class="source-inline">free</strong> command in our upcoming topic on monitoring memory usage, where we will explain how to interpret its output to assess the system’s <span class="No-Break">memory health:</span></li>
			</ul>
			<div>
				<div id="_idContainer183" class="IMG---Figure">
					<img src="image/B18212_08_2.jpg" alt="Figure 8.2 – Displaying information about memory usage"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.2 – Displaying information about memory usage</p>
			<p class="list-inset">The output of the <strong class="source-inline">free -h | grep 'Mem|buffers/cache'</strong> command provides information about the memory usage in the system. The line that starts with <strong class="source-inline">Mem:</strong> displays details about the physical memory (RAM) in the system. In this example, it shows that the total physical memory is <strong class="source-inline">8.0Gi</strong> (GB). The next column indicates the amount of memory used, which is <strong class="source-inline">1.5Gi</strong>. The following column represents the amount of memory allocated for buffers and cache, which is <strong class="source-inline">5.3Gi</strong>. The subsequent columns provide information about other memory metrics, such as the amount of memory used for kernel purposes (<strong class="source-inline">21Mi</strong>) and the available memory (<strong class="source-inline">1.2Gi</strong> <span class="No-Break">and </span><span class="No-Break"><strong class="source-inline">6.3Gi</strong></span><span class="No-Break">).</span></p>
			<ul>
				<li><strong class="bold">Example 3</strong>: Check the available<a id="_idIndexMarker428"/> <span class="No-Break">swap space:</span></li>
			</ul>
			<div>
				<div id="_idContainer184" class="IMG---Figure">
					<img src="image/B18212_08_3.jpg" alt="Figure 8.3 – Checking ﻿the available swap space"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.3 – Checking the available swap space</p>
			<p class="list-inset">The output of the <strong class="source-inline">swapon --summary | tail -n +2 | awk '{sum += $3} END {print sum/1024 " MB"}'</strong> command provides the total size of the swap space <span class="No-Break">in MB.</span></p>
			<p class="list-inset">Let’s break down the command step <span class="No-Break">by step:</span></p>
			<ul>
				<li><strong class="source-inline">swapon --summary</strong> displays a summary of currently active swap devices and their <span class="No-Break">respective sizes.</span></li>
				<li><strong class="source-inline">tail -n +2</strong> filters the output and skips the first line, which is the header line, and displays only the subsequent lines containing information about the <span class="No-Break">swap devices.</span></li>
				<li><strong class="source-inline">awk '{sum += $3} END {print sum/1024 " MB"}'</strong> uses the <strong class="source-inline">awk</strong> command to calculate the sum of the third column (which represents the size of each swap device) and store it in the <strong class="source-inline">sum</strong> variable. The <strong class="source-inline">END</strong> block is executed after processing all the lines, and it prints the sum divided by 1,024 to convert it from KB to MB, followed by the <span class="No-Break"><strong class="source-inline">MB</strong></span><span class="No-Break"> unit.</span></li>
			</ul>
			<p class="list-inset">In this example, the <strong class="source-inline">3072 MB</strong> output indicates that the total size of the swap space is 3,072 MB. This information is useful for monitoring and managing the available swap<a id="_idIndexMarker429"/> space in <span class="No-Break">the system.</span></p>
			<p>By combining these commands, you can get an overview of both the free memory in RAM and the available swap space in your Linux system. Additionally, the <strong class="source-inline">swapon</strong> command serves a crucial role in configuring and enabling specific files or devices to be used as swap space, expanding the virtual memory capacity of the system when needed. This enables efficient memory management and ensures that the system can handle tasks that exceed the physical RAM capacity. To sum up, the <strong class="source-inline">swapon</strong> command holds great significance for system administrators. Its primary function is to activate and configure swap devices or files, which adds extra virtual memory to the system. This capability is crucial for effectively managing memory resources, preventing memory depletion, and enhancing overall system performance. The <strong class="source-inline">swapon</strong> command<a id="_idIndexMarker430"/> offers a range of options and settings that empower administrators to fine-tune memory management parameters and maximize the utilization of available resources. As a result, it has become an indispensable tool in the arsenal of Linux system administrators, enabling them to optimize memory usage and maintain a <span class="No-Break">well-performing system.</span></p>
			<h1 id="_idParaDest-88"><a id="_idTextAnchor098"/>The free command</h1>
			<p>The <strong class="source-inline">free</strong> command is a powerful utility<a id="_idIndexMarker431"/> used in Linux systems to provide information about the system’s memory usage. It plays a crucial role in monitoring and managing memory resources, allowing system administrators to optimize system performance and ensure efficient utilization of available memory. The command displays various metrics, including total memory, used memory, free memory, and memory allocated for buffers and cache. By analyzing the output of the <strong class="source-inline">free</strong> command, administrators can assess the memory status of the system, identify potential memory issues, and make informed decisions regarding memory allocation and optimization. The importance of the <strong class="source-inline">free</strong> command lies in its ability to provide real-time information about memory usage. Memory is a critical resource in any system, and monitoring its usage is essential for maintaining system stability and performance. The <strong class="source-inline">free</strong> command offers a comprehensive overview of memory utilization, enabling administrators to identify memory-hungry processes, detect memory leaks, and take appropriate actions to mitigate memory-related issues. It also allows administrators to gauge the impact of memory-intensive tasks on the system’s overall performance and make necessary adjustments to optimize <span class="No-Break">resource allocation.</span></p>
			<p>The <strong class="source-inline">free</strong> command is extensively used by Linux system administrators for a variety of purposes. It helps in troubleshooting memory-related problems, such as identifying excessive memory usage or low available memory. Administrators can use the command to determine if a system is running low on memory and take appropriate actions to alleviate the situation, such as freeing up memory by terminating unnecessary processes or optimizing memory allocation for critical applications. Additionally, the <strong class="source-inline">free</strong> command aids in capacity planning, as administrators can gather information about memory usage trends over time to determine if additional memory resources are required to meet future demands. It serves as a valuable tool for monitoring system performance, ensuring optimal memory utilization, and maintaining a stable and efficient Linux environment. In our previous discussion, we explored the functionality of the <strong class="source-inline">free</strong> command. Now, let’s further explore this command by examining additional flags and options that can be applied <span class="No-Break">to it:</span></p>
			<ul>
				<li>Check<a id="_idIndexMarker432"/> <span class="No-Break">memory usage:</span></li>
			</ul>
			<div>
				<div id="_idContainer185" class="IMG---Figure">
					<img src="image/B18212_08_4.jpg" alt="Figure 8.4 – Using the free command to check memory usage"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.4 – Using the free command to check memory usage</p>
			<p class="list-inset">This will display the memory usage in a human-readable format, showing the total, used, and <span class="No-Break">available </span><span class="No-Break"><a id="_idIndexMarker433"/></span><span class="No-Break">memory.</span></p>
			<ul>
				<li>Check memory usage in <span class="No-Break">continuous mode:</span></li>
			</ul>
			<div>
				<div id="_idContainer186" class="IMG---Figure">
					<img src="image/B18212_08_5.jpg" alt="Figure 8.5 – Using the free command to check memory usage in continuous mode"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 8.5 – Using the free command to check memory usage in continuous mode</p>
			<p class="list-inset">The <strong class="source-inline">-s</strong> flag specifies the interval in seconds for updating the displayed memory information. In this example, the command<a id="_idIndexMarker434"/> will continuously refresh the memory usage every 5 seconds, providing <span class="No-Break">real-time updates.</span></p>
			<p>Overall, the <strong class="source-inline">free</strong> command provides real-time information about memory usage and assists in troubleshooting memory-related problems. This makes it an essential component of memory management. By leveraging the insights provided by the <strong class="source-inline">free</strong> command, administrators can make informed decisions, enhance system performance, and ensure efficient resource allocation in their <span class="No-Break">Linux systems.</span></p>
			<h1 id="_idParaDest-89"><a id="_idTextAnchor099"/>Summary</h1>
			<p>This chapter delves into the realm of Linux SWAP commands, which are crucial for efficient memory management and performance optimization in Linux systems. The chapter highlights two key commands: <strong class="source-inline">swapon</strong> and <strong class="source-inline">free</strong>. The <strong class="source-inline">swapon</strong> command enables system administrators to activate and configure swap devices or files, thereby adding extra memory resources to the system. Lastly, the <strong class="source-inline">free</strong> command provides real-time information on memory usage, aiding in the identification of memory-related issues and assisting in <span class="No-Break">capacity planning.</span></p>
			<p>In the next chapter, we will explore a wide range of essential tools for monitoring system performance, troubleshooting issues, and debugging problems in Linux environments. These commands provide valuable insights into various aspects of the system, allowing administrators to identify and resolve issues efficiently. By mastering these commands, system administrators can maintain the stability, reliability, and performance of their <span class="No-Break">Linux systems.</span></p>
		</div>
	</body></html>