<html><head></head><body>
<div id="sbo-rt-content"><div id="_idContainer038">
<h1 class="chapter-number" id="_idParaDest-82"><a id="_idTextAnchor109"/>6</h1>
<h1 id="_idParaDest-83"><a id="_idTextAnchor110"/>Basic System Settings</h1>
<p>Linux is a<a id="_idIndexMarker271"/> highly customizable operating system, and it provides a vast array of configuration options that allow users to tailor their systems to their specific needs. In this chapter, we will explore some of the basic system configuration settings in Linux and how they can be customized to improve system performance, security, <span class="No-Break">and usability.</span></p>
<p>Before you make any changes to a configuration file, you should always make a backup. When making a copy, append a <strong class="source-inline">.bak</strong> extension to it so that you know it’s a copy meant <span class="No-Break">for safekeeping.</span></p>
<p>Eventually, you are almost guaranteed to make a blunder when modifying these files. It is essential to have a backup of any configuration files before making <span class="No-Break">any changes.</span></p>
<p>Due to the impossibility of covering every configuration file in Linux, we will focus on the most common <span class="No-Break">configurations instead:</span></p>
<ul>
<li>The <strong class="source-inline">hosts</strong> <span class="No-Break">configuration file</span></li>
<li>The <strong class="source-inline">resolv</strong> <span class="No-Break">configuration file</span></li>
<li>The <strong class="source-inline">network-scripts</strong> <span class="No-Break">configuration file</span></li>
<li>The <strong class="source-inline">dhclient</strong> <span class="No-Break">configuration file</span></li>
<li>The <strong class="source-inline">sysctl</strong> <span class="No-Break">configuration file</span></li>
</ul>
<h1 id="_idParaDest-84"><a id="_idTextAnchor111"/>Overview of basic settings</h1>
<p>Linux has various basic settings <a id="_idIndexMarker272"/>that you can configure to customize the behavior of your system. These settings are typically found in configuration files, and they can affect various aspects of the <span class="No-Break">operating system:</span></p>
<ul>
<li><strong class="bold">System time configuration</strong>: The system time<a id="_idIndexMarker273"/> in Linux is critical for a variety of tasks, including scheduling tasks, logging, and time-sensitive applications. The system time can be configured using the <strong class="source-inline">timedatectl</strong> command<a id="_idIndexMarker274"/> in most modern Linux distributions. This command allows users to set the system’s time zone, as well as the date <span class="No-Break">and time.</span></li>
<li><strong class="bold">Hostname configuration</strong>: The hostname is the name given to<a id="_idIndexMarker275"/> a computer or device on a network. In Linux, the hostname can be configured using the <strong class="source-inline">hostnamectl</strong> command. This command allows users to set the hostname, as well as the static IP<a id="_idIndexMarker276"/> address and <span class="No-Break">domain name.</span></li>
<li><strong class="bold">User and group configuration</strong>: In Linux, users and groups are used to control access to the system and its<a id="_idIndexMarker277"/> resources. The <strong class="source-inline">useradd</strong> and <strong class="source-inline">groupadd</strong> commands are <a id="_idIndexMarker278"/>used to create new users and<a id="_idIndexMarker279"/> groups, respectively. The <strong class="source-inline">usermod</strong> and <strong class="source-inline">groupmod</strong> commands are <a id="_idIndexMarker280"/>used to modify <a id="_idIndexMarker281"/>existing users <span class="No-Break">and groups.</span></li>
<li><strong class="bold">Network configuration</strong>: Networking is an essential component of modern computing, and Linux provides several tools to configure network<a id="_idIndexMarker282"/> settings. The <strong class="source-inline">ifconfig</strong> command<a id="_idIndexMarker283"/> can be used to configure network interfaces, while the <strong class="source-inline">ip</strong> command can be used to manage IP addresses, routes, and network devices. The <strong class="bold">NetworkManager</strong> service is a popular tool for managing network connections<a id="_idIndexMarker284"/> and settings <span class="No-Break">in Linux.</span></li>
<li><strong class="bold">System security configuration</strong>: Linux is <a id="_idIndexMarker285"/>known for its robust security features, and many system configuration settings focus on enhancing system security. Some of the key security configuration<a id="_idIndexMarker286"/> settings include configuring the firewall, managing user permissions, configuring <strong class="bold">Security-Enhanced Linux</strong> (<strong class="bold">SELinux</strong>), and setting up system auditing <span class="No-Break">and monitoring.</span></li>
<li><strong class="bold">System performance configuration</strong>: Linux is a highly efficient operating system, but there are still several configuration settings that can be used to optimize system performance. These settings include<a id="_idIndexMarker287"/> configuring the kernel, tuning system parameters such as the I/O scheduler and memory allocation, and <a id="_idIndexMarker288"/>managing system resources such as CPU and <span class="No-Break">memory usage:</span><ul><li><strong class="bold">Kernel parameters</strong>: The Linux kernel has<a id="_idIndexMarker289"/> various tunable parameters that can be adjusted to optimize performance for specific workloads. These parameters can be set during boot or runtime using the <strong class="source-inline">sysctl</strong> command<a id="_idIndexMarker290"/> or by modifying the <strong class="source-inline">/</strong><span class="No-Break"><strong class="source-inline">etc/sysctl.conf</strong></span><span class="No-Break"> file.</span></li></ul></li>
</ul>
<p>     For example, to increase the maximum number of open files allowed by the system, you can set the <span class="No-Break"><strong class="source-inline">fs.file-max</strong></span><span class="No-Break"> parameter:</span></p>
<pre class="source-code">
<strong class="bold"># Increase the maximum number of open files</strong>
<strong class="bold">sysctl -w fs.file-max=100000</strong></pre>
<ul>
<li><strong class="bold">CPU scaling</strong>: Linux <a id="_idIndexMarker291"/>provides CPU scaling mechanisms that control the CPU’s frequency and <a id="_idIndexMarker292"/>power-saving features. Adjusting CPU scaling can help strike a balance between power efficiency <span class="No-Break">and performance.</span></li>
</ul>
<p>     For example, to set the CPU governor to performance mode (maximum frequency all the time), you can use the <strong class="source-inline">cpufreq-set</strong> command (may require installation <span class="No-Break">of </span><span class="No-Break"><strong class="source-inline">cpufrequtils</strong></span><span class="No-Break">):</span></p>
<pre class="source-code">
<strong class="bold">cpufreq-set -r -g performance</strong></pre>
<ul>
<li><strong class="bold">I/O scheduler</strong>: The <a id="_idIndexMarker293"/>Linux kernel offers multiple I/O schedulers, each designed for specific storage devices and access patterns. Choosing the right scheduler for your storage can improve <span class="No-Break">I/O performance.</span></li>
</ul>
<p>     As an example, to set the I/O scheduler for a specific block device, such as an SSD, use the <span class="No-Break">following command:</span></p>
<pre class="source-code">
<strong class="bold">echo "deadline" &gt; /sys/block/sdX/queue/scheduler</strong></pre>
<ul>
<li><strong class="bold">Swap configuration</strong>: The <a id="_idIndexMarker294"/>swap space is used when physical RAM is full. However, excessive swapping can significantly impact performance. Adjusting swapiness can control the tendency to swap <span class="No-Break">out memory.</span></li>
</ul>
<p>     For example, to reduce swappiness (less aggressive swapping), set a lower value (for example, <strong class="source-inline">10</strong>) <span class="No-Break">in </span><span class="No-Break"><strong class="source-inline">/etc/sysctl.conf</strong></span><span class="No-Break">:</span></p>
<pre class="source-code">
<strong class="bold">vm.swappiness=10</strong></pre>
<ul>
<li><strong class="bold">Filesystem mount options</strong>: Mount options<a id="_idIndexMarker295"/> for filesystems can impact performance based on the use case. Some options can optimize read/write operations or enhance <span class="No-Break">data safety.</span></li>
</ul>
<p>     As an example, for an SSD-mounted filesystem, you can set the <strong class="source-inline">noatime</strong> option to avoid updating access timestamps for improved <span class="No-Break">read performance:</span></p>
<pre class="source-code">
<strong class="bold">UUID=YOUR_UUID /mnt/ssd ext4 defaults,noatime 0 2</strong></pre>
<ul>
<li><strong class="bold">Network settings</strong>: Fine-tuning <a id="_idIndexMarker296"/>network parameters can enhance networking performance and <span class="No-Break">reduce latency.</span></li>
</ul>
<p>     For example, to increase the TCP buffer size, set the following <span class="No-Break">in </span><span class="No-Break"><strong class="source-inline">/etc/sysctl.conf</strong></span><span class="No-Break">:</span></p>
<pre class="source-code">
<strong class="bold">net.core.rmem_max = 16777216</strong>
<strong class="bold">net.core.wmem_max = 16777216</strong></pre>
<p>System performance configuration<a id="_idIndexMarker297"/> is an iterative and adaptive process that requires a deep understanding of the system’s components and workloads. By making informed and measured adjustments, system administrators can create efficient, stable, and <a id="_idIndexMarker298"/>responsive systems that meet the needs of their users <span class="No-Break">and applications.</span></p>
<p class="callout-heading">Note</p>
<p class="callout">Remember to back up configuration files before making changes and thoroughly test the system after modifications to ensure the desired performance improvements. The optimal settings may vary depending on the specific hardware, workload, and user requirements. Regular monitoring and profiling can help you identify performance bottlenecks and further refine <span class="No-Break">the configuration.</span></p>
<h1 id="_idParaDest-85"><a id="_idTextAnchor112"/>The hosts configuration file</h1>
<p>The Linux <strong class="source-inline">hosts</strong> file<a id="_idIndexMarker299"/> is a simple text<a id="_idIndexMarker300"/> file that is used to map hostnames to IP addresses. It is located in the <strong class="source-inline">/etc</strong> directory. The file contains a list of IP addresses and their corresponding hostnames. When a user tries to access a hostname, the system checks the <strong class="source-inline">hosts</strong> file to determine the IP address associated with <span class="No-Break">that hostname.</span></p>
<p>The <strong class="source-inline">hosts</strong> file is used first in <a id="_idIndexMarker301"/>the <strong class="bold">Domain Name System</strong> (<strong class="bold">DNS</strong>) server’s resolution process. If a hostname is not found in the DNS server, the system checks the <strong class="source-inline">hosts</strong> file for a mapping. This can be useful in situations where a specific hostname needs to be redirected to a different IP address or when you want to test a website before it is <span class="No-Break">made live.</span></p>
<p>The <strong class="source-inline">hosts</strong> file <a id="_idIndexMarker302"/>consists of several columns of data, separated by whitespace. The first column<a id="_idIndexMarker303"/> contains the IP address, while the second column contains the hostname. Additional columns can be used to specify aliases for the hostname. For example, the following line in the <strong class="source-inline">hosts</strong> file maps the <strong class="source-inline">192.168.1.80</strong> IP address to the <strong class="source-inline">centos</strong> hostname and sets <strong class="source-inline">centos8</strong> as <span class="No-Break">an alias:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer033">
<img alt="Figure 6.1 – The content of the hosts file" height="118" src="image/B18575_06_01.jpg" width="449"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.1 – The content of the hosts file</p>
<p>Now, for example, if you want to SSH into that server with CentOS (<strong class="source-inline">192.168.1.80</strong>), you don’t have to remember the IP, you just have to know what name you assigned to <span class="No-Break">that server.</span></p>
<p>This is valid for <strong class="source-inline">ping</strong> too. You just have to remember the name when you use <strong class="source-inline">ping</strong> rather than the IP. Here’s <span class="No-Break">an example:</span></p>
<pre class="source-code">
ping centos8</pre>
<p>You can edit the <strong class="source-inline">hosts</strong> file using a text editor, such as nano or Vim. It’s important to note that the <strong class="source-inline">hosts</strong> file requires root privileges to edit. Therefore, you must use the <strong class="source-inline">sudo</strong> command or switch to the root user before editing <span class="No-Break">the file.</span></p>
<p>In addition to mapping hostnames to IP addresses, the <strong class="source-inline">hosts</strong> file can be used to block access to specific websites. By mapping a hostname to the loopback address (<strong class="source-inline">127.0.0.1</strong>), you can effectively block access to that website. For example, the following line in the <strong class="source-inline">hosts</strong> file blocks access to the <span class="No-Break"><strong class="source-inline">example.com</strong></span><span class="No-Break"> website:</span></p>
<pre class="source-code">
127.0.0.1 example.com</pre>
<p>In conclusion, the Linux <strong class="source-inline">hosts</strong> file is a<a id="_idIndexMarker304"/> simple yet powerful tool for mapping hostnames to IP <a id="_idIndexMarker305"/>addresses and overriding the DNS resolution process. It can be used to redirect traffic to a different IP address, test websites before they go live, and block access to specific websites. Understanding how to use the <strong class="source-inline">hosts</strong> file can help you troubleshoot networking issues and improve the security of <span class="No-Break">your system.</span></p>
<h1 id="_idParaDest-86"><a id="_idTextAnchor113"/>The resolv configuration file</h1>
<p>The <strong class="source-inline">resolv.conf</strong> file<a id="_idIndexMarker306"/> is an essential configuration file in Linux systems that is used to configure DNS resolution settings. DNS is responsible for translating human-readable domain names (such as <strong class="source-inline">www.example.com</strong>) into IP addresses that computers can understand. This translation is crucial for accessing websites, services, and other network resources on the internet. The file is located in the <strong class="source-inline">/etc</strong> directory and contains information about the DNS servers that the system should use to resolve <span class="No-Break">domain names.</span></p>
<p>The <strong class="source-inline">resolv.conf</strong> file is used by various networking programs, including the system resolver library, web browsers, and email clients. When a user tries to access a website or connect to a remote server using its hostname, the system uses the <strong class="source-inline">resolv.conf</strong> file to find the corresponding <span class="No-Break">IP address.</span></p>
<p>The <strong class="source-inline">resolv.conf</strong> file consists of <a id="_idIndexMarker307"/>several directives that define the DNS servers to use and the search domains to append to hostnames. The following are the most commonly used directives in the <span class="No-Break"><strong class="source-inline">resolv.conf</strong></span><span class="No-Break"> file:</span></p>
<ul>
<li><strong class="source-inline">nameserver</strong>: This directive specifies the IP address of the DNS server to use for name resolution. You can specify multiple nameservers in the file, and the system will use them in the order they are listed. For example, the following line in the <strong class="source-inline">resolv.conf</strong> file specifies the IP address of the DNS server <span class="No-Break">at </span><span class="No-Break"><strong class="source-inline">192.168.1.1</strong></span><span class="No-Break">:</span></li>
</ul>
<div>
<div class="IMG---Figure" id="_idContainer034">
<img alt="Figure 6.2 – The content of the resolv.conf file" height="119" src="image/B18575_06_02.jpg" width="416"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.2 – The content of the resolv.conf file</p>
<ul>
<li><strong class="source-inline">search</strong>: This directive specifies the search domain to append to hostnames that are not fully qualified. For example, if the search domain is set to <strong class="source-inline">example.com</strong>, and a user tries to access the <strong class="source-inline">www</strong> hostname, the system will try to resolve <strong class="source-inline">www.example.com</strong>. You can specify multiple search domains in the file, and the system will use them in the order they are listed. For example, the following line in the <strong class="source-inline">resolv.conf</strong> file specifies the search domain <span class="No-Break">as </span><span class="No-Break"><strong class="source-inline">example.com</strong></span><span class="No-Break">:</span><pre class="source-code">
<strong class="bold">search example.com</strong></pre></li>
<li><strong class="source-inline">options</strong>: This directive specifies additional options to use for name resolution, such as the timeout and retry values. For example, the following line in the <strong class="source-inline">resolv.conf</strong> file specifies a timeout of <strong class="source-inline">5</strong> seconds and a retry value <span class="No-Break">of </span><span class="No-Break"><strong class="source-inline">2</strong></span><span class="No-Break">:</span><pre class="source-code">
<strong class="bold">options timeout:5 retries:2</strong></pre></li>
</ul>
<p>You can edit the <strong class="source-inline">resolv.conf</strong> file using a text editor, such as nano or Vim. We need root privilege to edit. It’s important to note that the <strong class="source-inline">resolv.conf</strong> file can be automatically generated by various tools, such as<a id="_idIndexMarker308"/> the <strong class="bold">Dynamic Host Configuration Protocol</strong> (<strong class="bold">DHCP</strong>) client or the NetworkManager service. Therefore, any changes you make to the file may be overwritten by <span class="No-Break">these tools.</span></p>
<p>In conclusion, the Linux <strong class="source-inline">resolv.conf</strong> file is a crucial<a id="_idIndexMarker309"/> configuration file that defines the DNS servers to use and the search domains to append to hostnames. Understanding how to configure the <strong class="source-inline">resolv.conf</strong> file can help you troubleshoot networking issues and improve the performance and security of <span class="No-Break">your system.</span></p>
<h1 id="_idParaDest-87"><a id="_idTextAnchor114"/>The network-scripts configuration file</h1>
<p>In Linux, <strong class="source-inline">network-scripts</strong> is used<a id="_idIndexMarker310"/> to configure network interfaces. These scripts are located in the <strong class="source-inline">/etc/sysconfig/network-scripts</strong> directory and define the network settings for each interface, such as the IP address, netmask, gateway, and DNS servers (network file configuration path is specific <span class="No-Break">to CentOS).</span></p>
<p>The <strong class="source-inline">network-scripts</strong> is written in Bash and consists of several configuration files, each corresponding to a specific network interface. The most commonly used configuration files are <strong class="source-inline">ifcfg-ethX</strong> for Ethernet interfaces and <strong class="source-inline">ifcfg-wlanX</strong> for wireless interfaces, where <strong class="source-inline">X</strong> is the <span class="No-Break">interface number.</span></p>
<p>The <strong class="source-inline">ifcfg-ethX</strong> configuration file contains the <span class="No-Break">following parameters:</span></p>
<ul>
<li><strong class="source-inline">DEVICE</strong>: This parameter specifies the name of the network interface – for <span class="No-Break">example, </span><span class="No-Break"><strong class="source-inline">DEVICE=eth0</strong></span><span class="No-Break">.</span></li>
<li><strong class="source-inline">BOOTPROTO</strong>: This parameter specifies whether the interface should use DHCP or a static IP address. If DHCP is used, the parameter’s value is set to <strong class="source-inline">dhcp</strong>. If a static IP address is used, the parameter’s value is set <span class="No-Break">to </span><span class="No-Break"><strong class="source-inline">static</strong></span><span class="No-Break">.</span></li>
<li><strong class="source-inline">IPADDR</strong>: This parameter specifies the IP address of <span class="No-Break">the interface.</span></li>
<li><strong class="source-inline">NETMASK</strong>: This parameter specifies the network mask of <span class="No-Break">the interface.</span></li>
<li><strong class="source-inline">GATEWAY</strong>: This parameter specifies the default gateway for <span class="No-Break">the interface.</span></li>
<li><strong class="source-inline">DNS1</strong>, <strong class="source-inline">DNS2</strong>, and <strong class="source-inline">DNS3</strong>: These parameters specify the IP addresses of the DNS servers to use for <span class="No-Break">name resolution.</span></li>
</ul>
<p>The <strong class="source-inline">ifcfg-wlanX</strong> configuration file<a id="_idIndexMarker311"/> contains similar parameters but also includes additional <a id="_idIndexMarker312"/>parameters for wireless settings, such as the ESSID and <span class="No-Break">encryption method.</span></p>
<p>You can edit the <strong class="source-inline">network-scripts</strong> configuration files using a text editor, such as nano or Vim. It’s important to note that changes made to the configuration files will not take effect until the network service is restarted. You can restart the network service by running the <strong class="source-inline">service network restart</strong> or <strong class="source-inline">systemctl restart network</strong> command, depending on your <span class="No-Break">Linux distribution.</span></p>
<p>In addition to the configuration files, the <strong class="source-inline">network-scripts</strong> directory also contains scripts that are executed when the network service is started or stopped. These scripts can be used to perform additional network configuration tasks, such as setting up virtual interfaces or configuring <span class="No-Break">network bridges.</span></p>
<p>In conclusion, the Linux <strong class="source-inline">network-scripts</strong> configuration files are used to configure network interfaces and define network settings such as IP addresses, netmasks, gateways, and DNS servers. Understanding how to configure these files can help you troubleshoot networking issues and improve the performance and security of <span class="No-Break">your system.</span></p>
<p>An example of the <strong class="source-inline">network-scripts</strong> config file from CentOS that’s been generated automatically is <span class="No-Break">as follows:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer035">
<img alt="Figure 6.3 – Network configuration file" height="452" src="image/B18575_06_03.jpg" width="771"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.3 – Network configuration file</p>
<p>As you <a id="_idIndexMarker313"/>can see, DHCP is enabled and there is no static reservation, and the name of the network card <span class="No-Break">is </span><span class="No-Break"><strong class="source-inline">enp0s31f6</strong></span><span class="No-Break">.</span></p>
<p>If we would like to make a static IP reservation, we should use something <span class="No-Break">like this:</span></p>
<pre class="source-code">
HWADDR=$SOMETHING
TYPE=Ethernet
BOOTPROTO=none // turns off DHCP
IPADDR=192.168.1.121 // set your IP
PREFIX=24 // subnet mask
GATEWAY=192.168.1.1
DNS1=1.1.1.2 // set your own DNS
DNS2=8.8.8.8
DNS3=8.8.4.4
DEFROUTE=yes
IPV4_FAILURE_FATAL=no
NAME=enp0s31f6
DEVICE=enp0s31f6
ONBOOT=yes // starts on boot</pre>
<p>With Ubuntu 17, networking configuration is done through Netplan, a YAML-based framework. You can do all of your DNS, gateway, netmask, and IP <span class="No-Break">configuration here.</span></p>
<p><strong class="source-inline">/etc/netplan</strong> is where the network configuration files <span class="No-Break">are located.</span></p>
<p>A sample configuration file for a network interface using Netplan looks <span class="No-Break">like this:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer036">
<img alt="Figure 6.4 – Ubuntu Netplan configuration file" height="301" src="image/B18575_06_04.jpg" width="514"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.4 – Ubuntu Netplan configuration file</p>
<p>To have your changes take effect, restart networking with the <strong class="source-inline">netplan </strong><span class="No-Break"><strong class="source-inline">apply</strong></span><span class="No-Break"> command.</span></p>
<h1 id="_idParaDest-88"><a id="_idTextAnchor115"/>The dhclient configuration file</h1>
<p>The <strong class="source-inline">dhclient</strong> configuration file<a id="_idIndexMarker314"/> in Linux is located at <strong class="source-inline">/etc/dhcp/dhclient.conf</strong>. This file is used by the <strong class="source-inline">dhclient</strong> program to configure the DHCP client settings on a <span class="No-Break">Linux system.</span></p>
<p>The <strong class="source-inline">dhclient.conf</strong> file contains various configuration options that control how the DHCP client interacts with the DHCP server. Some of the common configuration options that can be set in the <strong class="source-inline">dhclient.conf</strong> file are <span class="No-Break">as follows:</span></p>
<ul>
<li><strong class="bold">Timeout values</strong>: The <strong class="source-inline">dhclient.conf</strong> file allows you to set the timeout values for various DHCP requests. You can set the timeout values for <strong class="source-inline">DHCPDISCOVER</strong>, <strong class="source-inline">DHCPREQUEST</strong>, and <span class="No-Break"><strong class="source-inline">DHCPACK</strong></span><span class="No-Break"> messages.</span></li>
<li><strong class="bold">Lease time</strong>: You can set the length of time that the DHCP client can use an assigned <span class="No-Break">IP address.</span></li>
<li><strong class="bold">DNS servers</strong>: The <strong class="source-inline">dhclient.conf</strong> file allows you to specify the DNS servers that the DHCP client <span class="No-Break">should use.</span></li>
<li><strong class="bold">Hostname</strong>: You can set the hostname that the DHCP client should use when requesting an <span class="No-Break">IP address.</span></li>
<li><strong class="bold">Client identifier</strong>: You can specify the client identifier that the DHCP client should use when communicating with the <span class="No-Break">DHCP server.</span></li>
<li><strong class="bold">Vendor-specific options</strong>: The <strong class="source-inline">dhclient.conf</strong> file also allows you to set vendor-specific options that can be used to configure various <span class="No-Break">network settings.</span></li>
</ul>
<p>It’s important to note that the syntax for the <strong class="source-inline">dhclient.conf</strong> file can vary, depending on the version of dhclient that is being used. It’s always a good idea to consult the documentation for your specific version of <strong class="source-inline">dhclient</strong> to ensure that you are using the <span class="No-Break">correct syntax.</span></p>
<p>Here is what a default <strong class="source-inline">dhclient.conf</strong> file will look like <span class="No-Break">in Ubuntu:</span></p>
<div>
<div class="IMG---Figure" id="_idContainer037">
<img alt="Figure 6.5 – DHCP configuration file" height="1431" src="image/B18575_06_05.jpg" width="1066"/>
</div>
</div>
<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 6.5 – DHCP configuration file</p>
<p>In conclusion, the <strong class="source-inline">dhclient.conf</strong> configuration file plays a crucial role in managing the DHCP client <a id="_idIndexMarker315"/>behavior on a system. By customizing the <strong class="source-inline">dhclient.conf</strong> file, administrators can fine-tune various settings and options to ensure optimal network connectivity and <span class="No-Break">address assignment.</span></p>
<p>Properly configuring <strong class="source-inline">dhclient.conf</strong> can greatly enhance network stability, security, and performance. For example, administrators can prioritize certain DNS servers for faster resolution, enforce specific lease durations to manage IP address allocation efficiently, and set up fallback mechanisms in case the primary DHCP server <span class="No-Break">becomes unavailable.</span></p>
<h1 id="_idParaDest-89"><a id="_idTextAnchor116"/>The sysctl configuration file</h1>
<p>The Linux <strong class="source-inline">sysctl</strong> configuration file<a id="_idIndexMarker316"/> is located at <strong class="source-inline">/etc/sysctl.conf</strong>. This file is used to configure kernel parameters at runtime. The <strong class="source-inline">sysctl.conf</strong> file contains a set of key-value pairs that represent various <span class="No-Break">kernel parameters.</span></p>
<p>The <strong class="source-inline">sysctl.conf</strong> file is divided into sections, where each section contains a set of key-value pairs that correspond to a specific group of kernel parameters. Each key-value pair consists of the name of the kernel parameter, followed by its value. This value can be either a numeric value or <span class="No-Break">a string.</span></p>
<p>Here are some examples of kernel parameters that can be configured using the <span class="No-Break"><strong class="source-inline">sysctl.conf</strong></span><span class="No-Break"> file:</span></p>
<ul>
<li><strong class="source-inline">net.ipv4.ip_forward</strong>: This parameter enables or disables IP forwarding. A value of <strong class="source-inline">1</strong> enables IP forwarding, while a value of <strong class="source-inline">0</strong> <span class="No-Break">disables it.</span></li>
<li><strong class="source-inline">net.ipv4.tcp_syncookies</strong>: This parameter enables or disables TCP SYN cookies. A value of <strong class="source-inline">1</strong> enables TCP SYN cookies, while a value of <strong class="source-inline">0</strong> <span class="No-Break">disables them.</span></li>
<li><strong class="source-inline">kernel.core_pattern</strong>: This parameter specifies the pattern used to name core dump files. The default pattern is <strong class="source-inline">core</strong>, but you can specify a different pattern if <span class="No-Break">you wish.</span></li>
<li><strong class="source-inline">kernel.shmmax</strong>: This parameter specifies the maximum size of a shared memory segment <span class="No-Break">in bytes.</span></li>
<li><strong class="source-inline">vm.swappiness</strong>: This parameter controls the degree to which the kernel swaps out unused memory pages to disk. A higher value means that the kernel will be more aggressive in swapping out memory pages, while a lower value means that the kernel will be <span class="No-Break">less aggressive.</span></li>
</ul>
<p>To apply changes made to the <strong class="source-inline">sysctl.conf</strong> file, you can use the <strong class="source-inline">sysctl</strong> command with the <strong class="source-inline">-p</strong> option, which will load the settings from the file into the kernel. It’s important to note that some kernel parameters can only be set at boot time and cannot be changed at runtime using the <span class="No-Break"><strong class="source-inline">sysctl.conf</strong></span><span class="No-Break"> file.</span></p>
<p>Depending on your <a id="_idIndexMarker317"/>system and kernel, the <strong class="source-inline">sysctl.conf</strong> file might be called or located in the <span class="No-Break">following locations:</span></p>
<ul>
<li><strong class="source-inline">/</strong><span class="No-Break"><strong class="source-inline">etc/sysctl.d/*.conf</strong></span></li>
<li><strong class="source-inline">/</strong><span class="No-Break"><strong class="source-inline">run/sysctl.d/*.conf</strong></span></li>
<li><strong class="source-inline">/</strong><span class="No-Break"><strong class="source-inline">usr/local/lib/sysctl.d/*.conf</strong></span></li>
<li><strong class="source-inline">/</strong><span class="No-Break"><strong class="source-inline">usr/lib/sysctl.d/*.conf</strong></span></li>
<li><strong class="source-inline">/</strong><span class="No-Break"><strong class="source-inline">lib/sysctl.d/*.conf</strong></span></li>
<li><strong class="source-inline">/</strong><span class="No-Break"><strong class="source-inline">etc/sysctl.conf</strong></span></li>
</ul>
<p>Linux will often try to read those files in that order. The remaining files with the same name in other folders are ignored the first time it discovers a genuine file with <span class="No-Break">valid entries.</span></p>
<p>If you don’t know what you’re doing, then playing around with the <strong class="source-inline">etc/sysctl.conf</strong> file could have serious consequences. You can observe which commands and files the OS tries to load and in what order by running the <strong class="source-inline">sysctl</strong><strong class="source-inline">--</strong><strong class="source-inline">system</strong> command. However, use this command with caution. This command will actively load and conduct operations on your OS because it is not a dry-run command, and you run the risk of misconfiguring your settings if you’re unsure if it should <span class="No-Break">do that.</span></p>
<h1 id="_idParaDest-90"><a id="_idTextAnchor117"/>Summary</h1>
<p>In conclusion, Linux provides a vast array of configuration settings that can be used to tailor the system to specific needs. Understanding how to configure basic system settings such as system time, hostname, user and group settings, network settings, security settings, and performance settings can help improve system performance, security, and usability. By customizing these settings, users can create a Linux system that meets their specific requirements and enhances <span class="No-Break">their productivity.</span></p>
<p>In the next chapter, we will talk about user and <span class="No-Break">group management.</span></p>
</div>
</div></body></html>