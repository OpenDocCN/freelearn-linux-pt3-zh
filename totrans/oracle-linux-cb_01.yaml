- en: '1'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '1'
- en: Oracle Linux 8 – Get It? Got It? Good!
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Oracle Linux 8 – 获取了吗？搞定了吗？好！
- en: You finally made the choice to upgrade to the most secure and reliable free
    Linux distribution and now need to learn a few tricks. What’s next? How do you
    get started? It’s time to go back to the basics and answer the question *How do
    you install* *Oracle Linux?*
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 你终于决定升级到最安全、最可靠的免费 Linux 发行版，现在需要学会一些技巧。接下来该做什么？如何开始？是时候回归基础，回答这个问题了：*如何安装*
    *Oracle Linux？*
- en: Back in the old days, installing a Linux distribution was a simple task; you
    simply ordered a CD-ROM, popped it into your computer, and booted from the disk.
    *Simple*… *effective*… and a *pain* for many system administrators. Who wants
    to order a CD-ROM, or for that matter, who even uses CD-ROMs or DVDs, or even
    Blu-ray disks, anymore? Do you even need media? Can’t you just boot from the network
    to install? To make it more complicated, what happens when you are in the cloud?
    Doesn’t the cloud do it all for you? What about the CPU type, such as Arm or x86?
    How can you automate things?
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在过去，安装 Linux 发行版是一件简单的事；你只需订购一个 CD-ROM，将其放入电脑并从磁盘启动。*简单*……*有效*……对许多系统管理员来说却是个*痛苦*。谁还想订购一个
    CD-ROM，或者说，谁还在使用 CD-ROM、DVD 或 Blu-ray 光盘？你甚至需要介质吗？难道不能直接从网络启动来进行安装吗？更复杂的是，当你在云环境中时该怎么办？云不都是帮你做这一切吗？那么
    CPU 类型呢，比如 Arm 或 x86？你如何自动化这些过程？
- en: We also need to consider that there is more than just x86-64, with Arm becoming
    more and more popular due to its advantages. What about older systems; do you
    have to install Oracle Linux 8 from scratch, or can you just upgrade an Oracle
    Linux 7 system? Speaking of upgrades, what about RHEL and CentOS system? Can they
    be migrated to Oracle Linux? After all, they are both Fedora-based, just like
    Oracle Linux.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还需要考虑到不仅仅是 x86-64 架构，随着 Arm 架构因其优势越来越受欢迎，它也逐渐成为一个重要选择。那么，旧系统怎么办？是否必须从零开始安装
    Oracle Linux 8，还是可以直接升级 Oracle Linux 7 系统？说到升级，RHEL 和 CentOS 系统怎么办？它们能迁移到 Oracle
    Linux 吗？毕竟它们都是基于 Fedora，就像 Oracle Linux 一样。
- en: This chapter will provide insights into these questions and help you learn a
    few tricks to automate installing Oracle Linux, as well as some helpful troubleshooting
    tips if the installation does not go as planned.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将解答这些问题，并帮助你学习一些自动化安装 Oracle Linux 的技巧，以及如果安装过程中出现问题，如何进行故障排除。
- en: 'We will cover the following main recipes in this chapter:'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 本章将涵盖以下主要内容：
- en: Oracle Linux 8 – which ISO is right? USB? Does anyone use DVDs?
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Oracle Linux 8 – 哪个 ISO 版本适合？USB 吗？还有人用 DVD 吗？
- en: Burning an ISO so it’s bootable
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 烧录一个可引导的 ISO
- en: Two for the price of one – running Oracle Linux on **Windows Subsystem for**
    **Linux** (**WSL**)
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一举两得 – 在 **Windows 子系统** 上运行 **Linux** (**WSL**)
- en: Arm'ing for the future of IT – it’s not just a slice of Raspberry Pi
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 为 IT 的未来做好准备 – 它不仅仅是一个 Raspberry Pi 的小切片
- en: Leapping from Oracle Linux 7 to 8
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 Oracle Linux 7 升级到 8
- en: Migrating from CentOS to Oracle Linux
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 CentOS 迁移到 Oracle Linux
- en: Technical requirements
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 技术要求
- en: The related configuration files for many of the recipes in this book are available
    on GitHub, at [https://github.com/PacktPublishing/Oracle-Linux-Cookbook](https://github.com/PacktPublishing/Oracle-Linux-Cookbook).
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中许多食谱相关的配置文件可在 GitHub 上找到，链接：[https://github.com/PacktPublishing/Oracle-Linux-Cookbook](https://github.com/PacktPublishing/Oracle-Linux-Cookbook)。
- en: Oracle Linux 8 – which ISO is right? USB? Does anyone use DVDs?
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Oracle Linux 8 – 哪个 ISO 版本适合？USB 吗？还有人用 DVD 吗？
- en: Before we start anything else, let’s look at installing Oracle Linux.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们开始其他内容之前，先来看看如何安装 Oracle Linux。
- en: Getting ready
  id: totrans-17
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: When installing Oracle Linux, you must first decide how to do the installation.
    There are a variety of options, from booting a new computer to an installable
    image, cloning a drive from another system, or even booting from the network.
    For all of these options, you need to have the right media. Trying to install
    using the source code **Red Hat Package Manager** (**RPM**) or the wrong CPU architecture
    is not going to cut it. Before you download anything, you will need internet access
    and enough free disk space to save the ISO file. Usually, at least 10 GB is recommended
    to download the ISO. Additional space will also be needed if you are going to
    use Oracle VM VirtualBox to run VMs based on the ISO. It’s common to allocate
    100 GB or more per VM, as this allows you to quickly grow a filesystem without
    having to add another disk to the volume group. That being said, 50 GB is the
    default for Oracle’s cloud images and can work for many users. In the cloud, the
    advantage of using a smaller disk is reduced costs, as the smaller disk equates
    to lower expenses.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 安装 Oracle Linux 时，您必须首先决定如何进行安装。您可以选择多种方式，从启动新计算机并使用可安装映像、克隆来自其他系统的硬盘，甚至通过网络启动。所有这些选项都需要正确的介质。如果您尝试使用源代码**Red
    Hat 包管理器**（**RPM**）或错误的 CPU 架构进行安装，结果是不可行的。在下载任何内容之前，您需要有互联网连接，并确保有足够的空闲磁盘空间来保存
    ISO 文件。通常，建议至少预留 10 GB 的空间来下载 ISO 文件。如果您打算使用 Oracle VM VirtualBox 来运行基于 ISO 的虚拟机，还需要额外的空间。通常，为每个虚拟机分配
    100 GB 或更多空间，因为这样可以让文件系统快速扩展，而无需向卷组中添加另一块磁盘。也就是说，50 GB 是 Oracle 云镜像的默认设置，适合许多用户。在云环境中，使用较小磁盘的优势是降低成本，因为较小的磁盘意味着较低的费用。
- en: Note
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: RPM is also defined as RPM Package Manager, but that’s recursive and confusing
    to many folks.
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: RPM 也定义为 RPM 包管理器，但这对于许多人来说是递归的，并且可能引起混淆。
- en: How to do it…
  id: totrans-21
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: You also need to understand the hardware you are using for the installation.
    Burning an ISO to a DVD (or other optical formats) might be great for older systems
    that have these drives, but modern systems more often than not install via USB
    boot. Enterprise-grade servers take this to an even higher level, enabling you
    to boot from an ISO file mounted over the network or virtual console. You can
    also boot most systems from a **Preboot eXecution Environment** (**PXE**) server,
    for a more automated network-based installation. The choice of what method you
    use is really based on your hardware, and then how much automation you need.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 您还需要了解您用于安装的硬件。将 ISO 刻录到 DVD（或其他光盘格式）可能适用于旧系统，这些系统配有光驱，但现代系统通常通过 USB 启动进行安装。企业级服务器将这一点提升到了一个更高的层次，允许您从网络挂载的
    ISO 文件或虚拟控制台启动。您还可以通过**预启动执行环境**（**PXE**）服务器启动大多数系统，从而实现更自动化的基于网络的安装。选择哪种方法取决于您的硬件，然后是您需要多少自动化。
- en: Note
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Be careful of the automation trap. Often, you can spend significantly more time
    automating an installation than doing it by hand. In smaller environments, while
    automation is nice, it can take significantly more time to build and maintain
    the automation compared to doing 3-4 manual builds a year.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 小心自动化陷阱。通常，您花费的时间来自动化安装可能比手动安装还要长。在较小的环境中，虽然自动化很方便，但相比于每年做 3-4 次手动安装，构建和维护自动化系统可能需要花费更多的时间。
- en: Note
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Though disk images are commonly called an ISO, the actual format of the ISO
    file is ISO 9660 Joliet, which is a format for optical disk media. **ISO** is
    actually an acronym for the **International Organization for Standardization**
    ([https://www.iso.org/home.html](https://www.iso.org/home.html)). The ISO organization
    was formed in 1947 and has standards for everything from quality management (ISO
    9001) to food safety (ISO 22000).
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然磁盘映像通常称为 ISO，但 ISO 文件的实际格式是 ISO 9660 Joliet，这是一种用于光盘介质的格式。**ISO** 实际上是**国际标准化组织**（[https://www.iso.org/home.html](https://www.iso.org/home.html)）的缩写。ISO
    组织成立于 1947 年，制定了从质量管理（ISO 9001）到食品安全（ISO 22000）等各方面的标准。
- en: The easiest way to get the media is to download the ISO files from [https://yum.oracle.com/oracle-linux-isos.html](https://yum.oracle.com/oracle-linux-isos.html).
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 获取介质的最简单方法是从 [https://yum.oracle.com/oracle-linux-isos.html](https://yum.oracle.com/oracle-linux-isos.html)
    下载 ISO 文件。
- en: 'On the site, there are four types of ISOs:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在该网站上，有四种类型的 ISO 文件：
- en: '**Full ISO**: This is the full installation for Oracle Linux. The ISO file
    contains everything needed to install Oracle Linux and is bootable. You can boot
    a system with this ISO by burning the file to a USB stick, or even a DVD. Also,
    on many servers, you can boot a system by virtually mounting the ISO via the lights-out
    management software. There are many types of remote control options on systems,
    including the generic **Intelligent Platform Management Interface** (**IPMI**),
    which has basic functionality, and the open source **Baseboard Management Controller**
    (**BMC**), which adds additional features. Most major hardware vendors also offer
    specific technologies, such as Oracle **Integrated Lights Out Manager** (**ILOM**),
    Dell’s **integrated Dell Remote Access Controller** (**iDRAC**), and HP’s **Integrated
    Lights** **Out** (**ILO**).'
  id: totrans-29
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**完整 ISO**：这是 Oracle Linux 的完整安装包。ISO 文件包含了安装 Oracle Linux 所需的所有文件，并且是可引导的。你可以通过将文件刻录到
    USB 闪存盘或 DVD 上来引导系统。在许多服务器上，你还可以通过远程管理软件虚拟挂载 ISO 来引导系统。系统上有多种远程控制选项，包括通用的 **智能平台管理接口**
    (**IPMI**)，其具有基本功能，以及开源的 **基板管理控制器** (**BMC**)，该控制器提供了额外的功能。大多数主要硬件供应商还提供特定技术，例如
    Oracle 的 **集成灯管理器** (**ILOM**)、Dell 的 **集成远程访问控制器** (**iDRAC**)，以及 HP 的 **集成灯管理**
    (**ILO**).'
- en: '**Boot ISO**: This ISO is bootable using the Red Hat-compatible kernel for
    the installation process. It does not include all the files required to install.
    While this is a much smaller file, you will need the remainder of the installed
    RPM on your network or a local device. You can access the files via HTTP, enabling
    sourcing the files from [https://yum.oracle.com/](https://yum.oracle.com/) or
    a local HTTP server on your network.'
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**启动 ISO**：这个 ISO 使用 Red Hat 兼容内核进行引导，以便进行安装过程。它不包含所有安装所需的文件。虽然文件更小，但你需要通过网络或本地设备来获取其余的安装
    RPM 文件。你可以通过 HTTP 访问这些文件，从 [https://yum.oracle.com/](https://yum.oracle.com/)
    或本地 HTTP 服务器上获取文件。'
- en: Note
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: The **Unbreakable Enterprise Kernel** (**UEK**) for Oracle Linux has many advantages,
    such as enabling the BTFS filesystem for root, or a more modern kernel that matches
    the mainstream Linux kernel and includes better support for modern devices.
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: '**不可破坏企业内核** (**UEK**) for Oracle Linux 有许多优点，例如为根目录启用 BTFS 文件系统，或使用与主流 Linux
    内核匹配的更现代的内核，并包括对现代设备的更好支持。'
- en: '**UEK boot ISO**: This ISO is bootable to the more modern UEK, but just like
    the boot ISO, it does not include all the files required to install. Installing
    using the more modern UEK is helpful, especially on systems that can’t install
    correctly on the older **Red Hat-Compatible Kernel** (**RHCK**). While this is
    a much smaller file, you will need the remainder of the installed RPMs on your
    network. UEK the only option for installation on the Arm architecture.'
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**UEK 启动 ISO**：这个 ISO 可引导到更新版的 UEK，但和启动 ISO 一样，它不包含安装所需的所有文件。使用更新版的 UEK 进行安装尤其对那些无法在旧版
    **Red Hat 兼容内核** (**RHCK**) 上正确安装的系统有帮助。虽然这个文件更小，但你仍然需要通过网络获取其余的安装 RPM。UEK 是唯一可以在
    Arm 架构上进行安装的选项。'
- en: '**Source ISO**: This ISO is *not* bootable, but it’s helpful as it contains
    all the source RPMs, enabling you to audit the source code.'
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**源 ISO**：这个 ISO 不是可引导的，但它很有用，因为它包含了所有的源 RPM，可以帮助你审计源代码。'
- en: Note
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: With both boot ISO options, the media must be available on the network on an
    FTP server, an HTTP/HTTPS server, or an NFS server.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 对于这两种启动 ISO 选项，介质必须通过网络提供，支持 FTP 服务器、HTTP/HTTPS 服务器或 NFS 服务器。
- en: 'Additionally, there are two CPU families available. Make sure you pick the
    correct architecture for the installation. Let’s look at what they are:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，有两种 CPU 架构可供选择。请确保为安装选择正确的架构。让我们来看看它们：
- en: '**x86_64**: This is the most common architecture and is used on most Intel
    and AMD systems. This includes Intel X-series processors and the i9, i7, i5, and
    i3 processors. For AMD systems, this includes the AMD EPYC processors, Ryzen processors,
    and the Athlon line. This is the most common option, but it’s being challenged
    in the industry by the Arm option. The full list of options from the download
    site for x86 can be seen in the following figure:'
  id: totrans-38
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**x86_64**：这是最常见的架构，广泛用于大多数 Intel 和 AMD 系统。包括 Intel X 系列处理器，以及 i9、i7、i5 和 i3
    处理器。对于 AMD 系统，这包括 AMD EPYC 处理器、Ryzen 处理器以及 Athlon 系列处理器。虽然这是最常见的选项，但它在行业中正受到 Arm
    架构的挑战。从下载站点查看 x86 的完整选项列表，可以参考以下图示：'
- en: '![Figure 1.1 – x86_64 ISOs](img/B18349_01_01.jpg)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.1 – x86_64 ISO](img/B18349_01_01.jpg)'
- en: Figure 1.1 – x86_64 ISOs
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.1 – x86_64 ISO
- en: '**AArch64**: This is what you need when using Oracle Linux on Arm servers,
    such as Raspberry Pi, or Ampere’s high-performance *cloud-native processor* CPUs.
    A cloud-native processor is a term for a CPU specifically designed for running
    cloud-native applications, optimized for lower power consumption with a more scalable
    architecture.'
  id: totrans-41
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**AArch64**：这是在使用 Oracle Linux 运行 Arm 服务器时所需要的，例如 Raspberry Pi 或 Ampere 的高性能*云原生处理器*
    CPU。云原生处理器是专门为运行云原生应用程序设计的 CPU，优化了更低的功耗，并具有更可扩展的架构。'
- en: 'Running Oracle Linux on Arm is a very interesting option, as the application
    building blocks such as Java, Apache, Python, and Podman run using the same software
    versions that the x86 architectures use. All of these building blocks run almost
    identically to how they do on the x86 architecture, making the switch to Arm using
    Oracle Linux really easy for the applications. The advantage of Arm is it runs
    at a lower cost and higher density, offering a very attractive cost/performance
    story, enabling organizations to easily lower costs while improving performance.
    The currently available matrix of options for downloading Arm ISOs from the download
    site can be found in the following figure:'
  id: totrans-42
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 在 Arm 上运行 Oracle Linux 是一个非常有趣的选择，因为诸如 Java、Apache、Python 和 Podman 等应用构建块使用与
    x86 架构相同的软件版本运行。所有这些构建块的运行几乎与它们在 x86 架构上的运行方式完全相同，这使得通过 Oracle Linux 切换到 Arm 对应用程序来说非常容易。Arm
    的优势在于其运行成本较低，密度更高，提供了非常有吸引力的性价比故事，使得组织能够轻松降低成本同时提高性能。从下载网站下载 Arm ISO 的当前可用选项矩阵可以在下图中找到：
- en: '![Figure 1.2 – Arm ISOs](img/B18349_01_02.jpg)'
  id: totrans-43
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.2 – Arm ISOs](img/B18349_01_02.jpg)'
- en: Figure 1.2 – Arm ISOs
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.2 – Arm ISOs
- en: Once we understand the platform, we also need to make another decision as to
    what version to use. Sometimes you may be able to download older versions and
    you may want to verify that the release will be supported. At the time of writing,
    while release 6 can be downloaded, support is available if you have purchased
    *Extended Support*, which is only available until June 2024.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们理解了平台，我们还需要做出另一个决策，选择使用哪个版本。有时你可能能够下载旧版本，并且你可能需要验证该版本是否会得到支持。在撰写本文时，虽然可以下载
    6 版本，但如果你购买了*扩展支持*，则该版本会得到支持，该支持仅持续到 2024 年 6 月。
- en: Note
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Extended Support from Oracle allows you to pay a fee in order to get support,
    including patches and fixes for critical security issues and select high-impact
    critical bugs. This support does not cover all RPMs. Given this, you may want
    to reconsider downloading and using older versions of Linux and avoid delaying
    upgrading the OS past the point of it being generally available. The value of
    Extended Support is that it can give you additional time to upgrade applications
    that require older versions of Oracle Linux.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: Oracle 的扩展支持允许你支付费用以获得支持，包括对关键安全问题的修补程序和修复方案以及一些高影响的关键错误的修复。此支持并不涵盖所有 RPM。鉴于此，你可能需要重新考虑下载和使用旧版本的
    Linux，并避免延迟操作系统的升级，直到它不再普遍可用。扩展支持的价值在于，它可以为你提供额外的时间来升级那些需要旧版 Oracle Linux 的应用程序。
- en: Before you pick a release, check with your application team to verify the version
    is supported. There are differences between the major number (7 versus 8, etc.)
    and some software may not be available on all major release numbers. An example
    is **Oracle Linux Automation Manager** (this gives you centralized Ansible control,
    based on the AWX project, and is almost identical to Ansible Tower from Red Hat),
    which requires Oracle Linux 8\. Another example is Oracle Linux Manager (aka Spacewalk),
    which requires Oracle Linux 7 for the server.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 在选择发布版本之前，请与你的应用团队核实该版本是否受到支持。不同的主要版本号（如 7 与 8 等）之间存在差异，一些软件可能不会在所有主版本号上提供。例如，**Oracle
    Linux 自动化管理器**（这是基于 AWX 项目的 Ansible 集中控制，几乎与 Red Hat 的 Ansible Tower 相同），需要 Oracle
    Linux 8 版本。另一个例子是 Oracle Linux 管理器（也叫 Spacewalk），需要 Oracle Linux 7 版本作为服务器。
- en: Note
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: Since Oracle Linux tracks Red Hat Enterprise Linux, the major and minor numbers
    are identical. Oracle Linux 7.10 is the same as Red Hat Enterprise Linux 7.10.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 由于 Oracle Linux 跟踪 Red Hat Enterprise Linux，因此主版本号和次版本号是相同的。Oracle Linux 7.10
    与 Red Hat Enterprise Linux 7.10 是一样的。
- en: Burning an ISO so it’s bootable
  id: totrans-51
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 刻录一个可启动的 ISO
- en: Once you have the ISO downloaded, you may need to do some additional preparations.
    If you are installing using a USB device, simply copying the file to a flash drive
    will not work, as the ISO is not actually unpacked on the media. If the ISO is
    not correctly unpacked and the media is not made bootable, you will be unable
    to boot and install from the media. The process of burning the ISO file to media
    correctly unpacks the media into individual files and directories as well as making
    the media bootable. If this is not done, all the media will have is a copy of
    the single ISO file.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你下载了 ISO 文件，可能还需要进行一些额外的准备。如果你使用 USB 设备安装，单纯将文件复制到闪存驱动器上是行不通的，因为 ISO 文件实际上并没有被解压到媒体上。如果
    ISO 文件没有正确解压，且媒体没有被设置为可启动，你将无法从该媒体启动并进行安装。将 ISO 文件正确写入媒体的过程会将媒体解压成单独的文件和目录，并使媒体变得可启动。如果没有这样做，媒体上只会有一个
    ISO 文件的副本。
- en: There are several tools available to do this. With most systems no longer using
    optical media, the most common way is to boot a server from a flash drive or a
    virtual disk.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 有多种工具可以用来完成此任务。随着大多数系统不再使用光盘介质，最常见的方式是从闪存驱动器或虚拟磁盘启动服务器。
- en: Getting ready
  id: totrans-54
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Before you start, you will first need to download an ISO image. You also will
    need a USB flash drive, ideally with more than 16 GB of space. As the distro grows,
    8 GB drives are no longer large enough for a full media installation ISO.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始之前，你首先需要下载一个 ISO 镜像。你还需要一个 USB 闪存驱动器，理想情况下其空间大于 16 GB。随着发行版的增大，8 GB 的驱动器已不再足够用于完整的媒体安装
    ISO。
- en: How to do it…
  id: totrans-56
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'Before you can boot from a flash drive, you must first burn the ISO file to
    the flash drive. In Windows systems, a commonly used free tool is **balenaEtcher**,
    which can be downloaded from [https://www.balena.io/etcher/](https://www.balena.io/etcher/).
    Take the following steps:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 在你可以从闪存驱动器启动之前，必须先将 ISO 文件写入闪存驱动器。在 Windows 系统中，一种常用的免费工具是**balenaEtcher**，可以从[https://www.balena.io/etcher/](https://www.balena.io/etcher/)下载。按照以下步骤操作：
- en: Once **Etcher** is installed, you will need to run it (make sure you right-click
    on it and run it as an administrator) and select the image file as the source
    and the flash drive as the destination.
  id: totrans-58
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦安装了**Etcher**，你需要运行它（确保右键点击并以管理员身份运行），然后选择镜像文件作为源，选择闪存驱动器作为目标。
- en: 'In the following screenshot, the source is the **Oracle Linux 8.7 ISO** for
    **x64**, and the destination is a flash drive:'
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在以下截图中，源是用于**x64**的**Oracle Linux 8.7 ISO**，目标是闪存驱动器：
- en: '![Figure 1.3 – Selecting the source and destination with Etcher](img/B18349_01_03.jpg)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.3 – 使用 Etcher 选择源和目标](img/B18349_01_03.jpg)'
- en: Figure 1.3 – Selecting the source and destination with Etcher
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.3 – 使用 Etcher 选择源和目标
- en: 'Etcher can automatically work with the compressed file, so in a few minutes
    (as seen in the following screenshot), you should have a flash drive with the
    image installed and ready to boot:'
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Etcher 可以自动处理压缩文件，因此在几分钟内（如以下截图所示），你应该可以得到一只已安装镜像并准备启动的闪存驱动器：
- en: '![Figure 1.4 – balenaEtcher burning an ISO](img/B18349_01_04.jpg)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.4 – balenaEtcher 写入 ISO](img/B18349_01_04.jpg)'
- en: Figure 1.4 – balenaEtcher burning an ISO
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.4 – balenaEtcher 写入 ISO
- en: Note
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: When using flash devices , be careful of discount brands. Often, off-brand cards
    can have significantly slower performance than name-brand cards. Also, when buying
    online, be careful of fake cards. Always buy flash devices from reputable vendors.
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用闪存设备时，要小心低价品牌。通常，非品牌的卡片性能可能比品牌卡要慢得多。另外，在网上购买时，要注意防止购买到假卡。始终从可信的供应商那里购买闪存设备。
- en: How it works…
  id: totrans-67
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理…
- en: Once you have the ISO file burned to a USB device, you can boot a server from
    the media. How you can boot from a USB device is based on the make and model of
    the system. Arm x86 systems have a setting in their **basic input/output system**
    (**BIOS**) that will allow you to boot from the freshly burned media. Arm systems
    usually use the **Unified Extensible Firmware Interface** (**UEFI**) firmware
    to boot from an ISO or USB stick.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你将 ISO 文件写入 USB 设备，就可以从该媒体启动服务器。如何从 USB 设备启动取决于系统的品牌和型号。Arm x86 系统在其**基本输入/输出系统**（**BIOS**）中有一个设置，允许你从新写入的媒体启动。Arm
    系统通常使用**统一可扩展固件接口**（**UEFI**）固件从 ISO 或 USB 设备启动。
- en: One of the most common ways to install Oracle Linux on a server is to boot straight
    from the ISO file. Enterprise-grade servers, such as Ampere Arm systems, can allow
    you to boot from the ISO file by mounting the ISO as a virtual drive. Additionally,
    you can boot using a network boot technology called PXE, which is pronounced *pixie*.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 安装 Oracle Linux 到服务器上的最常见方法之一是直接从 ISO 文件启动。企业级服务器，例如 Ampere Arm 系统，可以通过将 ISO
    文件挂载为虚拟驱动器来支持从 ISO 文件启动。此外，你还可以使用一种名为 PXE 的网络启动技术来启动，PXE 发音为*pixie*。
- en: Two for the price of one – running Oracle Linux on Windows Subsystem for Linux
    (WSL)
  id: totrans-70
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 一石二鸟 – 在 Windows 子系统 Linux（WSL）上运行 Oracle Linux
- en: There is one last way to install Oracle Linux on Microsoft Windows desktops,
    with WSL.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 还有一种方法可以在 Microsoft Windows 桌面上安装 Oracle Linux，使用 WSL。
- en: WSL lets you easily install Oracle Linux directly on Windows without the need
    to install a traditional VM such as VirtualBox. WSL includes an integrated VM,
    preconfigured for Windows, hiding the hypervisor from the user. WSL also has the
    advantage of enabling Linux commands straight from Windows, including Linux services
    such as Apache, MySQL, SSHD, Nginx, and PostgreSQL.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: WSL 使你可以轻松在 Windows 上直接安装 Oracle Linux，无需安装传统的虚拟机（如 VirtualBox）。WSL 包含一个集成的虚拟机，已为
    Windows 预先配置，用户看不到虚拟化程序。WSL 还具有一个优点，即允许你直接从 Windows 执行 Linux 命令，包括 Linux 服务，如
    Apache、MySQL、SSHD、Nginx 和 PostgreSQL。
- en: Getting ready
  id: totrans-73
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Before you start, you will need a Windows 10 or Windows 11 system with internet
    access. You will also need local admin privileges on the system. This is not a
    difficult recipe and is well worth the time.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始之前，你需要一个可以连接互联网的 Windows 10 或 Windows 11 系统，并且你需要具有本地管理员权限。这不是一个复杂的步骤，非常值得花时间进行操作。
- en: How to do it…
  id: totrans-75
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'Installing WSL is fairly straightforward. You will need to take the following
    steps:'
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 安装 WSL 相对简单。你需要执行以下步骤：
- en: 'Start Command Prompt as an administrator. Don’t forget to right-click on **Command
    Prompt** to run this as an administrator, as shown in the following screenshot:'
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以管理员身份启动命令提示符。别忘了右键点击**命令提示符**，以管理员身份运行，如下图所示：
- en: '![Figure 1.5 – Running Command Prompt as an administrator](img/B18349_01_05.jpg)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.5 – 以管理员身份运行命令提示符](img/B18349_01_05.jpg)'
- en: Figure 1.5 – Running Command Prompt as an administrator
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.5 – 以管理员身份运行命令提示符
- en: Note
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: While these instructions are for WSL, please note that it’s really covering
    **WSL2**. There was an earlier release of WSL, also known as **WSL1**, that works
    slightly differently and is no longer used or deployed. Older versions of WSL
    should normally be avoided. This also goes for the OS version; use the latest
    8.X version when possible.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然这些说明是针对 WSL 的，但请注意，它实际上是覆盖**WSL2**。之前有一个早期版本的 WSL，也称为**WSL1**，其工作方式略有不同，且不再使用或部署。通常应该避免使用旧版本的
    WSL。操作系统版本也应如此；尽可能使用最新的 8.X 版本。
- en: From Command Prompt, run the `wsl.exe –install` command. This will start several
    tasks off, including installing the Microsoft VM platform that enables WSL under
    the covers, installing the WSL subsystem itself, and installing an Ubuntu Linux
    distro.
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从命令提示符运行 `wsl.exe –install` 命令。此操作将启动几个任务，包括安装启用 WSL 的 Microsoft VM 平台、安装 WSL
    子系统本身以及安装 Ubuntu Linux 发行版。
- en: 'Once the installation is complete, as seen in the following screenshot, Windows
    will need to be rebooted:'
  id: totrans-83
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 安装完成后，如下图所示，Windows 需要重启：
- en: '![Figure 1.6 – WSL installation](img/B18349_01_06.jpg)'
  id: totrans-84
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.6 – WSL 安装](img/B18349_01_06.jpg)'
- en: Figure 1.6 – WSL installation
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.6 – WSL 安装
- en: 'Once your system is backed up, we will install Oracle Linux 8.5 as the Linux
    OS used by WSL. To do this, start the `Oracle Linux` in the search bar:'
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在备份好系统之后，我们将安装 Oracle Linux 8.5 作为 WSL 使用的 Linux 操作系统。为此，在搜索栏中启动 `Oracle Linux`：
- en: '![Figure 1.7 – Microsoft Store searching for Oracle Linux 8.5](img/B18349_01_07.jpg)'
  id: totrans-87
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.7 – Microsoft Store 搜索 Oracle Linux 8.5](img/B18349_01_07.jpg)'
- en: Figure 1.7 – Microsoft Store searching for Oracle Linux 8.5
  id: totrans-88
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.7 – Microsoft Store 搜索 Oracle Linux 8.5
- en: 'In the search results, select the **Oracle Linux 8.5** app. This will take
    you to the screen where you can download and install Oracle Linux 8.5 under WSL:'
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在搜索结果中，选择**Oracle Linux 8.5**应用程序。这将带你进入一个可以在 WSL 下下载并安装 Oracle Linux 8.5 的页面：
- en: '![Figure 1.8 – Oracle Linux 8.5 in the Microsoft Store](img/B18349_01_08.jpg)'
  id: totrans-90
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.8 – 在 Microsoft Store 中的 Oracle Linux 8.5](img/B18349_01_08.jpg)'
- en: Figure 1.8 – Oracle Linux 8.5 in the Microsoft Store
  id: totrans-91
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.8 – 在 Microsoft Store 中的 Oracle Linux 8.5
- en: 'Click on the `Oracle Linux`. This not only finds the subsystem but also gives
    you the option to pin the subsystem to your taskbar or Start menu, as shown in
    the following screenshot:'
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 `Oracle Linux`。这不仅会找到子系统，还会给你一个选项，将子系统固定到任务栏或开始菜单中，如下图所示：
- en: '![Figure 1.9 – Oracle Linux 8.5 subsystem app options](img/B18349_01_09.jpg)'
  id: totrans-93
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.9 – Oracle Linux 8.5 子系统应用选项](img/B18349_01_09.jpg)'
- en: Figure 1.9 – Oracle Linux 8.5 subsystem app options
  id: totrans-94
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.9 – Oracle Linux 8.5 子系统应用选项
- en: 'When you run the WSL subsystem, it works almost identically to any other Oracle
    Linux 8.5 system. You can easily run Oracle Linux commands under Windows now.
    This includes checking storage capacity, using `dnf` to install programs, editing
    files, and SSHing to other hosts:'
  id: totrans-95
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当你运行 WSL 子系统时，它几乎与其他任何 Oracle Linux 8.5 系统一样工作。现在你可以轻松地在 Windows 下运行 Oracle
    Linux 命令。这包括检查存储容量，使用 `dnf` 安装程序，编辑文件，以及通过 SSH 连接到其他主机：
- en: '![Figure 1.10 – WLS OS commands](img/B18349_01_10.jpg)'
  id: totrans-96
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.10 – WLS 操作系统命令](img/B18349_01_10.jpg)'
- en: Figure 1.10 – WLS OS commands
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.10 – WLS 操作系统命令
- en: 'You can also install new software with `dnf`. An example of installing `nmap`
    is shown in the following figure:'
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以使用 `dnf` 安装新软件。以下图展示了安装 `nmap` 的示例：
- en: '![Figure 1.11 – WSL installing nmap with dnf](img/B18349_01_11.jpg)'
  id: totrans-99
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.11 – 使用 dnf 安装 nmap 的 WSL](img/B18349_01_11.jpg)'
- en: Figure 1.11 – WSL installing nmap with dnf
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.11 – 使用 dnf 安装 nmap 的 WSL
- en: 'You can also access your Windows drives from WLS. They will each be presented
    under the `/mtn/DRIVE` location, where the `C:` drive is `/mnt/c`. The Windows
    system can also access the Linux directory under the `\\``wsl$\OracleLinux_8_5`
    path:'
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 你还可以通过 WLS 访问 Windows 驱动器。它们将分别以 `/mtn/DRIVE` 位置呈现，其中 `C:` 驱动器是 `/mnt/c`。Windows
    系统也可以通过 `\\wsl$\OracleLinux_8_5` 路径访问 Linux 目录：
- en: '![Figure 1.12 – Windows File Explorer and WSL](img/B18349_01_12.jpg)'
  id: totrans-102
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.12 – Windows 文件资源管理器与 WSL](img/B18349_01_12.jpg)'
- en: Figure 1.12 – Windows File Explorer and WSL
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.12 – Windows 文件资源管理器与 WSL
- en: Caution
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 小心
- en: As a note of caution, be careful when you’re editing files. Windows and Linux
    format text differently, and you can easily accidentally corrupt files if you
    are not careful. It is recommended that Windows files are stored and accessed
    using Windows, and Linux files are edited and stored on the WSL image.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 提醒注意，在编辑文件时要小心。Windows 和 Linux 在文本格式上有所不同，如果不小心，很容易损坏文件。建议使用 Windows 存储和访问 Windows
    文件，使用 WSL 映像编辑和存储 Linux 文件。
- en: Running Oracle 8.5 as a Windows subsystem is a great tool for system administrators
    and developers. Its integration with Windows makes for a quick and easy installation
    while enabling transparent access to a Linux system on your personal system.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 将 Oracle 8.5 作为 Windows 子系统运行是系统管理员和开发人员的一个非常棒的工具。它与 Windows 的集成使得安装变得快速简便，同时还允许在个人系统上透明地访问
    Linux 系统。
- en: Arm'ing for the future of IT – it’s not just a slice of Raspberry Pi
  id: totrans-107
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为 IT 的未来做准备——这不仅仅是一片树莓派
- en: First, let’s chat about Oracle Linux on **advanced RISC machines**, more commonly
    known as Arm CPUs. This newer architecture has many advantages over the older
    x86_64 architecture that Intel and AMD use. This includes lower power consumption;
    lower latency, enabling better performance; and a simplified architecture that
    enables higher-density systems. Leveraging Oracle Linux on an Arm system is a
    popular option for both cloud-scale operators such as Oracle and Microsoft as
    well as smaller organizations that are looking at reducing their compute power
    and cooling needs.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，让我们聊一聊 **高级 RISC 机器**（更常见的叫法是 Arm CPU）上的 Oracle Linux。这种较新的架构相比于 Intel 和
    AMD 使用的较老的 x86_64 架构有许多优点，包括更低的功耗；更低的延迟，提供更好的性能；以及简化的架构，支持更高密度的系统。在 Arm 系统上利用
    Oracle Linux 已经成为 Oracle 和 Microsoft 等云规模运营商，以及那些希望降低计算能力和冷却需求的小型组织的热门选择。
- en: Having a single *enterprise OS* on all Linux systems has several advantages,
    such as using the same tools across all servers and access to the same commercial
    support for your systems. The use cases for Arm in your inventory of servers are
    also interesting. As a whole, Arm processors offer a lower cost due to their higher
    *potential* core density and lower *power consumption*. In the enterprise space,
    **Ampere** dominates and offers Arm processors with as many as 128 cores on a
    single chip in a single **rack unit** (**RU**) of space.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 在所有 Linux 系统上使用单一的 *企业操作系统* 有几个优点，例如可以在所有服务器上使用相同的工具，并且可以获得相同的商业支持。对于你的服务器库存中的
    Arm 用例也很有趣。总体而言，Arm 处理器由于其更高的 *潜在* 核心密度和更低的 *功耗*，提供了更低的成本。在企业领域，**Ampere** 占据主导地位，并提供最多
    128 核心的 Arm 处理器，这些处理器可以在一个单一的 **机架单元**（**RU**）空间内工作。
- en: Performance is not lacking either, with each processor supporting up to 128
    Arm cores in two RUs of space with high CPU speeds of up to 3.0 GHz frequency
    per core. The I/O is also powerful, with 128 lanes of high-speed PCIe Gen4 and
    8×72 ECC-protected DDR4 3200 memory. With 64 GB **Dual In-Line Memory Modules**
    (**DIMMs**), that’s *4 terabytes* of RAM in a small form factor! These are enterprise-grade
    systems, with all the power, security, and reliability of Oracle Linux.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 性能也毫不逊色，每个处理器支持最多128个Arm核心，两个RU空间内的CPU频率最高可达每核心3.0 GHz。I/O也非常强大，提供128条高速PCIe
    Gen4通道和8×72 ECC保护的DDR4 3200内存。配备64 GB **双列直插内存模块**（**DIMMs**），相当于*4 terabytes*的内存！这些都是企业级系统，具备Oracle
    Linux的所有强大功能、安全性和可靠性。
- en: Arm is not just for data centers; when you need a small system, such as a DNS
    server or a remote access device, there is the famous Raspberry Pi, which works
    well with it’s small size for tucking it away in a wiring closet for a backup
    DNS server or inside an Oracle Exadata cabinet to enable remote access. You can
    even use a Raspberry Pi as a monitoring system or a web server in a DMZ.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: Arm不仅适用于数据中心；当你需要一个小型系统时，比如DNS服务器或远程访问设备，著名的树莓派非常适合。凭借其小巧的体积，树莓派非常适合藏在配线室里作为备份DNS服务器，或者放在Oracle
    Exadata机柜内以启用远程访问。你甚至可以将树莓派用作监控系统或DMZ中的Web服务器。
- en: Regardless of what Arm platform you are running on (Ampere or Raspberry Pi),
    when running Oracle Linux, you also get access to UEK with its enhancements, including
    tools such as Ansible. Oracle Linux includes all the major technologies at one
    low price for support, and you always have the option of using it for free; you
    can even patch for free. As far as Arm goes, the platform is also not limited.
    You have commercial software such as MySQL 8.0 available to you, as well as a
    large amount of open source software.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 无论你使用的是哪种Arm平台（Ampere还是树莓派），运行Oracle Linux时，你还可以访问UEK及其增强功能，包括Ansible等工具。Oracle
    Linux包含了所有主要技术，支持价格低廉，而且你总是可以选择免费使用；你甚至可以免费打补丁。就Arm平台而言，它也没有限制。你可以使用商业软件，如MySQL
    8.0，以及大量的开源软件。
- en: It’s not just the Raspberry Pi use cases that are powerful. When you get to
    the larger Arm-based services, you open up a huge number of use cases for edge
    computing. Edge computing needs the application to bring data from the cloud into
    the locations that need low-latency access to the data. With MySQL 8.0 replication
    features, you can easily replicate data from the cloud to the edge, maintaining
    performance while, at the same time, leveraging the high core counts and low-power
    requirements of Arm systems made by companies such as Ampere, which offers an
    80-core CPU with a low 210w of power consumption. The high core counts combined
    with container technologies such as Docker and Kata containers enable a distributed
    microservices architecture, with centrally maintained applications that take advantage
    of the cloud’s automation but still provide the performance of a traditional on-premises
    solution. This is the future of IT.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 不仅是树莓派的应用案例非常强大。当你使用更大的基于Arm的服务时，你会开启大量边缘计算的应用场景。边缘计算需要将数据从云端带到需要低延迟访问数据的位置。借助MySQL
    8.0的复制功能，你可以轻松地将数据从云端复制到边缘，保持性能的同时，还能利用如Ampere等公司生产的Arm系统的高核心数和低功耗要求。Ampere提供的80核CPU功耗仅为210w。高核心数结合Docker和Kata容器等容器技术，支持分布式微服务架构，通过集中管理的应用程序既能利用云的自动化特性，又能提供传统本地解决方案的性能。这就是IT的未来。
- en: Getting ready
  id: totrans-114
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: Before you start, you will need a Raspberry Pi with a Micro SD slot. You also
    will need a Micro SD card that can be used to install the OS. If you are using
    a Raspberry Pi compute module, or an enterprise Arm server such as an Ampere system,
    jump to [*Chapter 2*](B18349_02.xhtml#_idTextAnchor052) and PXE boot the system.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始之前，你需要一台带有Micro SD卡槽的树莓派。你还需要一张可以用来安装操作系统的Micro SD卡。如果你正在使用树莓派计算模块或Ampere系统等企业级Arm服务器，请跳转到[*第2章*](B18349_02.xhtml#_idTextAnchor052)并通过PXE启动系统。
- en: How to do it…
  id: totrans-116
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作...
- en: That being said, let’s get Oracle Linux on a Raspberry Pi. While I’ve been using
    Oracle Linux on Arm and installing it the hard way, there is now a much easier
    way to install it. Oracle offers free images for the Raspberry Pi, with the OS
    already installed.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 话虽如此，让我们在树莓派上安装Oracle Linux吧。虽然我一直在使用Oracle Linux for Arm并通过繁琐的方式安装它，但现在已经有了一种更简单的安装方法。Oracle提供了免费的树莓派镜像，操作系统已经安装好了。
- en: 'Let’s take the following steps:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将执行以下步骤：
- en: 'Download the Oracle image at the following link: [https://www.oracle.com/linux/downloads/linux-arm-downloads.html](https://www.oracle.com/linux/downloads/linux-arm-downloads.html).'
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下载 Oracle 镜像，请访问以下链接：[https://www.oracle.com/linux/downloads/linux-arm-downloads.html](https://www.oracle.com/linux/downloads/linux-arm-downloads.html)。
- en: Next, you will need to write the image to an SD card. The easiest way to do
    this from a Windows system is to use **balenaEtcher**, which is a free utility
    that makes it easy to write images to SD cards and USB drives. You can download
    it from [https://www.balena.io/etcher/](https://www.balena.io/etcher/).
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，您需要将镜像写入 SD 卡。从 Windows 系统执行此操作最简单的方法是使用 **balenaEtcher**，这是一个免费的实用工具，可以轻松地将镜像写入
    SD 卡和 USB 驱动器。您可以从 [https://www.balena.io/etcher/](https://www.balena.io/etcher/)
    下载。
- en: Note
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 注意
- en: While balenaEtcher is used for the example, there are many other ways to write
    the file to a flash drive, such as Raspberry Pi Imager, or just using the `dd`
    command to write the file to a flash drive in Linux.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 虽然示例中使用的是 balenaEtcher，但还有许多其他方式可以将文件写入闪存驱动器，例如使用 Raspberry Pi Imager，或者在 Linux
    中直接使用`dd`命令将文件写入闪存驱动器。
- en: 'Run Etcher (make sure you right-click on it and run as administrator) and select
    the image file as the *source* and the SD card as the *destination*:'
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 运行 Etcher（确保右键点击并以管理员身份运行），并将镜像文件选为*源*，将 SD 卡选为*目标*：
- en: '![Figure 1.13 – Burning the Pi SD card](img/B18349_01_13.jpg)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.13 – 烧录 Pi SD 卡](img/B18349_01_13.jpg)'
- en: Figure 1.13 – Burning the Pi SD card
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.13 – 烧录 Pi SD 卡
- en: Etcher can automatically work with the compressed file, so in a minute or two,
    you should have an SD card with the image installed.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: Etcher 可以自动处理压缩文件，所以一两分钟后，您就应该拥有一张已经安装了镜像的 SD 卡。
- en: Next, pop the card into your Pi and boot the Pi. The normal GRUB loader will
    start, and you should have a login prompt.
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，将 SD 卡插入您的 Pi 并启动 Pi。正常的 GRUB 启动加载程序将启动，并且应该会出现登录提示符。
- en: '![Figure 1.14 – Booting the Pi](img/B18349_01_14.jpg)'
  id: totrans-128
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.14 – 启动 Pi](img/B18349_01_14.jpg)'
- en: Figure 1.14 – Booting the Pi
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.14 – 启动 Pi
- en: Yup, it’s that easy!
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 是的，就是这么简单！
- en: Once it’s booted, log in as `root`, with the password `oracle`. The system will
    require you to change the password.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦启动，使用 `root` 用户登录，密码是 `oracle`。系统会要求您更改密码。
- en: '![Figure 1.15 – First login](img/B18349_01_15.jpg)'
  id: totrans-132
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.15 – 首次登录](img/B18349_01_15.jpg)'
- en: Figure 1.15 – First login
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.15 – 首次登录
- en: Now it’s up to you what you want to install. By default, it has access to the
    free Oracle public **yum** server, so yum works out of the box.
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在由您决定要安装什么。默认情况下，它可以访问免费的 Oracle 公共 **yum** 服务器，因此 yum 开箱即用。
- en: 'For Oracle Linux 8, you have access to the following repos:'
  id: totrans-135
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于 Oracle Linux 8，您可以访问以下软件仓库：
- en: '`EPEL.repo` file with the following text in the `/``etc/yum/repos.d` directory:'
  id: totrans-136
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`/etc/yum/repos.d` 目录下的 `EPEL.repo` 文件，包含以下文本：'
- en: '[PRE0]'
  id: totrans-137
  prefs:
  - PREF_IND
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'The EPEL library can also be added using `dnf` with the following command:'
  id: totrans-138
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 可以使用 `dnf` 命令通过以下命令添加 EPEL 库：
- en: '[PRE1]'
  id: totrans-139
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Take a few minutes to play around with an Arm system. They are versatile, low
    cost, and very flexible. You should find plenty of uses for Oracle Linux on Arm.
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 花几分钟玩一下 Arm 系统。它们多功能、低成本且非常灵活。您应该能找到很多 Oracle Linux 在 Arm 上的使用场景。
- en: Leapping from Oracle Linux 7 to 8
  id: totrans-141
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从 Oracle Linux 7 升级到 8
- en: A challenge system admins often face is what to do when you have an older OS
    deployed and it’s about to reach the date when support ends. It happens, and it’s
    not fun. This will put you in a position to reinstall the newer OS on new systems,
    and then migrate your workload over. For many systems, there is a better way known
    as **Leapp**.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 系统管理员经常面临的一个挑战是，当部署了较旧版本的操作系统，并且即将达到支持结束的日期时该怎么办。这种情况确实会发生，而且并不轻松。这将使您处于一个需要在新系统上重新安装较新操作系统，然后迁移工作负载的局面。对于许多系统，存在一种更好的方式，称为**Leapp**。
- en: 'Leapp allows you to upgrade your OS from Oracle Linux 7 to Oracle Linux 8\.
    There is no need to reinstall everything on new systems. **Leapping** consists
    of two phases:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: Leapp 允许您将操作系统从 Oracle Linux 7 升级到 Oracle Linux 8。无需在新系统上重新安装一切。**Leapping**
    包含两个阶段：
- en: A pre-upgrade phase that checks the system to determine whether the software
    can be upgraded
  id: totrans-144
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个检查系统以确定软件是否可以升级的预升级阶段
- en: A second phase that actually performs the upgrade
  id: totrans-145
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 一个实际执行升级的第二阶段
- en: Sounds good. But there are a few things you need to know.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 听起来不错。但有一些事情是你需要了解的。
- en: Getting ready
  id: totrans-147
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备就绪
- en: 'First, Leapping from 7 to 8 is not supported for all use cases. *Table 1.1*
    shows what Oracle will support when performing the operation. Leapp does not always
    work well with complex applications, such as database systems that have specific
    installation options based on the underlying *OS version*. It also may break some
    applications that are not included with the OS:'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，Leapp从7到8的升级并不支持所有用例。*表1.1*展示了Oracle在执行此操作时将提供支持的内容。Leapp在与复杂应用程序（如根据底层*操作系统版本*有特定安装选项的数据库系统）一起使用时，并不总是表现良好。它也可能会破坏一些操作系统未包含的应用程序：
- en: '| **Supported** **by Leapp** | **Unsupported** **by Leapp** |'
  id: totrans-149
  prefs: []
  type: TYPE_TB
  zh: '| **Leapp** **支持** | **Leapp** **不支持** |'
- en: '| --- | --- |'
  id: totrans-150
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| Platforms (latest shipping updates):'
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: '| 平台（最新发布的更新）：'
- en: x86_64
  id: totrans-152
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: x86_64
- en: Arm (AArch64)
  id: totrans-153
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Arm (AArch64)
- en: 'Operating systems:'
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 操作系统：
- en: Current Oracle Linux 7 version only
  id: totrans-155
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 当前Oracle Linux 7版本仅适用
- en: 'Profiles:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 配置：
- en: Minimal installation
  id: totrans-157
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 最小安装
- en: Virtualization host
  id: totrans-158
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 虚拟化主机
- en: Server with GUI
  id: totrans-159
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 带图形界面的服务器
- en: Basic web server
  id: totrans-160
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基本Web服务器
- en: Infrastructure server
  id: totrans-161
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 基础设施服务器
- en: File and print server
  id: totrans-162
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 文件和打印服务器
- en: '| Systems installed with the following:'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '| 安装了以下内容的系统：'
- en: ISV applications, including Oracle Database and middleware
  id: totrans-164
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: ISV应用程序，包括Oracle数据库和中间件
- en: 'NoteISVs must provide and validate Leapp actors to coordinate their application
    upgrades:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: ISV必须提供并验证Leapp角色，以协调其应用程序的升级：
- en: Oracle Linux Manager or Spacewalk for Oracle Linux
  id: totrans-166
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Oracle Linux Manager或Spacewalk for Oracle Linux
- en: Installations that did not use ISO images such as Ceph and GlusterFS
  id: totrans-167
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 未使用ISO镜像的安装，如Ceph和GlusterFS
- en: Migration of disks that are encrypted with LUKS
  id: totrans-168
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: LUKS加密磁盘的迁移
- en: Systems that are registered with ULN
  id: totrans-169
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 已注册到ULN的系统
- en: Systems in FIPS mode or running Secure Boot
  id: totrans-170
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 处于FIPS模式或运行Secure Boot的系统
- en: Systems configured with Docker containers
  id: totrans-171
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 配置了Docker容器的系统
- en: '|'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: '|'
- en: Table 1.1 – Leapp support matrix from Oracle
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 表1.1 – Oracle提供的Leapp支持矩阵
- en: 'Next, Leapp also has some limitations when upgrading the kernel. This matrix
    from Oracle is seen in the following table:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，Leapp在升级内核时也存在一些限制。以下表格展示了Oracle提供的矩阵：
- en: '| **Platform Notes** | **Starting Kernel (Oracle** **Linux 7)** | **Ending
    Kernel (Oracle** **Linux 8)** | **Supported** |'
  id: totrans-175
  prefs: []
  type: TYPE_TB
  zh: '| **平台说明** | **起始内核（Oracle** **Linux 7)** | **结束内核（Oracle** **Linux 8)** |
    **支持** |'
- en: '| --- | --- | --- | --- |'
  id: totrans-176
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| x86_64 not using Btrfs filesystem | RHCK | RHCK | Yes |'
  id: totrans-177
  prefs: []
  type: TYPE_TB
  zh: '| 未使用Btrfs文件系统的x86_64 | RHCK | RHCK | 是 |'
- en: '| RHCK | UEK | No |'
  id: totrans-178
  prefs: []
  type: TYPE_TB
  zh: '| RHCK | UEK | 否 |'
- en: '| UEK | UEK | Yes |'
  id: totrans-179
  prefs: []
  type: TYPE_TB
  zh: '| UEK | UEK | 是 |'
- en: '| UEK | RHCK | No |'
  id: totrans-180
  prefs: []
  type: TYPE_TB
  zh: '| UEK | RHCK | 否 |'
- en: '| x86_64 using Btrfs filesystem | RHCK | RHCK | No |'
  id: totrans-181
  prefs: []
  type: TYPE_TB
  zh: '| 使用Btrfs文件系统的x86_64 | RHCK | RHCK | 否 |'
- en: '| RHCK | UEK | Yes |'
  id: totrans-182
  prefs: []
  type: TYPE_TB
  zh: '| RHCK | UEK | 是 |'
- en: '| UEK | UEK | Yes |'
  id: totrans-183
  prefs: []
  type: TYPE_TB
  zh: '| UEK | UEK | 是 |'
- en: '| UEK | RHCK | No |'
  id: totrans-184
  prefs: []
  type: TYPE_TB
  zh: '| UEK | RHCK | 否 |'
- en: '| AArch64 | UEK | UEK | Yes |'
  id: totrans-185
  prefs: []
  type: TYPE_TB
  zh: '| AArch64 | UEK | UEK | 是 |'
- en: Table 1.2 – Supported kernel upgrade from Oracle
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 表1.2 – Oracle支持的内核升级
- en: Always look before you Leapp
  id: totrans-187
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 在进行Leapp操作之前，请务必先查看
- en: 'Before Leapping from 7 to 8, you need to check a few things, as follows:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 在从7到8进行Leapp操作之前，您需要检查以下几点：
- en: Make sure you have a solid backup. Snapshots of the system work best in case
    things don’t go well.
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 请确保您有一个可靠的备份。如果情况不顺利，系统快照最为有效。
- en: If Secure Boot is running, disable it with `mokutil --sb-state`. You can check
    the status by running the `bootctl` `status` command.
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果Secure Boot正在运行，请使用`mokutil --sb-state`禁用它。您可以通过运行`bootctl` `status`命令检查其状态。
- en: Make sure you have console access, just in case you need to troubleshoot issues.
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 请确保您有控制台访问权限，以防需要排查问题。
- en: Disable any network mounts, such as NFS mounts, Samba mounts, GlusterFS mounts,
    and so on. Disable them in your `/``etc/fstab` file.
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 禁用任何网络挂载，例如NFS挂载、Samba挂载、GlusterFS挂载等。请在`/etc/fstab`文件中禁用它们。
- en: If you are using `yum-plugin-versionlock`, clear any locks with the `yum versionlock`
    `clear` command.
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您使用`yum-plugin-versionlock`，请使用`yum versionlock` `clear`命令清除任何锁定。
- en: If you are running *any KVM VMs*, stop them all. You can do this with `virsh
    shutdown $VM_NAME`. If you’re not sure whether you are running any VMs, the `virsh
    list --all` command will list them all for you.
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您正在运行*任何KVM虚拟机*，请停止它们。您可以使用`virsh shutdown $VM_NAME`命令完成此操作。如果不确定是否运行任何虚拟机，您可以通过`virsh
    list --all`命令列出所有虚拟机。
- en: If you are using Spacewalk, Oracle Linux Manager, Unbreakable Linux Network,
    or any other centralized yum manager, unregister the system from it. You must
    Leapp against the `yum.oracle.com` repos.
  id: totrans-195
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您使用Spacewalk、Oracle Linux Manager、Unbreakable Linux Network或任何其他集中式yum管理器，请将系统从中注销。您必须使用`yum.oracle.com`仓库进行Leapp操作。
- en: If you need an HTTP proxy to access the `yum.oracle.com` repos, make sure it’s
    added to your `/``etc/yum.conf` file.
  id: totrans-196
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您需要通过HTTP代理访问`yum.oracle.com`仓库，请确保它已添加到您的`/etc/yum.conf`文件中。
- en: Verify that you are using `en_US.UTF-8` in `/etc/locale.conf`. You can switch
    via the `localectl set-locale` `LANG=en_US.UTF-8` command.
  id: totrans-197
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 验证你是否在`/etc/locale.conf`中使用了`en_US.UTF-8`。你可以通过`localectl set-locale LANG=en_US.UTF-8`命令切换。
- en: In your `/etc/ssh/sshd_config` file, verify that you can log in as root. `PermitRootLogin
    yes` should be in the config file.
  id: totrans-198
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在你的`/etc/ssh/sshd_config`文件中，验证是否可以以root用户登录。配置文件中应该有`PermitRootLogin yes`。
- en: Once you’ve verified this list, patch your system against `yum.oracle.com` with
    `yum update -y`, and then reboot.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你验证了这个列表，使用`yum update -y`通过`yum.oracle.com`对你的系统进行补丁更新，然后重启。
- en: 'Finally, you can add the *Leapp* repo with the following command:'
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，你可以通过以下命令添加*Leapp*仓库：
- en: '[PRE2]'
  id: totrans-201
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'Next, do another sanity reboot, and maybe grab a second backup. After the reboot,
    if you are using a proxy to access them, then you need to add the proxy server
    for each repository entry in `/etc/yum.repos.d/leapp-upgrade-repos-ol8.repo`.
    You can do this with a simple `sed` command: `sed -I ''/^enabled=0.*/a` `proxy=http://proxy-host:proxy-port''
    /etc/yum.repos.d/eap-upgrade-repos-ol8.repo`.'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，再次进行一次重启，并可能做第二次备份。重启后，如果你使用代理来访问它们，那么你需要在`/etc/yum.repos.d/leapp-upgrade-repos-ol8.repo`的每个仓库条目中添加代理服务器。你可以使用简单的`sed`命令来完成：`sed
    -I '/^enabled=0.*/a` `proxy=http://proxy-host:proxy-port' /etc/yum.repos.d/eap-upgrade-repos-ol8.repo`。
- en: Congratulations, you are now ready to analyze the system!
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 恭喜，你现在已经准备好分析系统了！
- en: How to do it…
  id: totrans-204
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'You will need to take the following steps:'
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要执行以下步骤：
- en: 'If you are running anywhere but on Oracle’s cloud (known as OCI), you can run
    the report with the following command:'
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你不在Oracle云（OCI）上运行，可以通过以下命令运行报告：
- en: '[PRE3]'
  id: totrans-207
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'If you are on OCI, run this command:'
  id: totrans-208
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你在OCI上，运行以下命令：
- en: '[PRE4]'
  id: totrans-209
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Both commands will run many checks and will give an alert if there are major
    issues. But you need to dig deeper into these:'
  id: totrans-210
  prefs:
  - PREF_IND
  type: TYPE_NORMAL
  zh: 这两个命令将执行多个检查，并在发现重大问题时发出警告。但你需要深入分析这些问题：
- en: '![Figure 1.16 – Leapp pre-upgrade results](img/B18349_01_16.jpg)'
  id: totrans-211
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.16 – Leapp 升级前结果](img/B18349_01_16.jpg)'
- en: Figure 1.16 – Leapp pre-upgrade results
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.16 – Leapp 升级前结果
- en: Now, you should have some interesting output. The `/var/log/leapp/leapp-report.txt`
    file will identify any risks with the upgrade. They are classified in three rankings,
    with the highest being a *show stopper*. Address any of the risks, rerun the analyzer,
    and check the report again. Once you are comfortable with the results, you can
    continue.
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，你应该会看到一些有趣的输出。`/var/log/leapp/leapp-report.txt`文件会标识出升级过程中的任何风险。风险按三种等级分类，最高等级为*致命错误*。处理任何风险，重新运行分析工具，并再次检查报告。一旦你对结果满意，就可以继续操作。
- en: 'The next step is to look at `/var/log/leapp/answerfile`. The file consists
    of specific checks that Leapp performs on the system. Each check contains information
    about the system and also prompts you for confirmation on the action to be performed:'
  id: totrans-214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下一步是查看`/var/log/leapp/answerfile`文件。该文件包含Leapp在系统上执行的具体检查。每个检查都包含关于系统的信息，并提示你确认要执行的操作：
- en: '![Figure 1.17 – Leapp answerfile](img/B18349_01_17.jpg)'
  id: totrans-215
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.17 – Leapp 答案文件](img/B18349_01_17.jpg)'
- en: Figure 1.17 – Leapp answerfile
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.17 – Leapp 答案文件
- en: 'In this example, there is only one answer to confirm. To accept an item in
    the file, add `confirm = True` in the section. Optionally, you can use the `leapp`
    command to confirm the line item, making sure the section matches:'
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，只有一个回答需要确认。要接受文件中的项目，请在该部分添加`confirm = True`。你也可以选择使用`leapp`命令来确认该行项，确保该部分匹配：
- en: '[PRE5]'
  id: totrans-218
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: Time to take the Leapp and start phase two
  id: totrans-219
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 现在是时候进行Leapp并开始第二阶段了
- en: 'Now that we’re set, it’s time to make the jump forward! As with the *Leapp
    pre-upgrade*, how you Leapp in OCI is slightly different than other environments:'
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经准备好了，是时候向前迈进了！与*Leapp 升级前*一样，OCI中的Leapp操作与其他环境略有不同：
- en: 'For non-OCI environments (as seen in the following screenshot), run `leapp
    upgrade --oraclelinux`. For OCI environments, run `leapp` `upgrade --oci`:'
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于非OCI环境（如以下截图所示），运行`leapp upgrade --oraclelinux`。对于OCI环境，运行`leapp upgrade --oci`：
- en: '![Figure 1.18 – Leapp upgrade starting](img/B18349_01_18.jpg)'
  id: totrans-222
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.18 – Leapp 升级开始](img/B18349_01_18.jpg)'
- en: Figure 1.18 – Leapp upgrade starting
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.18 – Leapp 升级开始
- en: 'Leapp will take some time. Did you remember to make your backup? As Leapp runs,
    it will download all the Oracle Linux 8 packages, downloading about 600 MB for
    a small system and 1 GB for larger installations:'
  id: totrans-224
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Leapp将需要一些时间。你记得做备份了吗？当Leapp运行时，它将下载所有Oracle Linux 8软件包，小型系统大约下载600MB，较大的安装则为1GB：
- en: '![Figure 1.19 – Leapp upgrade completed](img/B18349_01_19.jpg)'
  id: totrans-225
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.19 – Leapp 升级完成](img/B18349_01_19.jpg)'
- en: Figure 1.19 – Leapp upgrade completed
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.19 – Leapp 升级完成
- en: When the Leapp process is done (as seen in the preceding screenshot), reboot.
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 当Leapp过程完成后（如上图所示），请重启。
- en: How it works…
  id: totrans-228
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 它是如何工作的……
- en: Leapp performs the in-place upgrade, installing or upgrading the new RPMs and
    reconfiguring the boot loader to the upgraded OS version. This process upgrades
    the Oracle Linux-supported applications, as well as migrating configurations and
    preferences to the new version.
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: Leapp执行就地升级，安装或升级新的RPM包，并重新配置启动加载程序为升级后的操作系统版本。此过程会升级Oracle Linux支持的应用程序，并将配置和偏好迁移到新版本。
- en: There’s more…
  id: totrans-230
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 还有更多内容……
- en: 'When you’ve done the reboot, you should see `/etc/oracle-release` updates for
    Oracle Linux 8\. You can also check the kernel with `uname -r`. After the upgrade,
    you will also need to do a few other tasks:'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: 当你完成重启后，你应该看到`/etc/oracle-release`更新为Oracle Linux 8。你也可以使用`uname -r`检查内核版本。升级后，你还需要完成其他一些任务：
- en: If you disabled **Secure Boot**, you will need to re-enable it in the system’s
    firmware.
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你禁用了**安全启动**，你需要在系统固件中重新启用它。
- en: 'Re-enable the firewall, as it was disabled during the upgrade:'
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重新启用防火墙，因为在升级过程中它被禁用了：
- en: '[PRE6]'
  id: totrans-234
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE6]'
- en: If you have KVM VMs running, you will need to restart them with the `virsh start
    $``VMNAME` command.
  id: totrans-235
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你有运行中的KVM虚拟机，你需要使用`virsh start $``VMNAME`命令重新启动它们。
- en: You can remove the `/root/tmp_leapp_py3` directory. This is optional but will
    free up disk space.
  id: totrans-236
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以删除`/root/tmp_leapp_py3`目录。这是可选的，但可以释放磁盘空间。
- en: You can reconnect the system to your normal patch and management systems. They
    should be added back as Oracle Linux 8 systems. Please verify that your management
    software reflects the new version; not all management systems will update the
    major release correctly.
  id: totrans-237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你可以将系统重新连接到正常的补丁和管理系统。这些系统应该被重新添加为Oracle Linux 8系统。请验证你的管理软件是否反映了新版本；并非所有管理系统都会正确更新主版本。
- en: Migrating from CentOS to Oracle Linux
  id: totrans-238
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 从CentOS迁移到Oracle Linux
- en: The first question is *why?* Why are we talking about moving from **CentOS**
    to Oracle Linux?
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个问题是*为什么？* 为什么我们要讨论从**CentOS**迁移到Oracle Linux？
- en: Before we explain this, let’s chat a little bit about the surprise that IBM
    Red Hat dropped on the Linux community on December 8, 2020\. CentOS as we know
    it is *dead!* It is `> /``dev/null`.
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 在解释这个问题之前，让我们先聊聊IBM Red Hat在2020年12月8日给Linux社区带来的惊喜。我们所熟知的CentOS已经*死亡*！它已经`>
    /``dev/null`了。
- en: 'On December 8th, 2020, CentOS (which is controlled by IBM Red Hat) announced
    the news: “*CentOS Linux 8, as a rebuild of RHEL 8, will end at the end of 2021.*”
    The 2021 date is eight years earlier than planned, with 2029 being the original
    published date for the end of development on the CentOS 8 distribution. This means
    if you have CentOS 8 and you want to continue using a stable and predictable release,
    then you need to make a change.'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 2020年12月8日，CentOS（由IBM Red Hat控制）发布了新闻：“*CentOS Linux 8，作为RHEL 8的重建版，将于2021年底结束。*”2021年的日期比原计划提前了八年，原定于2029年结束CentOS
    8版本的开发。这意味着，如果你使用CentOS 8并希望继续使用稳定且可预测的版本，那么你需要进行更改。
- en: The CentOS team is “*shifting focus from CentOS Linux, the rebuild of Red Hat
    Enterprise Linux (RHEL), to CentOS Stream, which tracks just ahead of a current
    RHEL release.*” Remember Fedora, where new technology is constantly being introduced
    and withdrawn, where change is normal and expected? That is basically how the
    community looks at CentOS Stream. This one change basically destroyed the ability
    for **enterprise system administrators** to use CentOS 8 and beyond in production,
    and dev, test, and **quality assurance** (**QA**) environments.
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: CentOS团队正在“*将焦点从CentOS Linux，即Red Hat Enterprise Linux（RHEL）的重建，转向CentOS Stream，它紧跟当前RHEL发布的前沿。*”记得Fedora吗？新技术不断引入和撤回，变化是常态并且是预期的？这基本上就是社区对CentOS
    Stream的看法。这个改变基本上摧毁了**企业系统管理员**在生产环境中使用CentOS 8及以后版本的能力，以及开发、测试和**质量保证**（**QA**）环境的使用。
- en: So, *what’s next?* There are already several projects that have forked or cloned
    the CentOS model to replicate the effort and provide a stable distro that tracks
    RHEL, with a predictable release schedule and a stable organization to back up
    the project. A concern you should have with the multitude of projects that have
    started is picking the right one. You have no idea what new distros will fail
    or succeed. Some of these forks will take years to stabilize, and users need a
    solution now. As an admin, you do not need a fork or immature distribution that
    may change direction. You need a stable distribution that has the goal of maintaining
    compatibility with RHEL. Oracle Linux provides both, the proven stability and
    is actively investing in maintaining compatibility with RHEL though the **Open
    Enterprise Linux Association** (**OpenELA.rg**)
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，*接下来是什么？* 已经有几个项目分叉或克隆了CentOS的模型，复制该工作并提供一个稳定的发行版，跟踪RHEL，拥有可预测的发布计划和稳定的组织来支持项目。你应该关心的一个问题是，如何选择正确的项目。你无法预知哪些新发行版会成功或失败。这些分叉可能需要多年才能稳定，而用户现在就需要一个解决方案。作为管理员，你不需要一个可能会改变方向的分叉或不成熟的发行版。你需要的是一个稳定的发行版，其目标是保持与RHEL的兼容性。Oracle
    Linux提供了两者：经验证的稳定性，并通过**开放企业Linux协会**（**OpenELA.org**）积极投资保持与RHEL的兼容性。
- en: OpenELA was founded by Oracle, SUSE and CIQ, the company that is behind RockyLinux.OpenELA
    is a trade association that builds a compatible code base that is a drop in replacement
    for RHEL. This allows the open source community to combine their efforts to prove
    a stable replacement for CentOS.
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: OpenELA由Oracle、SUSE和CIQ（RockyLinux背后的公司）共同创建。OpenELA是一个行业协会，致力于构建一个兼容的代码库，作为RHEL的替代品。这使得开源社区能够合力证明CentOS的稳定替代品。
- en: CentOS is dead as we know it, have you looked at Oracle Linux yet?
  id: totrans-245
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: CentOS如我们所知已经不存在了，你有考虑过Oracle Linux吗？
- en: Oracle Linux tracks RHEL, using OpenELA as their base code going forward, so
    Oracle Linux 8.3 is basically the same as RHEL 8.3 or CentOS 8.3 or even RockyLinux
    8.3\. It’s used by over 86% of the Fortune Global 100, making it one of the most
    popular Linux options in the Enterprise. Since Oracle runs its business and Oracle
    Cloud on Oracle Linux, you know it will be supported regardless of what other
    bombshells IBM Red Hat drops on the users.
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: Oracle Linux追踪RHEL，今后将OpenELA作为其基础代码，因此Oracle Linux 8.3基本上与RHEL 8.3、CentOS 8.3甚至RockyLinux
    8.3相同。它被超过86%的《财富》全球100强公司使用，成为企业中最受欢迎的Linux选项之一。由于Oracle在其业务和Oracle Cloud中使用Oracle
    Linux，你可以放心，它将得到支持，不管IBM Red Hat对用户施加了什么新变化。
- en: Did I mention Oracle Linux is free? It’s free to download, free to distribute,
    and free to patch! To distribute, I can give you a copy for free and no lawyers
    are required. To patch, there’s no need to register your system or pay any fees,
    and it would also be free to download. There is no license fee to get it!
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 我提到过Oracle Linux是免费的么？它是免费下载的，免费分发的，免费打补丁的！如果你要分发，我可以免费提供一份副本，不需要律师。如果要打补丁，系统也无需注册或支付任何费用，而且下载也是免费的。获取它不需要支付许可费用！
- en: Yes, Oracle has a paid support offering that is a lot less expensive than RHEL,
    and due to the free model to download and patch, you can easily use Oracle Linux
    for free in your non-production systems and still have paid support for your production
    systems on the same distribution. It is also very stable as it has been available
    since 2006\. They even support Arm these days (Raspberry Pi, anyone?), and have
    several public mirrors where you can download it in case you don’t want to download
    it from [http://yum.oracle.com/oracle-linux-isos.html](http://yum.oracle.com/oracle-linux-isos.html).
  id: totrans-248
  prefs: []
  type: TYPE_NORMAL
  zh: 是的，Oracle提供了一个付费支持服务，比RHEL便宜得多，而且由于免费下载和打补丁的免费模式，你可以在非生产系统中免费使用Oracle Linux，同时在生产系统上使用付费支持，且两者都使用同一个发行版。它也非常稳定，自2006年起就已经推出了。如今他们还支持Arm架构（有人需要Raspberry
    Pi吗？），并且有多个公共镜像站点供你下载，如果你不想从[http://yum.oracle.com/oracle-linux-isos.html](http://yum.oracle.com/oracle-linux-isos.html)下载。
- en: 'There are several cool things you can get if you pay for support, but all of
    these are well above and beyond what RHEL offers with their support. This includes
    a few technologies such as the following:'
  id: totrans-249
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你为支持付费，你可以获得一些非常酷的功能，但这些功能远远超出了RHEL提供的支持范围。包括以下几项技术：
- en: '**Ksplice**: This lets you patch kernel and user space libraries while running'
  id: totrans-250
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Ksplice**：这项技术允许你在运行时对内核和用户空间库进行补丁更新'
- en: '**DTrace**: This came over from Solaris and gives you a real-time view into
    kernel and application internals'
  id: totrans-251
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**DTrace**：这项技术源自Solaris，能够为你提供内核和应用程序内部的实时视图'
- en: '**Enterprise Manager**: To manage and monitor the OS, logs, and more'
  id: totrans-252
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**企业管理器**：用于管理和监控操作系统、日志等'
- en: 'If you are on CentOS, it’s really easy to move to Oracle Linux. Best of all
    is that when you move, you keep everything the same, so all your apps continue
    to run. Remember, Oracle Linux tracks RHEL, making it an easy drop-in replacement.
    Oracle has made the migration script free for anyone to use, and you can access
    it from the following GitHub URL: [https://github.com/oracle/centos2ol](https://github.com/oracle/centos2ol).'
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你正在使用 CentOS，迁移到 Oracle Linux 非常简单。最棒的是，迁移后你能保持一切不变，这样所有应用程序都会继续运行。记住，Oracle
    Linux 跟踪 RHEL，是一个简单的替代品。Oracle 将迁移脚本免费提供给任何人使用，你可以从以下 GitHub URL 获取： [https://github.com/oracle/centos2ol](https://github.com/oracle/centos2ol)。
- en: Getting ready
  id: totrans-254
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 准备工作
- en: 'Before you start, you will need a system running Scientific Linux 7.x and 8.x,
    Rocky 8.x, and CentOS 7.x and 8.X. If your CentOS system is CentOS Stream, the
    script will not work. There are a few other things to think about before running
    the Oracle script, as follows:'
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始之前，你需要一台运行 Scientific Linux 7.x 和 8.x、Rocky 8.x、CentOS 7.x 和 8.x 的系统。如果你的
    CentOS 系统是 CentOS Stream，脚本将无法工作。运行 Oracle 脚本之前还有一些其他事项需要考虑，如下所示：
- en: Make sure you have a solid backup. Snapshots of the system work best in case
    things don’t go well.
  id: totrans-256
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保你有可靠的备份。如果系统出现问题，快照是最好的选择。
- en: If Secure Boot is running, disable it with `mokutil --sb-state`. You can check
    the status by running the `bootctl` `status` command.
  id: totrans-257
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果启用了 Secure Boot，请使用 `mokutil --sb-state` 禁用它。你可以通过运行 `bootctl` `status` 命令来检查状态。
- en: Make sure you have console access, just in case you need to troubleshoot issues.
  id: totrans-258
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保你有控制台访问权限，以防需要排查问题。
- en: Disable any network mounts, such as NFS mounts, Samba mounts, and GlusterFS
    mounts. Disable them in your `/``etc/fstab` file.
  id: totrans-259
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 禁用任何网络挂载，例如 NFS 挂载、Samba 挂载和 GlusterFS 挂载。在 `/etc/fstab` 文件中禁用它们。
- en: If you are using `yum-plugin-versionlock`, clear any locks with the `yum versionlock`
    `clear` command.
  id: totrans-260
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你使用 `yum-plugin-versionlock`，请使用 `yum versionlock` `clear` 命令清除任何锁定。
- en: If you are running *any KVM VMs*, stop them all. You can do this with `virsh
    shutdown $VM_NAME=`. If you’re not sure whether you’re running any VMs, the `virsh
    list --all` command will list them all out for you.
  id: totrans-261
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你正在运行 *任何 KVM 虚拟机*，请停止它们。你可以使用 `virsh shutdown $VM_NAME=` 来做到这一点。如果你不确定是否正在运行虚拟机，可以通过运行
    `virsh list --all` 命令来列出所有虚拟机。
- en: If you are using Spacewalk, Oracle Linux Manager, Unbreakable Linux Network,
    or any other centralized *yum* manager, make sure the `yum` command works. Unlike
    Leapp, you can run the script against a private repo.
  id: totrans-262
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你使用的是 Spacewalk、Oracle Linux Manager、Unbreakable Linux Network 或其他集中式的 *yum*
    管理器，请确保 `yum` 命令能够正常工作。与 Leapp 不同，你可以针对私有仓库运行该脚本。
- en: If you need an HTTP proxy to access your yum server, make sure it is added to
    your `/``etc/yum.conf` file.
  id: totrans-263
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你需要一个 HTTP 代理来访问你的 yum 服务器，请确保它已经添加到 `/etc/yum.conf` 文件中。
- en: If you are using any third-party *yum repos*, please validate that their packages
    will not conflict with what you are running. It’s best to disable these repos
    while doing the switch.
  id: totrans-264
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你使用任何第三方 *yum 仓库*，请确认它们的包不会与正在运行的内容冲突。在进行切换时，最好禁用这些仓库。
- en: Check for stale repos. If the repo isn’t working, disable it.
  id: totrans-265
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 检查过时的仓库。如果仓库无法正常工作，禁用它。
- en: Make sure you have at least 5 GB of free space in `/var/cache`.
  id: totrans-266
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 确保 `/var/cache` 目录中至少有 5 GB 的可用空间。
- en: Disable all automatic *yum* updates.
  id: totrans-267
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 禁用所有自动 *yum* 更新。
- en: How to do it…
  id: totrans-268
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 如何操作…
- en: 'Now that you have checked and prepared the system to be migrated from CentOS,
    the actual migration from CentOS 8.x is fairly straightforward. You’ll now need
    to follow these steps:'
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经检查并准备好系统进行从 CentOS 的迁移，实际从 CentOS 8.x 的迁移非常简单。你现在需要按照以下步骤进行：
- en: 'The easy way to do the upgrade is to use `wget` to download the script from
    GitHub as a raw file: [https://raw.githubusercontent.com/oracle/centos2ol/main/centos2ol.sh](https://raw.githubusercontent.com/oracle/centos2ol/main/centos2ol.sh).'
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 升级的简便方法是使用 `wget` 从 GitHub 下载原始脚本文件：[https://raw.githubusercontent.com/oracle/centos2ol/main/centos2ol.sh](https://raw.githubusercontent.com/oracle/centos2ol/main/centos2ol.sh)。
- en: 'Next, you will need to perform the `chmod +x` operation the script with the
    following:'
  id: totrans-271
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，你需要执行 `chmod +x` 操作，使脚本具备执行权限，命令如下：
- en: '[PRE7]'
  id: totrans-272
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Remember how CentOS 8 hit EOL really early? This also means that the CentOS
    *yum repos* for version 8 are gone. There is a workaround to this small problem,
    though. For now, you can use a copy located at [vault.centos.org](http://vault.centos.org),
    but each of the repo files will need to be updated. That can be done with this
    command:'
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 还记得CentOS 8早早就停止支持了吗？这也意味着CentOS 8的 *yum 仓库* 已经不再可用。不过，还是有解决这个小问题的办法。现在，你可以使用位于
    [vault.centos.org](http://vault.centos.org) 的一个副本，但每个仓库文件需要更新。这可以通过以下命令完成：
- en: '[PRE8]'
  id: totrans-274
  prefs:
  - PREF_IND
  type: TYPE_PRE
  zh: '[PRE8]'
- en: '![Figure 1.20 – CentOS to Oracle Linux process starting](img/B18349_01_20.jpg)'
  id: totrans-275
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.20 – 从CentOS迁移到Oracle Linux过程开始](img/B18349_01_20.jpg)'
- en: Figure 1.20 – CentOS to Oracle Linux process starting
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.20 – 从CentOS迁移到Oracle Linux过程开始
- en: 'This will run for about 5 minutes on a fast system with 1GB/s internet speeds.
    Other systems can take as long as 45 minutes. When the script is done, reboot.
    As with Leapp, you can check the upgrade by looking at `/etc/oracle-release` and
    checking the kernel version with `uname -r`:'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 在一个速度为1GB/s的快速系统上，这个过程大约会持续5分钟。其他系统可能需要长达45分钟。当脚本完成时，重启系统。和Leapp一样，你可以通过查看`/etc/oracle-release`以及使用`uname
    -r`检查内核版本来确认升级是否完成：
- en: '![Figure 1.21 – Migration from CentOS 8 completed](img/B18349_01_21.jpg)'
  id: totrans-278
  prefs: []
  type: TYPE_IMG
  zh: '![图 1.21 – 从CentOS 8迁移完成](img/B18349_01_21.jpg)'
- en: Figure 1.21 – Migration from CentOS 8 completed
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.21 – 从CentOS 8迁移完成
- en: Once the reboot has finished and the server is up, `/etc/oracle-release` should
    correctly show Oracle Linux.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦重启完成并且服务器启动，`/etc/oracle-release`应该正确显示Oracle Linux。
- en: How it works…
  id: totrans-281
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 工作原理……
- en: The script will connect your system to new patch repositories, and then basically
    perform an extended patch process against the Oracle repos. Old RPMs will be replaced
    with RPMs from Oracle. The script can also upgrade you from the older Linux 4.x
    kernel to UEK, where you can benefit from the performance advantages of the newer
    Linux 5 kernel.
  id: totrans-282
  prefs: []
  type: TYPE_NORMAL
  zh: 这个脚本会将你的系统连接到新的补丁仓库，然后基本上执行一个针对Oracle仓库的扩展补丁过程。旧的RPM包会被Oracle的RPM包替换。这个脚本还可以将你从旧的Linux
    4.x内核升级到UEK，届时你将能享受到更高性能的Linux 5内核的优势。
