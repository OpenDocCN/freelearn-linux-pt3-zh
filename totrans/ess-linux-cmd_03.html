<html><head></head><body>
		<div id="_idContainer102">
			<h1 id="_idParaDest-37" class="chapter-number"><a id="_idTextAnchor038"/>3</h1>
			<h1 id="_idParaDest-38"><a id="_idTextAnchor039"/>File Compression and Archival Commands</h1>
			<p>File compression and archival commands<a id="_idIndexMarker151"/> have become an essential part of modern computing. With the ever-increasing amount of data being generated and shared, it has become necessary to use compression techniques to reduce the size of files, making them easier to store, transfer, and share. This process involves using software tools that compress files by removing any unnecessary data from them. The compressed file can then be stored in a smaller amount of space or transmitted over the internet <span class="No-Break">more quickly.</span></p>
			<p>There<a id="_idIndexMarker152"/> are<a id="_idIndexMarker153"/> several <a id="_idIndexMarker154"/>file<a id="_idIndexMarker155"/> compression <a id="_idIndexMarker156"/>and <a id="_idIndexMarker157"/>archival commands <a id="_idIndexMarker158"/>available<a id="_idIndexMarker159"/> in Linux, including <strong class="source-inline">gunzip</strong> and <strong class="source-inline">gzip</strong>, <strong class="source-inline">tar</strong>, <strong class="source-inline">rar</strong> and <strong class="source-inline">unrar</strong>, <strong class="source-inline">zip</strong> and <strong class="source-inline">unzip</strong>, <strong class="source-inline">bunzip2</strong> and <strong class="source-inline">bzip2</strong>, and <a id="_idIndexMarker160"/>many <a id="_idIndexMarker161"/>more. Each<a id="_idIndexMarker162"/> command has <a id="_idIndexMarker163"/>its own unique<a id="_idIndexMarker164"/> features, benefits, and <a id="_idIndexMarker165"/>limitations, making them suitable for specific use cases. For<a id="_idIndexMarker166"/> instance, the <strong class="source-inline">gzip</strong> command<a id="_idIndexMarker167"/> is a simple and easy-to-use <a id="_idIndexMarker168"/>compression utility that can compress files quickly. On the other hand, <strong class="source-inline">tar</strong> is a popular utility for creating and managing tarballs, which can be<a id="_idIndexMarker169"/> used to bundle multiple files into a single archive file. In this chapter, we will explore these commands and more, giving readers an overview of the different compression and archival options available <span class="No-Break">in Linux.</span></p>
			<p>In this chapter, we are going to cover the following <span class="No-Break">main topics:</span></p>
			<ul>
				<li>gunzip <span class="No-Break">and gzip</span></li>
				<li>tar, rar, <span class="No-Break">and unrar</span></li>
				<li>zip <span class="No-Break">and unzip</span></li>
				<li>bunzip2, bzip2, <span class="No-Break">and more</span></li>
			</ul>
			<h1 id="_idParaDest-39"><a id="_idTextAnchor040"/>gunzip and gzip</h1>
			<p>The <strong class="source-inline">gunzip</strong> (<strong class="bold">GNU Unzip</strong>) and <strong class="source-inline">gzip</strong> (<strong class="bold">GNU Zip</strong>) commands<a id="_idIndexMarker170"/> are used for file <a id="_idIndexMarker171"/>compression and decompression on Linux systems. The <strong class="source-inline">gzip</strong> command is used to compress files<a id="_idIndexMarker172"/> and create a <a id="_idIndexMarker173"/>compressed file with a <strong class="source-inline">.gz</strong> extension, while the <strong class="source-inline">gunzip</strong> command is used to decompress these <strong class="source-inline">.gz</strong> files. These commands are particularly important for system administrators who need to save disk space by compressing files and folders, as well as transfer files over a network using <span class="No-Break">less bandwidth.</span></p>
			<p>In addition to their practical benefits, the <strong class="source-inline">gunzip</strong> and <strong class="source-inline">gzip</strong> commands are also important for maintaining system security. Compressed files can be used to hide malicious code, so system administrators must be able to quickly and easily scan compressed files for security threats. The <strong class="source-inline">gzip</strong> command also includes options for setting file permissions and modifying the timestamp of files, allowing system administrators to maintain granular control over file ac<a id="_idTextAnchor041"/>cess <span class="No-Break">and modification.</span></p>
			<p><strong class="source-inline">gunzip</strong> is a command-line tool used to decompress files that have been compressed using the <strong class="source-inline">gzip</strong> utility. The tool is used to extract the compressed data from a <strong class="source-inline">.gz</strong> file and restore it to its original state. The command is vital for system administrators because it helps to reduce file sizes and save disk space. Additionally, the command can be used to compress and decompress files while transferring them over a network, which reduces the amount of bandwidth used. A scenario-based example should help us understand the basic use <span class="No-Break">of </span><span class="No-Break"><strong class="source-inline">gunzip</strong></span><span class="No-Break">.</span></p>
			<p>Suppose a system administrator receives a compressed file called <strong class="source-inline">largefile.txt.gz</strong> from another team member. The file contains important data that they need to access. However, the file is too large to be transferred over email or other messaging platforms in its uncompressed form. To access the data in the file, the administrator will need to decompress it using the <strong class="source-inline">gunzip</strong> command. Here’s how it <span class="No-Break">is done:</span></p>
			<ol>
				<li>First, navigate to the directory where the compressed file is located. For example, if the file is located in the <strong class="source-inline">/home/instructor/Desktop/administrator/data</strong> directory, you can navigate to that directory by running the following command in <span class="No-Break">the terminal:</span></li>
			</ol>
			<div>
				<div id="_idContainer085" class="IMG---Figure">
					<img src="image/B18212_03_1.jpg" alt="Figure 3.1 – Navigating to the file location"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.1 – Navigating to the file location</p>
			<ol>
				<li value="2">Next, use<a id="_idIndexMarker174"/> the <strong class="source-inline">gunzip</strong> command<a id="_idIndexMarker175"/> to decompress the file. We’ll do this by running the following command in <span class="No-Break">the terminal:</span></li>
			</ol>
			<div>
				<div id="_idContainer086" class="IMG---Figure">
					<img src="image/B18212_03_2.jpg" alt="Figure 3.2 – Decompressing the large file using gunzip"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.2 – Decompressing the large file using gunzip</p>
			<p>This will decompress the file and restore it to its original state, then we can access the data in the file using our preferred text editor or <span class="No-Break">other tool.</span></p>
			<p><strong class="source-inline">gzip</strong> is a <a id="_idIndexMarker176"/>command-line <a id="_idIndexMarker177"/>utility that is used to compress and decompress files. It is commonly used in Linux and Unix systems to reduce the size of files for storage or transfer. The <strong class="source-inline">gzip</strong> command works by compressing a file into a smaller size using a compression algorithm. This makes it easier to store or transfer the file, as it takes up <span class="No-Break">less space.</span></p>
			<p>The <strong class="source-inline">gzip</strong> command <a id="_idIndexMarker178"/>is an important tool for system administrators, as it allows them to manage large files more efficiently. For example, if a system administrator needs to transfer a large file over the internet, they can use the <strong class="source-inline">gzip</strong> command<a id="_idIndexMarker179"/> to compress the file before sending it. This will reduce the amount of time it takes to transfer the file and reduce the amount of bandwidth required. Let’s take a look at the following <span class="No-Break">two examples:</span></p>
			<ul>
				<li>A <a id="_idIndexMarker180"/>system administrator wants to compress a log file named <strong class="source-inline">app.log</strong> that is located <a id="_idIndexMarker181"/>in the <strong class="source-inline">/var/log</strong> directory. The administrator can use the following command to compress <span class="No-Break">the file:</span></li>
			</ul>
			<div>
				<div id="_idContainer087" class="IMG---Figure">
					<img src="image/B18212_03_3.jpg" alt="Figure 3.3 – Compressing a log file using gzip"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.3 – Compressing a log file using gzip</p>
			<p class="list-inset">This will create a compressed file named <strong class="source-inline">app.log.gz</strong> in the same <strong class="source-inline">/</strong><span class="No-Break"><strong class="source-inline">var/log/</strong></span><span class="No-Break"> directory:</span></p>
			<div>
				<div id="_idContainer088" class="IMG---Figure">
					<img src="image/B18212_03_4.jpg" alt="Figure 3.4 – Compressed app.log.gz file from 1 GB to 1.0 MB"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.4 – Compressed app.log.gz file from 1 GB to 1.0 MB</p>
			<ul>
				<li>A<a id="_idIndexMarker182"/> system administrator wants to compress a directory named <strong class="source-inline">backup</strong> located in the <strong class="source-inline">/home/instructor</strong> directory. This directory compression process is often referred to as creating a “tarball,” which is a common method for bundling and compressing multiple files or directories into a single archive file. The <a id="_idIndexMarker183"/>administrator can use the following command to compress the <span class="No-Break"><strong class="source-inline">backup</strong></span><span class="No-Break"> directory:</span></li>
			</ul>
			<div>
				<div id="_idContainer089" class="IMG---Figure">
					<img src="image/B18212_03_5.jpg" alt="Figure 3.5 – Compressing a directory called backup.tar.gz"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.5 – Compressing a directory called backup.tar.gz</p>
			<p class="list-inset">This will create a compressed file named <strong class="source-inline">backup.tar.gz</strong> in the same directory. The <strong class="source-inline">tar</strong> command will also be introduced for our next topic. The <strong class="source-inline">czvf</strong> option supplied in the preceding command is used<a id="_idIndexMarker184"/> to create a compressed <a id="_idIndexMarker185"/>archive in <span class="No-Break"><strong class="source-inline">gzip</strong></span><span class="No-Break"> format.</span></p>
			<p class="list-inset">The options are <span class="No-Break">as follows:</span></p>
			<ul>
				<li>Create <span class="No-Break">an archive</span></li>
				<li>Compress the archive <span class="No-Break">using </span><span class="No-Break"><strong class="source-inline">gzip</strong></span></li>
				<li>Display <span class="No-Break">progress information</span></li>
				<li>Specify the name of the <span class="No-Break">archive file</span></li>
			</ul>
			<h1 id="_idParaDest-40"><a id="_idTextAnchor042"/>tar, rar, and unrar</h1>
			<p>The <strong class="source-inline">tar</strong>, <strong class="source-inline">rar</strong>, and <strong class="source-inline">unrar</strong> commands are<a id="_idIndexMarker186"/> essential tools for system administrators, providing<a id="_idIndexMarker187"/> them with the ability to compress and archive <a id="_idIndexMarker188"/>files for more<a id="_idIndexMarker189"/> efficient storage <a id="_idIndexMarker190"/>and transfer. With these<a id="_idIndexMarker191"/> commands, administrators can bundle up multiple files and directories into a single archive file, which can then be compressed to save even more space. These archive files can then be transferred between systems, backed up to remote storage, or stored for <span class="No-Break">future use.</span></p>
			<p>The <strong class="source-inline">tar</strong> command is particularly useful for creating archive files, as it allows administrators to specify a range of options for compression and file organization. The <strong class="source-inline">rar</strong> and <strong class="source-inline">unrar</strong> commands, on the other hand, are proprietary tools developed by RARLAB for creating and extracting RAR archive files. These commands are widely used in the Windows environment but can also be used on Linux systems with the <span class="No-Break">proper installation.</span></p>
			<p>Overall, the <strong class="source-inline">tar</strong>, <strong class="source-inline">rar</strong>, and <strong class="source-inline">unrar</strong> commands have greatly simplified the process of managing and organizing files for system administrators. With their ability to bundle up files into archive files and compress them for efficient storage and transfer, these commands have made it much easier to manage large amounts of data across <span class="No-Break">multiple systems.</span></p>
			<p><strong class="source-inline">tar</strong>, short for <strong class="bold">tape archive</strong>, is a <a id="_idIndexMarker192"/>command-line tool used in Linux and other Unix-based operating<a id="_idIndexMarker193"/> systems for creating, manipulating, and extracting archive files. It is an essential tool for system administrators, developers, and other users who frequently work with large amounts of data. The <strong class="source-inline">tar</strong> command <a id="_idIndexMarker194"/>allows users to bundle multiple files and directories into a single file using the <span class="No-Break">following syntax:</span></p>
			<pre class="source-code">
<strong class="bold">tar [options] [archive-file] [file or directory to be archived]</strong></pre>			<p>This archive file can then be easily compressed, transferred, and <span class="No-Break">backed up.</span></p>
			<p>This tool is important because it simplifies the process of creating and managing backups, as well as allowing users to easily share files <span class="No-Break">with others.</span></p>
			<p>One common use case for <strong class="source-inline">tar</strong> is for creating backups of important files and directories on a system. For example, a system administrator may use the <strong class="source-inline">tar</strong> command to create a backup of critical configuration files and directories before making any major changes to the system. In this scenario, the <strong class="source-inline">tar</strong> command can be used to bundle all of the necessary files and directories into a single archive file, which can then be stored on a separate backup device or transferred to a remote location for safekeeping. Another use case for <strong class="source-inline">tar</strong> is for distributing software packages. Developers can use <strong class="source-inline">tar</strong> to bundle all of the necessary files and directories for a software package into a single archive file, which can then be easily distributed to <span class="No-Break">end users.</span></p>
			<p>A system administrator may need to transfer a large file or directory to another server over the network. In this case, the <strong class="source-inline">tar</strong> command can be used to bundle the necessary files and directories into a single archive file, which can then be compressed and transferred over the network using tools <a id="_idIndexMarker195"/>such as <strong class="bold">secure copy</strong> (<strong class="bold">SCP</strong>) or <strong class="bold">remote sync</strong> (<strong class="bold">RSYNC</strong>). For example, a system administrator may use the following command to create a <a id="_idIndexMarker196"/>TAR archive of a directory named <strong class="source-inline">webBackups</strong> and compress it using the <strong class="source-inline">gzip</strong> <span class="No-Break">compression algorithm:</span></p>
			<div>
				<div id="_idContainer090" class="IMG---Figure">
					<img src="image/B18212_03_6.jpg" alt="Figure 3.6 – Creating a TAR archive of a directory"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.6 – Creating a TAR archive of a directory</p>
			<p><strong class="source-inline">rar</strong> is a <a id="_idIndexMarker197"/>proprietary<a id="_idIndexMarker198"/> file-archiving utility used to compress and decompress files on Linux systems. The tool was developed by Eugene Roshal and is used to create compressed files with the <strong class="source-inline">.rar</strong> extension. It’s a popular file compression format that allows users to compress large files into smaller archives for easier storage, transfer, and distribution. <strong class="source-inline">rar</strong> supports features such as password protection, error recovery, and archive spanning, making it a versatile and efficient tool for managing large sets <span class="No-Break">of files.</span></p>
			<p>System administrators can use <strong class="source-inline">rar</strong> to compress large files or sets of files, reducing their size and freeing up disk space. This can help improve system performance and reduce the amount of storage required for backups and file transfers. Additionally, RAR archives can be protected with a password to provide an extra layer of security to sensitive files. System administrators can also use <strong class="source-inline">rar</strong> to split large files into multiple smaller files, which can be useful for transferring files over the internet or storing them on portable media such as <span class="No-Break">USB drives.</span></p>
			<p><span class="No-Break"><strong class="bold">Scenario 1</strong></span></p>
			<p>A system administrator needs to transfer a large backup file to another server over the internet. The file is too large to transfer in its current format, so the administrator decides to compress it using <strong class="source-inline">rar</strong>. The administrator uses the <strong class="source-inline">rar a backup.rar backup_folder</strong> command to create an archive of the <span class="No-Break"><strong class="source-inline">backup</strong></span><span class="No-Break"> folder:</span></p>
			<div>
				<div id="_idContainer091" class="IMG---Figure">
					<img src="image/B18212_03_7.jpg" alt="Figure 3.7 – Creating an archive of the backup folder"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.7 – Creating an archive of the backup folder</p>
			<p>The <a id="_idIndexMarker199"/>resulting RAR archive is smaller than the original backup <a id="_idIndexMarker200"/>folder and can be easily transferred over <span class="No-Break">the internet.</span></p>
			<h1 id="_idParaDest-41"><a id="_idTextAnchor043"/>zip and unzip</h1>
			<p><strong class="source-inline">zip</strong> and <strong class="source-inline">unzip</strong> are file <a id="_idIndexMarker201"/>compression and archiving<a id="_idIndexMarker202"/> commands widely used by<a id="_idIndexMarker203"/> system administrators. <strong class="source-inline">zip</strong> is used to compress and archive<a id="_idIndexMarker204"/> files, while <strong class="source-inline">unzip</strong> is used to extract and uncompress files from ZIP archives. <strong class="source-inline">zip</strong> and <strong class="source-inline">unzip</strong> are important commands because they allow system administrators to efficiently manage large files and directories, reduce storage space usage, and speed up file transfers. The commands are easy to use and support various compression and archive formats, making them versatile tools for system <span class="No-Break">administration tasks.</span></p>
			<p><strong class="source-inline">zip</strong> is used to compress and archive files into a single file for easier backup, storage, and transfer. The compressed <strong class="source-inline">.zip</strong> file takes up less storage space, reducing the need for additional storage devices. System administrators can use the <strong class="source-inline">zip</strong> command to compress and archive files, directories, and even entire filesystems. Let’s look at some scenario-based <span class="No-Break">examples next.</span></p>
			<p>A system administrator needs to create a backup of a web server directory on a Linux machine. The directory contains several files and subdirectories, and the administrator decides to use <strong class="source-inline">zip</strong> to <a id="_idIndexMarker205"/>compress and archive the directory into a single file for easier backup and<a id="_idIndexMarker206"/> storage. The administrator uses the <strong class="source-inline">zip -r backup.zip web_server</strong> command to create a ZIP archive of the web server directory, including all subdirectories and files. The resulting ZIP archive can be stored on a portable hard drive or transferred over the network to another server <span class="No-Break">for safekeeping:</span></p>
			<div>
				<div id="_idContainer092" class="IMG---Figure">
					<img src="image/B18212_03_8.jpg" alt="Figure 3.8 – Creating a backup of a web server directory"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.8 – Creating a backup of a web server directory</p>
			<p>In this example, the administrator compresses the <strong class="source-inline">web_server</strong> directory into a ZIP archive called <strong class="source-inline">backup.zip</strong> using the <strong class="source-inline">-r</strong> flag to include all subdirectories and files recursively. Later, when the administrator needs to restore the directory, they use the <strong class="source-inline">unzip</strong> command with the <strong class="source-inline">-d</strong> flag to extract the archive to a new directory <span class="No-Break">called </span><span class="No-Break"><strong class="source-inline">restored_web_server</strong></span><span class="No-Break">.</span></p>
			<p><strong class="source-inline">unzip</strong> can also be<a id="_idIndexMarker207"/> used to list the contents of a ZIP archive, test the integrity of the archive, and <a id="_idIndexMarker208"/>extract specific files from the archive. It is also used to extract and uncompress files from ZIP archives, allowing system administrators to retrieve and use files contained in the archive. Here is an example of <span class="No-Break">using </span><span class="No-Break"><strong class="source-inline">unzip</strong></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer093" class="IMG---Figure">
					<img src="image/B18212_03_9.jpg" alt="Figure 3.9 – Using the unzip “-d” flag to extract the archive to a new directory"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.9 – Using the unzip “-d” flag to extract the archive to a new directory</p>
			<p>The <strong class="source-inline">unzip backup.zip -d restored_web_server</strong> command is used to extract the contents of a ZIP archive named <strong class="source-inline">backup.zip</strong> into a directory <span class="No-Break">named </span><span class="No-Break"><strong class="source-inline">restored_web_server</strong></span><span class="No-Break">.</span></p>
			<p>To determine the <a id="_idIndexMarker209"/>directory size, you can use the <strong class="source-inline">du -H restored_web_server/</strong> command, which <a id="_idIndexMarker210"/>calculates the disk usage of files and directories, as shown in the <span class="No-Break">following screenshot:</span></p>
			<div>
				<div id="_idContainer094" class="IMG---Figure">
					<img src="image/B18212_03_10.jpg" alt="Figure 3.10 – The restored_web_server command"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.10 – The restored_web_server command</p>
			<p>The <strong class="source-inline">-d</strong> flag specifies the destination directory for the extracted files. In this case, the destination directory is <strong class="source-inline">restored_web_server</strong>. The contents of the ZIP archive will be extracted into this directory, preserving the directory structure of the original archive. In our next topic, we will explore how to use the <strong class="source-inline">tar</strong> command to compress files using the <strong class="source-inline">bzip2</strong> and <strong class="source-inline">bunzip</strong> formats. We will also touch on other archiving commands that system administrators commonly use in their <span class="No-Break">daily tasks.</span></p>
			<h1 id="_idParaDest-42"><a id="_idTextAnchor044"/>bunzip2, bzip2, and more</h1>
			<p><strong class="source-inline">bzip2</strong> and <strong class="source-inline">bunzip2</strong> are two<a id="_idIndexMarker211"/> commands that are used for file compression and<a id="_idIndexMarker212"/> decompression on Unix-based systems. The <strong class="source-inline">bzip2</strong> command is <a id="_idIndexMarker213"/>used to compress a file, while<a id="_idIndexMarker214"/> the <strong class="source-inline">bunzip2</strong> command is used to decompress a file that has been compressed using <strong class="source-inline">bzip2</strong>. These commands are commonly used by system administrators to save disk space and to transfer large files <span class="No-Break">between systems.</span></p>
			<p><strong class="source-inline">bzip2</strong> is a <a id="_idIndexMarker215"/>powerful compression tool that<a id="_idIndexMarker216"/> compresses files using the Burrows-Wheeler block sorting text compression algorithm, followed by Huffman coding. This algorithm allows <strong class="source-inline">bzip2</strong> to achieve a high level of compression while maintaining a relatively fast decompression time. This makes <strong class="source-inline">bzip2</strong> ideal for compressing large files, such as backups, databases, and software distributions. When a file is compressed using <strong class="source-inline">bzip2</strong>, it is typically given a <strong class="source-inline">.bz2</strong> extension. Here are a couple of examples to <span class="No-Break">demonstrate this.</span></p>
			<p><span class="No-Break"><strong class="bold">Scenario 1</strong></span></p>
			<p>A system administrator wants <a id="_idIndexMarker217"/>to compress a large log file and save disk space on the server. The administrator decides to use <strong class="source-inline">bzip2</strong> to compress the file. The administrator navigates to the directory where the log file is located and enters the <strong class="source-inline">bzip2 -k -v syslog.log</strong> command to compress the log file <span class="No-Break">using </span><span class="No-Break"><strong class="source-inline">bzip2</strong></span><span class="No-Break">:</span></p>
			<div>
				<div id="_idContainer095" class="IMG---Figure">
					<img src="image/B18212_03_11.jpg" alt="Figure 3.11 – Using bzip2 to compress a large log file"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.11 – Using bzip2 to compress a large log file</p>
			<p>Then, we verify the compressed <span class="No-Break"><strong class="source-inline">syslog.log</strong></span><span class="No-Break"> file:</span></p>
			<div>
				<div id="_idContainer096" class="IMG---Figure">
					<img src="image/B18212_03_12.jpg" alt="Figure 3.12 – Verifying the compressed log file"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.12 – Verifying the compressed log file</p>
			<p>The <strong class="source-inline">-k</strong> option keeps the original file and creates a compressed version, while the <strong class="source-inline">-v</strong> option displays the progress of the compression process. The compressed file is now much smaller than the original and can be safely deleted to free up <span class="No-Break">disk space.</span></p>
			<p><span class="No-Break"><strong class="bold">Scenario 2</strong></span></p>
			<p>A system administrator needs to back up a large directory containing multiple files and subdirectories. The administrator decides to use <strong class="source-inline">bzip2</strong> to compress the directory and its contents into a single file. The administrator enters the <strong class="source-inline">tar -cvf - directory_to_backup | bzip2 -9 -c &gt; backup.tar.bz2</strong> command to create a TAR archive of the directory, compress it using <strong class="source-inline">bzip2</strong> with the highest compression<a id="_idIndexMarker218"/> level (<strong class="source-inline">-9</strong>), and<a id="_idIndexMarker219"/> redirect the output to a <span class="No-Break">backup file:</span></p>
			<div>
				<div id="_idContainer097" class="IMG---Figure">
					<img src="image/B18212_03_13.jpg" alt="Figure 3.13 – Compressing a directory with a subdirectory"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.13 – Compressing a directory with a subdirectory</p>
			<p>Let’s dive into the <span class="No-Break">chained commands.</span></p>
			<p>The <strong class="source-inline">tar -cvf - /home/instructor/Desktop/administrator</strong> command is used to create a TAR archive of the <strong class="source-inline">/home/instructor/Desktop/administrator</strong> directory; this was the first command we introduced in this chapter. The <strong class="source-inline">-c</strong> option specifies that a new archive is being created, the <strong class="source-inline">-v</strong> option enables verbose mode to display the progress of the archiving process, and the <strong class="source-inline">-f</strong> option specifies the output file. The hyphen after the <strong class="source-inline">-f</strong> option indicates that the output should be sent<a id="_idIndexMarker220"/> to <strong class="bold">standard output</strong> (<strong class="bold">stdout</strong>) instead of a file <span class="No-Break">on disk.</span></p>
			<p>The <strong class="source-inline">|</strong> (pipe) symbol is used to redirect the output of the <strong class="source-inline">tar</strong> command to the input of the <strong class="source-inline">bzip2</strong> command; then, we have the <strong class="source-inline">bzip2 -9 -c</strong> command, which is used to compress the TAR archive created by the <strong class="source-inline">tar</strong> command using the <strong class="source-inline">bzip2</strong> algorithm. The <strong class="source-inline">-9</strong> option specifies the highest compression level, while the <strong class="source-inline">-c</strong> option sends the output to stdout. Finally, <strong class="source-inline">&gt; backup.tar.bz2</strong> redirects the compressed output to a file <span class="No-Break">named </span><span class="No-Break"><strong class="source-inline">backup.tar.bz2</strong></span><span class="No-Break">.</span></p>
			<p>Here’s a brief <a id="_idIndexMarker221"/>explanation of the common compression levels <span class="No-Break">in </span><span class="No-Break"><strong class="source-inline">bzip2</strong></span><span class="No-Break">:</span></p>
			<ul>
				<li><strong class="source-inline">-1</strong> (fastest): This level provides the fastest compression but generates larger compressed files. It’s suitable for situations where speed is more critical than file <span class="No-Break">size reduction.</span></li>
				<li><strong class="source-inline">-9</strong> (maximum compression—our choice in <span class="No-Break"><em class="italic">Figure 3</em></span><em class="italic">.13</em>): This level offers the highest compression, resulting in smaller compressed files. However, it is slower than lower levels. It’s useful when saving disk space is a top priority and you don’t mind waiting for the compression process <span class="No-Break">to finish.</span></li>
				<li><strong class="source-inline">-2</strong> to <strong class="source-inline">-8</strong> (intermediate levels): These levels offer a trade-off between compression speed and resulting file size. As you move from <strong class="source-inline">-2</strong> to <strong class="source-inline">-8</strong>, the compression becomes better (smaller file size) but slower compared to lower levels. Choose an intermediate level based on your specific requirements for speed and file <span class="No-Break">size reduction.</span></li>
			</ul>
			<p>The resulting<a id="_idIndexMarker222"/> backup file is much smaller than the original <a id="_idIndexMarker223"/>directory and can be easily transferred or stored <span class="No-Break">for safekeeping.</span></p>
			<p>The <strong class="source-inline">bunzip2</strong> command<a id="_idIndexMarker224"/> is used to decompress files that have been compressed<a id="_idIndexMarker225"/> using <strong class="source-inline">bzip2</strong>. When a compressed file is decompressed using <strong class="source-inline">bunzip2</strong>, the original file is restored with the same name and directory path as the compressed file, but without the <strong class="source-inline">.bz2</strong> extension. The <strong class="source-inline">bunzip2</strong> command is also able to decompress files that have been compressed using the <span class="No-Break"><strong class="source-inline">gzip</strong></span><span class="No-Break"> command.</span></p>
			<p>System administrators can make use of <strong class="source-inline">bzip2</strong> and <strong class="source-inline">bunzip2</strong> in a variety of ways. One common use case is to compress and decompress large log files on a web server. By compressing log files using <strong class="source-inline">bzip2</strong>, system administrators can save disk space and transfer the logs to another system for analysis. Another use case is to compress and transfer database backups between servers. By compressing backups using <strong class="source-inline">bzip2</strong>, system administrators can reduce transfer times and conserve network bandwidth. Let’s delve into an example to further <span class="No-Break">clarify this.</span></p>
			<p><span class="No-Break"><strong class="bold">Scenario 1</strong></span></p>
			<p>A system <a id="_idIndexMarker226"/>administrator needs to extract and decompress a large compressed file that has been split into multiple parts. The compressed file has a <strong class="source-inline">.bz2</strong> extension and was created using the <strong class="source-inline">bzip2</strong> command. To extract and decompress the file, the administrator can use the <strong class="source-inline">bunzip2</strong> command followed by the filename. If the compressed file has been split into multiple parts, the administrator can use the <strong class="source-inline">cat</strong> command to concatenate the files and then pipe the output to the <strong class="source-inline">bunzip2</strong> command. The following is an example command that the administrator <span class="No-Break">can use:</span></p>
			<div>
				<div id="_idContainer098" class="IMG---Figure">
					<img src="image/B18212_03_14.jpg" alt="Figure 3.14 – Using bunzip2 to decompress a compressed file"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.14 – Using bunzip2 to decompress a compressed file</p>
			<p>The <strong class="source-inline">cat syslog.log.bz2</strong> command reads the contents of the <strong class="source-inline">syslog.log.bz2</strong> compressed file and passes it as input to the <strong class="source-inline">bunzip2 -c</strong> command. The <strong class="source-inline">-c</strong> option specifies that the output of the command should be sent to stdout (that is, the terminal) instead of <span class="No-Break">a file.</span></p>
			<p>The <strong class="source-inline">bunzip2 -c</strong> command <a id="_idIndexMarker227"/>decompresses the input file using the <strong class="source-inline">bzip2</strong> compression<a id="_idIndexMarker228"/> algorithm and sends the uncompressed data to stdout. Finally, the output is redirected to a file named <strong class="source-inline">decompressed_file</strong> using the <strong class="source-inline">&gt;</strong> <span class="No-Break">operator.</span></p>
			<p>Let us explore additional archiving commands that can be utilized, such as <strong class="source-inline">7zip</strong> <span class="No-Break">and </span><span class="No-Break"><strong class="source-inline">xz</strong></span><span class="No-Break">.</span></p>
			<p>7-Zip<a id="_idIndexMarker229"/> is a popular open source file archiver that can handle various compression formats such as ZIP, GZIP, TAR, and its own 7z format. It is widely used by system administrators for compressing and extracting files and directories. The tool features a high compression ratio that helps in reducing the file size significantly. The compression format used by 7-Zip is also known to be secure, making it a suitable option for archiving confidential data. It can also create self-extracting archives that allow users to extract compressed files without having to install any additional software. We’ll delve into a scenario <span class="No-Break">and explain.</span></p>
			<p><span class="No-Break"><strong class="bold">Scenario 1</strong></span></p>
			<p>A system administrator needs to create a compressed archive of a large directory containing confidential information. The administrator uses the <strong class="source-inline">7z a -t7z -p -mhe=on archive.7z directory_to_compress</strong> command to create a password-protected and encrypted 7z archive of the directory. The <strong class="source-inline">-mhe=on</strong> option enables encryption of filenames to ensure the confidentiality of <span class="No-Break">the data:</span></p>
			<div>
				<div id="_idContainer099" class="IMG---Figure">
					<img src="image/B18212_03_15.jpg" alt="Figure 3.15 – 7-Zip prompting the user to enter a password"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.15 – 7-Zip prompting the user to enter a password</p>
			<p>The <strong class="source-inline">-p</strong> option is used to<a id="_idIndexMarker230"/> specify a password for the compressed archive. Since no password is provided after the <strong class="source-inline">-p</strong> option, <strong class="source-inline">7z</strong> will prompt the user to enter a password. The resulting <strong class="source-inline">7z</strong> archive can be easily transferred and stored on another server or external drive, and only authorized personnel with the password can extract <span class="No-Break">the data.</span></p>
			<p>XZ is a<a id="_idIndexMarker231"/> command-line tool used for<a id="_idIndexMarker232"/> data compression and decompression. It is based on the <strong class="bold">Lempel-Ziv-Markov-chain algorithm</strong> (<strong class="bold">LZMA</strong>), which is known for its high compression ratio and low memory usage. XZ is used for creating compressed archives of large files and directories, particularly in Linux systems. It is also used for compressing the Linux kernel during installation. XZ provides a significant reduction in file size while maintaining the integrity of the original file. Additionally, XZ can be used for compressing and decompressing files on the fly, which is useful in <span class="No-Break">some scenarios.</span></p>
			<p><span class="No-Break"><strong class="bold">Scenario 2</strong></span></p>
			<p>A system administrator needs to compress and archive a large log file generated by a web server. The administrator uses the <strong class="source-inline">xz -z -k -9 logfile.log</strong> command to compress the file with a maximum compression level (<strong class="source-inline">-9</strong>) and keep the original file (<strong class="source-inline">-k</strong>). The resulting compressed file is significantly smaller than the original file, making it easier to store and transfer. The administrator can use the <strong class="source-inline">xz -d logfile.log.xz</strong> command to decompress the file for analysis or <span class="No-Break">further processing.</span></p>
			<p>The following command is used for compressing the <span class="No-Break">log file:</span></p>
			<div>
				<div id="_idContainer100" class="IMG---Figure">
					<img src="image/B18212_03_16.jpg" alt="Figure 3.16 – Compressing the syslog file"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.16 – Compressing the syslog file</p>
			<p>Here, the <strong class="source-inline">xz</strong> command<a id="_idIndexMarker233"/> is used to compress the <strong class="source-inline">syslog.log</strong> file with the maximum compression level of 9 (<strong class="source-inline">-9</strong>) and keep the original file (<strong class="source-inline">-k</strong>). The resulting compressed file will have a <strong class="source-inline">.</strong><span class="No-Break"><strong class="source-inline">xz</strong></span><span class="No-Break"> extension.</span></p>
			<p>The following command is used for decompressing the compressed <span class="No-Break">log file:</span></p>
			<div>
				<div id="_idContainer101" class="IMG---Figure">
					<img src="image/B18212_03_17.jpg" alt="Figure 3.17 – Decompressing the syslog file"/>
				</div>
			</div>
			<p class="IMG---Caption" lang="en-US" xml:lang="en-US">Figure 3.17 – Decompressing the syslog file</p>
			<p>To decompress the syslog file, we use the same <strong class="source-inline">xz</strong> command to decompress the <strong class="source-inline">syslog.log.xz</strong> compressed file. The resulting file will have the original <span class="No-Break">name, </span><span class="No-Break"><strong class="source-inline">logfile.log</strong></span><span class="No-Break">.</span></p>
			<p>In conclusion, Linux systems have several powerful tools for compressing and decompressing files, including <strong class="source-inline">bunzip2</strong>, <strong class="source-inline">bzip2</strong>, <strong class="source-inline">7z</strong>, and <strong class="source-inline">xz</strong>. These tools are especially useful for archiving large files and directories, as well as for transferring files between systems or over networks. With the ability to password-protect and encrypt data in some of these commands, administrators can ensure the security and confidentiality of their files. By using these commands, system administrators can more efficiently manage their files and storage, and optimize their computing resources. For example, <strong class="source-inline">7z</strong> can compress large databases, <strong class="source-inline">bzip2</strong> can archive files, and <strong class="source-inline">xz</strong> can compress log files. Whether the administrator needs to compress, transfer, or decompress files, these tools provide reliable and <span class="No-Break">efficient solutions.</span></p>
			<h1 id="_idParaDest-43"><a id="_idTextAnchor045"/>Summary</h1>
			<p>This chapter covered file compression and archival commands, which are important for efficient file management and transferring files over networks. It also covered several powerful tools, including <strong class="source-inline">gunzip</strong>, <strong class="source-inline">gzip</strong>, <strong class="source-inline">tar</strong>, <strong class="source-inline">rar</strong>, <strong class="source-inline">unrar</strong>, <strong class="source-inline">zip</strong>, <strong class="source-inline">unzip</strong>, <strong class="source-inline">bunzip2</strong>, <strong class="source-inline">bzip2</strong>, <strong class="source-inline">7z</strong>, and <strong class="source-inline">xz</strong>, which enable system administrators to compress and decompress files efficiently, archive large files and directories, and transfer files over networks or between systems. These commands offer various compression levels and encryption options to ensure the security and confidentiality of data. They are particularly useful for managing large databases, backing up important files, and transferring files over the internet. By using these commands, system administrators can efficiently manage their files and storage, making the most of their <span class="No-Break">computing resources.</span></p>
			<p>Overall, this chapter provided a comprehensive guide to file compression and archiving commands in Linux, which are essential for effective file management and storage optimization. By mastering these commands, system administrators can efficiently manage their files and storage, ensuring the security and confidentiality of <span class="No-Break">their data.</span></p>
			<p>As we move to <em class="italic">Part 2</em>, the next chapter will focus on format and disk space commands, which are essential for system administrators to manage disk space and filesystems. Through this chapter, readers will learn various commands such as <strong class="source-inline">mkfs</strong>, <strong class="source-inline">fdisk</strong>, <strong class="source-inline">du</strong>, <strong class="source-inline">df</strong>, and more to format disks, partition hard drives, check disk usage, and manage filesystems. By learning these commands, system administrators can effectively manage disk space and optimize <span class="No-Break">storage performance.</span></p>
		</div>
	

		<div id="_idContainer103" class="Content">
			<h1 id="_idParaDest-44" lang="en-US" xml:lang="en-US"><a id="_idTextAnchor046"/>Part 2:Frequently Used Commands – Part 1</h1>
			<p>In this part, we explore the essential commands frequently used by system administrators in the <strong class="bold">command line interface</strong> (<strong class="bold">CLI</strong>). We cover their practicality and execution and provide hands-on experience to ensure a <span class="No-Break">proper understanding.</span></p>
			<p>This section contains the <span class="No-Break">following chapters:</span></p>
			<ul>
				<li><a href="B18212_04.xhtml#_idTextAnchor047"><em class="italic">Chapter 4</em></a>, <em class="italic">Format and Disk Space Commands</em></li>
				<li><a href="B18212_05.xhtml#_idTextAnchor061"><em class="italic">Chapter 5</em></a>, <em class="italic">Linux Permissions Commands</em></li>
				<li><a href="B18212_06.xhtml#_idTextAnchor074"><em class="italic">Chapter 6</em></a>, <em class="italic">Filesystem Mount and Manipulation Commands</em></li>
			</ul>
		</div>
		<div>
			<div id="_idContainer104">
			</div>
		</div>
		<div>
			<div id="_idContainer105" class="Basic-Graphics-Frame">
			</div>
		</div>
	</body></html>