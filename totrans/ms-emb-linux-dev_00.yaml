- en: Preface
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Linux has been the mainstay of embedded computing for many years. And yet,
    there are remarkably few books that cover the topic as a whole: this book is intended
    to fill that gap. The term embedded Linux is not well-defined and can be applied
    to the operating system inside a wide range of devices ranging from thermostats
    to Wi-Fi routers to industrial control units. However, they are all built on the
    same basic open source software. Those are the technologies that I describe in
    this book, based on my experience as an engineer.'
  prefs: []
  type: TYPE_NORMAL
- en: Technology does not stand still. The industry based around embedded computing
    is just as susceptible to Moore’s law as mainstream computing. The exponential
    growth that this implies has meant that a surprisingly large number of things
    have changed since the first edition of this book was published. This fourth edition
    is fully revised to use the latest versions of the major open source components,
    which include Linux 6.6, Yocto Project 5.0 Scarthgap, and Buildroot 2024.02 LTS.
    In addition to Autotools, the book now covers CMake, a modern build system that
    has seen increased adoption in recent years.
  prefs: []
  type: TYPE_NORMAL
- en: Who this book is for
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: This book is written for developers with an interest in embedded computing and
    Linux, who want to extend their knowledge into the various branches of the subject.
    In writing the book, I assume a basic understanding of the Linux command line,
    and in the programming examples, a working knowledge of the C and Python languages.
    Several chapters focus on the hardware that goes into an embedded target board,
    so a familiarity with hardware and hardware interfaces will be a definite advantage
    in these cases.
  prefs: []
  type: TYPE_NORMAL
- en: What this book covers
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: '[*Chapter 1*](Chapter_01.xhtml#_idTextAnchor016), *Starting Out*, sets the
    scene by describing the embedded Linux ecosystem and the choices available to
    you as you start your project.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 2*](Chapter_01.xhtml#_idTextAnchor028), *Learning about Toolchains*,
    describes the components of a toolchain and where to obtain a toolchain for cross-compiling
    code for your target board.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 3*](Chapter_03.xhtml#_idTextAnchor061), *All about Bootloaders*,
    explains the role of the bootloader in loading the Linux kernel into memory, and
    uses U-Boot as an example. It also introduces device trees as the mechanism used
    to encode the details of hardware in almost all embedded Linux systems.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 4*](Chapter_04.xhtml#_idTextAnchor096), *Configuring and Building
    the Kernel*, provides information on how to select a Linux kernel for an embedded
    system and configure it for the hardware within the device. It also covers how
    to port Linux to the new hardware.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 5*](Chapter_05.xhtml#_idTextAnchor138), *Building a Root Filesystem*,
    introduces the ideas behind the user space part of an embedded Linux implementation
    by means of a step-by-step guide on how to configure a root filesystem.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 6*](Chapter_04.xhtml#_idTextAnchor110), *Selecting a Build System*,
    covers two commonly used embedded Linux build systems, Buildroot and The Yocto
    Project, which automate the steps described in the previous four chapters.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 7*](Chapter_05.xhtml#_idTextAnchor151), *Developing with Yocto*,
    demonstrates how to build system images on top of an existing BSP layer, develop
    onboard software packages with Yocto’s extensible SDK, and roll your own embedded
    Linux distribution complete with runtime package management.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 8*](Chapter_08.xhtml#_idTextAnchor258), *Yocto under the Hood*, is
    a tour of Yocto’s build workflow and architecture, including an explanation of
    Yocto’s unique multi-layer approach. It also breaks down the basics of BitBake
    syntax and semantics with examples from actual recipe files.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 9*](Chapter_09.xhtml#_idTextAnchor293), *Creating a Storage Strategy*,
    discusses the challenges created by managing flash memory, including raw flash
    chips and **embedded MMC** (**eMMC**) packages. It describes the filesystems that
    are applicable to each type of technology.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 10*](Chapter_10.xhtml#_idTextAnchor341), *Updating Software in the
    Field*, examines various ways of updating the software after the device has been
    deployed, and includes fully managed **Over-the-Air** (**OTA**) updates. The key
    topics under discussion are reliability and security.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 11*](Chapter_11.xhtml#_idTextAnchor373), *Interfacing with Device
    Drivers*, describes how kernel device drivers interact with the hardware by implementing
    a simple driver. It also describes the various ways of calling device drivers
    from user space.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 12*](Chapter_04.xhtml#_idTextAnchor126), *Prototyping with Add-On
    Boards*, demonstrates how to prototype hardware and software quickly using a pre-built
    Debian image for the BeaglePlay together with MikroElektronika peripheral add-on
    boards.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 13*](Chapter_13.xhtml#_idTextAnchor431), *Starting Up – The init
    Program*, explains how the first user space program, `init`, starts the rest of
    the system. It describes three versions of the `init` program, each suitable for
    a different group of embedded systems, ranging from the simplicity of the BusyBox
    `init`, through System V `init`, to the current state-of-the-art, `systemd`.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 14*](Chapter_14.xhtml#_idTextAnchor462), *Managing Power*, considers
    the various ways that Linux can be tuned to reduce power consumption, including
    dynamic frequency and voltage scaling, selecting deeper idle states, and system
    suspend. The aim is to make devices that run longer on a battery charge and also
    run cooler.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 15*](Chapter_15.xhtml#_idTextAnchor483), *Packaging Python*, explains
    what choices are available for bundling Python modules together for deployment
    and when to use one method over another. It covers `pip`, virtual environments,
    and `conda`.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 16*](Chapter_01.xhtml#_idTextAnchor030), *Deploying Container Images*,
    introduces the principles of the DevOps movement and demonstrates how to apply
    them to embedded Linux. First, we use Docker to bundle a Python application together
    with its user space environment inside a container image. Then we use GitHub Actions
    to set up a CI/CD pipeline for our container image. Lastly, we use Docker to perform
    containerized software updates on a Raspberry Pi 4.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 17*](Chapter_17.xhtml#_idTextAnchor542), *Learning about Processes
    and Threads*, describes embedded systems from the point of view of the application
    programmer. This chapter looks at processes and threads, inter-process communications,
    and scheduling policies.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 18*](Chapter_18.xhtml#_idTextAnchor581), *Managing Memory*, examines
    the ideas behind virtual memory and how the address space is divided into memory
    mappings. It also describes how to measure memory usage accurately and how to
    detect memory leaks.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 19*](Chapter_19.xhtml#_idTextAnchor611), *Debugging with GDB*, shows
    you how to use the GNU debugger, GDB, together with the debug agent, `gdbserver`,
    to debug applications running remotely on the target device. It goes on to show
    how you can extend this model to debug kernel code, making use of the kernel debug
    stubs, KGDB.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 20*](Chapter_16.xhtml#_idTextAnchor538), *Profiling and Tracing*,
    covers the techniques available to measure system performance, starting from whole
    system profiles and then zeroing in on specific areas where bottlenecks are causing
    poor performance. It also describes how to use Valgrind to check the correctness
    of an application’s use of thread synchronization and memory allocation.'
  prefs: []
  type: TYPE_NORMAL
- en: '[*Chapter 21*](Chapter_19.xhtml#_idTextAnchor654), *Real-Time Programming*,
    provides a detailed guide to real-time programming on Linux using the recently
    merged `PREEMPT_RT` real-time kernel patch.'
  prefs: []
  type: TYPE_NORMAL
- en: To get the most out of this book
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The software used in this book is entirely open source. In almost all cases,
    I have used the latest stable versions available at the time of writing. While
    I have tried to describe the main features in a manner that is not version-specific,
    it is inevitable that some of the examples will need adaptation to work with later
    software. Here is the primary hardware and software used throughout the book:'
  prefs: []
  type: TYPE_NORMAL
- en: QEMU (64-bit Arm)
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Raspberry Pi 4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: BeaglePlay
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Yocto Project 5.0 Scarthgap
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Buildroot 2024.02
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Bootlin aarch64 glibc stable toolchain 2024.02-1
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Arm GNU AArch32 bare-metal target (arm-none-eabi) toolchain 13.2.Rel1
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: U-Boot v2024.04
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Linux kernel 6.6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'Embedded development involves two systems: the host, which is used for developing
    the programs, and the target, which runs them. For the host system, I chose Ubuntu
    24.04 LTS because of its widespread adoption and long-term maintenance guarantees.
    You may decide to run Linux on Docker, a virtual machine, or Windows Subsystem
    for Linux, but be aware that some tasks, such as building a distribution using
    The Yocto Project, are quite demanding and run better on a native installation
    of Linux.'
  prefs: []
  type: TYPE_NORMAL
- en: For the targets, I chose the QEMU emulator, the Raspberry Pi 4, and the BeaglePlay.
    Using QEMU means that you can try out most of the examples without having to invest
    in any additional hardware. On the other hand, some things work better with real
    hardware. For that, I picked the Raspberry Pi 4 because it is inexpensive, widely
    available, and has very good community support. The BeaglePlay replaces the BeagleBone
    Black used in previous editions of the book. Of course, you are not limited to
    just these three targets. The idea behind the book is to provide you with general
    solutions to problems so that you can apply them to a wide range of target boards.
  prefs: []
  type: TYPE_NORMAL
- en: Download the example code files
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: The code bundle for the book is hosted on GitHub at [https://github.com/PacktPublishing/Mastering-Embedded-Linux-Development](https://github.com/PacktPublishing/Mastering-Embedded-Linux-Development).
    We also have other code bundles from our rich catalog of books and videos available
    at [https://github.com/PacktPublishing](https://github.com/PacktPublishing). Check
    them out!
  prefs: []
  type: TYPE_NORMAL
- en: Download the color images
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: 'We also provide a PDF file that has color images of the screenshots/diagrams
    used in this book. You can download it here: [https://packt.link/gbp/9781803232591](https://packt.link/gbp/9781803232591).'
  prefs: []
  type: TYPE_NORMAL
- en: Conventions used
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
- en: There are a number of text conventions used throughout this book.
  prefs: []
  type: TYPE_NORMAL
- en: '`CodeInText`: Indicates code words in text, database table names, folder names,
    filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles.
    For example: “Execute the `make menuconfig` command:”'
  prefs: []
  type: TYPE_NORMAL
- en: 'A block of code is set as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  prefs: []
  type: TYPE_PRE
- en: 'Any command-line input or output is written as follows:'
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE1]'
  prefs: []
  type: TYPE_PRE
- en: '**Bold**: Indicates a new term, an important word, or words that you see on
    the screen. For instance, words in menus or dialog boxes appear in the text like
    this. For example: “Back out of **External toolchain** and open the **Toolchain**
    submenu.”'
  prefs: []
  type: TYPE_NORMAL
- en: Warnings or important notes appear like this.
  prefs: []
  type: TYPE_NORMAL
- en: Tips and tricks appear like this.
  prefs: []
  type: TYPE_NORMAL
- en: Get in touch
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Feedback from our readers is always welcome.
  prefs: []
  type: TYPE_NORMAL
- en: '**General feedback**: Email `feedback@packtpub.com` and mention the book’s
    title in the subject of your message. If you have questions about any aspect of
    this book, please email us at `questions@packtpub.com`.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book, we would
    be grateful if you reported this to us. Please visit [http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata),
    click **Submit Errata**, and fill in the form.'
  prefs: []
  type: TYPE_NORMAL
- en: '**Piracy**: If you come across any illegal copies of our works in any form
    on the internet, we would be grateful if you would provide us with the location
    address or website name. Please contact us at `copyright@packtpub.com` with a
    link to the material.'
  prefs: []
  type: TYPE_NORMAL
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit [http://authors.packtpub.com/](http://authors.packtpub.com/).'
  prefs: []
  type: TYPE_NORMAL
- en: Share your thoughts
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Once you’ve read *Mastering Embedded Linux Development, Fourth Edition*, we’d
    love to hear your thoughts! Please [click here to go straight to the Amazon review
    page](https://packt.link/r/1803232595) for this book and share your feedback.
  prefs: []
  type: TYPE_NORMAL
- en: Your review is important to us and the tech community and will help us make
    sure we’re delivering excellent quality content.
  prefs: []
  type: TYPE_NORMAL
- en: Download a Free PDF Copy of This Book
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Thanks for purchasing this book!
  prefs: []
  type: TYPE_NORMAL
- en: Do you like to read on the go but are unable to carry your print books everywhere?
  prefs: []
  type: TYPE_NORMAL
- en: Is your eBook purchase not compatible with the device of your choice?
  prefs: []
  type: TYPE_NORMAL
- en: Don’t worry, now with every Packt book you get a DRM-free PDF version of that
    book at no cost.
  prefs: []
  type: TYPE_NORMAL
- en: Read anywhere, any place, on any device. Search, copy, and paste code from your
    favorite technical books directly into your application.
  prefs: []
  type: TYPE_NORMAL
- en: The perks don’t stop there, you can get exclusive access to discounts, newsletters,
    and great free content in your inbox daily.
  prefs: []
  type: TYPE_NORMAL
- en: 'Follow these simple steps to get the benefits:'
  prefs: []
  type: TYPE_NORMAL
- en: 'Scan the QR code or visit the link below:'
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![https://packt.link/free-ebook/9781801819299](img/B18466_Free_PDF_QR.jpg)'
  prefs: []
  type: TYPE_IMG
- en: '[https://packt.link/free-ebook/9781803232591](https://packt.link/free-ebook/9781803232591)'
  prefs: []
  type: TYPE_NORMAL
- en: Submit your proof of purchase.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: That’s it! We’ll send your free PDF and other benefits to your email directly.
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
