<html><head></head><body><div id="sbo-rt-content"><div id="_idContainer152" class="_idGenObjectStyleOverride-1">&#13;
			<p id="_idParaDest-143" class="Chapter-Title" lang="en-US" xml:lang="en-US"><span class="ChapterMarker">15. </span><a id="_idTextAnchor196"/>CentOS 8 <a id="_idIndexMarker338"/>Remote Desktop Access with VNC</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">CentOS 8 can be configured to provide remote access to the graphical desktop environment over a network or internet connection. Although not enabled by default, it is relatively straightforward to display and access a CentOS 8 desktop from a system anywhere else on a network or the internet. This can be achieved regardless of whether that system is running Linux, Windows or macOS. In fact, there are even apps available for Android and iOS that will allow you to access your CentOS 8 desktop from just about anywhere that a data signal is available.</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Remote desktop access can be useful in a number of scenarios. It enables you or another person, for example, to view and interact with your CentOS 8 desktop environment from another computer system either on the same network or over the internet. This is useful if you need to work on your computer when you are away from your desk such as while traveling. It is also useful in situations where a co-worker or IT support technician needs access to your desktop to resolve a problem. </p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">In situations where the CentOS 8 system is running on a cloud-based server, it also allows access to the desktop environment as an alternative to performing administrative tasks using the command-line prompt or Cockpit web console.</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">The CentOS 8 remote desktop functionality is based on technology known as Virtual Network Computing (VNC) and in this chapter we will cover the key aspects of configuring and using remote desktops within CentOS 8. </p>&#13;
			<p id="_idParaDest-144" class="Heading-1-1" lang="en-US" xml:lang="en-US"><span class="Heading11Marker">15.1 </span><a id="_idTextAnchor197"/>Secure and Insecure <a id="_idIndexMarker339"/>Remote Desktop Access</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">In this chapter we will cover both secure and insecure remote desktop access methods. Assuming that you are accessing one system from another within the context of a secure internal network then it is generally safe to use the insecure access method. If, on the other hand, you plan to access your desktop remotely over any kind of public network you must use the secure method of access to avoid your system and data being compromised. </p>&#13;
			<p id="_idParaDest-145" class="Heading-1-1" lang="en-US" xml:lang="en-US"><span class="Heading11Marker">15.2 </span><a id="_idTextAnchor198"/>Installing the <a id="_idIndexMarker340"/>GNOME Desktop Environment</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">It is, of course, only possible to access the desktop environment if the desktop itself has been installed. If, for example, the system was initially configured as a server it is unlikely that the desktop packages were installed. The easiest way to install the packages necessary to run the GNOME desktop is to perform a <span class="My-Italic _idGenCharOverride-1">group install</span>. The key to installing groups of packages to enable a specific feature is knowing the name of the group. At the time of writing, the group for installing the desktop environment on CentOS 8 is named “Workstation”. As the group names have a tendency to change from one CentOS release to another, it is useful to know that the list of groups that are either installed or available to be installed can be obtained using the <span class="My-Italic _idGenCharOverride-1">dnf</span> utility as follows:</p>&#13;
			<p class="Code"># dnf grouplist</p>&#13;
			<p class="Code"> </p>&#13;
			<p class="Code">Available Environment Groups:</p>&#13;
			<p class="Code">   Workstation</p>&#13;
			<p class="Code">   Minimal Install</p>&#13;
			<p class="Code">   Custom Operating System</p>&#13;
			<p class="Code">Installed Environment Groups:</p>&#13;
			<p class="Code">   Server with GUI</p>&#13;
			<p class="Code">Installed Groups:</p>&#13;
			<p class="Code">   Container Management</p>&#13;
			<p class="Code">Available Groups:</p>&#13;
			<p class="Code">   .NET Core Development</p>&#13;
			<p class="Code">   RPM Development Tools</p>&#13;
			<p class="Code">   Smart Card Support</p>&#13;
			<p class="Code">   Scientific Support</p>&#13;
			<p class="Code">   Security Tools</p>&#13;
			<p class="Code">   Development Tools</p>&#13;
			<p class="Code">   System Tools</p>&#13;
			<p class="Code">   Headless Management</p>&#13;
			<p class="Code">   Network Servers</p>&#13;
			<p class="Code">   Legacy UNIX Compatibility</p>&#13;
			<p class="Code">   Graphical Administration Tools</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">In the above example, the Workstation environment group is listed as being available (and therefore not already installed). To find out more information about the contents of a group prior to installation, use the following command:</p>&#13;
			<p class="Code"># dnf groupinfo workstation</p>&#13;
			<p class="Code"> </p>&#13;
			<p class="Code">Environment Group: Workstation</p>&#13;
			<p class="Code"> Description: Workstation is a user friendly desktop system for laptops and PCs.</p>&#13;
			<p class="Code"> Mandatory Groups:</p>&#13;
			<p class="Code">   Common NetworkManager submodules</p>&#13;
			<p class="Code">   Core</p>&#13;
			<p class="Code">   Fonts</p>&#13;
			<p class="Code">   GNOME</p>&#13;
			<p class="Code">   Guest Desktop Agents</p>&#13;
			<p class="Code">   Internet Browser</p>&#13;
			<p class="Code">   Multimedia</p>&#13;
			<p class="Code">   Standard</p>&#13;
			<p class="Code">   Workstation product core</p>&#13;
			<p class="Code">   base-x</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Having confirmed that this is the correct group, it can be installed as follows:</p>&#13;
			<p class="Code"># dnf groupinstall workstation</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Once installed, and assuming that the system has a display added, the desktop can be launched using the following command:</p>&#13;
			<p class="Code">$ <a id="_idIndexMarker341"/>startx</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">If, on the other hand, the system is a server with no directly connected display, the only way to run and access the desktop will be to configure VNC support on the system.</p>&#13;
			<p id="_idParaDest-146" class="Heading-1-1" lang="en-US" xml:lang="en-US"><span class="Heading11Marker">15.3 </span><a id="_idTextAnchor199"/>Installing <a id="_idIndexMarker342"/>VNC on CentOS 8</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Access to a remote desktop requires a VNC server installed on the remote system, a VNC viewer on the system from which access is being established and, optionally, a secure SSH connection. While a number of VNC server and viewer implementations are available, CentOS has standardized on TigerVNC which provides both server and viewer components for Linux-based operating systems. VNC viewer clients for non-Linux platforms include <a id="_idIndexMarker343"/>RealVNC and <a id="_idIndexMarker344"/>TightVNC.</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">To install the <a id="_idIndexMarker345"/>TigerVNC server package on CentOS 8, simply run the following command:</p>&#13;
			<p class="Code"># dnf install tigervnc-server</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">If required, the TigerVNC viewer may also be installed as follows:</p>&#13;
			<p class="Code"># dnf install tigervnc</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Once the server has been installed the system will need to be configured to run one or more VNC services and to open the appropriate ports on the firewall. </p>&#13;
			<p id="_idParaDest-147" class="Heading-1-1" lang="en-US" xml:lang="en-US"><span class="Heading11Marker">15.4 </span><a id="_idTextAnchor200"/>Configuring the VNC Server</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">With the VNC server packages installed, the next step is to configure the server. The first step is to specify a password for the user that will be accessing the remote desktop environment. While logged in as root, execute the following command (where the user name is assumed to be demo):</p>&#13;
			<p class="Code"># su - demo</p>&#13;
			<p class="Code">[demo@demoserver ~]$ vncpasswd</p>&#13;
			<p class="Code">Password:</p>&#13;
			<p class="Code">Verify:</p>&#13;
			<p class="Code">Would you like to enter a view-only password (y/n)? n</p>&#13;
			<p class="Code">A view-only password is not used</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US"><span class="CharOverride-1">[demo@demoserver ~]$ exit</span></p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US"><span class="CharOverride-1">#</span></p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Next, a VNC server configuration file named <span class="My-Italic _idGenCharOverride-1">vncserver@.service</span> needs to be created in the <span class="My-Italic _idGenCharOverride-1">/etc/systemd/system</span> directory. The content of this file should read as follows, where all instances of &lt;USER&gt; are replaced with the username referenced when the VNC password was set:</p>&#13;
			<p class="Code">[Unit]</p>&#13;
			<p class="Code">escription=Remote desktop service (VNC)</p>&#13;
			<p class="Code">After=syslog.target network.target</p>&#13;
			<p class="Code">[Service]</p>&#13;
			<p class="Code">Type=forking</p>&#13;
			<p class="Code">WorkingDirectory=/home/&lt;USER&gt;</p>&#13;
			<p class="Code">User=&lt;USER&gt;</p>&#13;
			<p class="Code">Group=&lt;USER&gt;</p>&#13;
			<p class="Code">ExecStartPre=/bin/sh -c '/usr/bin/vncserver -kill %i &gt; /dev/null 2&gt;&amp;1 || :'</p>&#13;
			<p class="Code">ExecStart=/usr/bin/vncserver -autokill %i</p>&#13;
			<p class="Code">ExecStop=/usr/bin/vncserver -kill %i</p>&#13;
			<p class="Code">Restart=on-success</p>&#13;
			<p class="Code">RestartSec=15</p>&#13;
			<p class="Code">[Install]</p>&#13;
			<p class="Code">WantedBy=multi-user.target</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Next, the firewall needs to be configured to provide external access to the <a id="_idIndexMarker346"/>VNC server for remote VNC viewer instances, for example:</p>&#13;
			<p class="Code"># firewall-cmd --permanent --zone=public --add-port=5901/tcp</p>&#13;
			<p class="Code"># firewall-cmd --reload</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">With the service configuration file created, the service needs to be enabled and started as follow:</p>&#13;
			<p class="Code"># systemctl daemon-reload</p>&#13;
			<p class="Code"># systemctl start  vncserver@:1.service</p>&#13;
			<p class="Code"># systemctl enable  vncserver@:1.service</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Note that <span class="My-Italic _idGenCharOverride-1">:1</span> is included in the service name to indicate that this is the service for VNC server display number 1. This matches port 5901 which was previously opened in the firewall.</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Check that the service has started successfully as follows:</p>&#13;
			<p class="Code"># systemctl status vncserver@:1.service</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">If the service fails to start, run the following command to check for error messages:</p>&#13;
			<p class="Code"># journalctl -xe</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Also try again after rebooting the system. If the service continues to fail, the VNC server can be started manually by logging in as the designated user and running the following command:</p>&#13;
			<p class="Code">$ vncserver :1</p>&#13;
			<p id="_idParaDest-148" class="Heading-1-1" lang="en-US" xml:lang="en-US"><span class="Heading11Marker">15.5 </span><a id="_idTextAnchor201"/><a id="_idTextAnchor204"/>Connecting to a <a id="_idIndexMarker350"/>VNC Server</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">VNC viewer implementations are available for a wide range of operating systems and a quick internet search will likely provide numerous links containing details on how to obtain and install this tool on your chosen platform. </p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">From the desktop of a Linux system on which a VNC viewer such as TigerVNC is installed, a remote desktop connection can be established as follows from a Terminal window:</p>&#13;
			<p class="Code">$ vncviewer &lt;hostname&gt;:&lt;display number&gt;</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">In the above example, &lt;hostname&gt; is either the hostname or IP address of the remote system and &lt;display number&gt; is the display number of the VNC server desktop, for example:</p>&#13;
			<p class="Code">$ vncviewer 192.168.1.115:1</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Alternatively, run the command without any options to be prompted for the details of the remote server:</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1" lang="en-US" xml:lang="en-US"> <img class="_idGenObjectAttribute-1" src="Images/rhel_8_vnc_viewer.png" alt="" width="492" height="225"/></p>&#13;
			<p class="Figure-Caption" lang="en-US" xml:lang="en-US"><span class="FigureCaptionMarker">Figure 15-1</span></p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Enter the hostname or IP address followed by the display number (for example 192.168.1.115:1) into the VNC server field and click on the Connect button. The viewer will prompt for the user’s VNC password to complete the connection, at which point a new window containing the remote desktop will appear.</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">This section assumed that the remote desktop was being accessed from a Linux or UNIX system, the same steps apply for most other operating systems.</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Connecting to a remote VNC server using the steps in this section results in an insecure, unencrypted connection between the client and server. This means that the data transmitted during the remote session is vulnerable to interception. To establish a secure and encrypted connection a few extra steps are necessary.</p>&#13;
			<p id="_idParaDest-149" class="Heading-1-1" lang="en-US" xml:lang="en-US"><span class="Heading11Marker">15.6 </span><a id="_idTextAnchor205"/>Establishing a Secure Remote Desktop Session<a id="_idIndexMarker351"/> </p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">The remote desktop configurations we have explored so far in this chapter are considered to be insecure because no encryption is used. This is acceptable when the remote connection does not extend outside of an internal network protected by a firewall. When a remote session is required over an internet connection, however, a more secure option is needed. This is achieved by tunneling the remote desktop through a secure shell (SSH) connection. This section will cover how to do this on Linux, UNIX and macOS client systems.</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">The SSH server is typically installed and activated by default on CentOS 8 systems. If this is not the case on your system, refer to the chapter entitled <a href="../Text/SSH_Authentication.xhtml#_idTextAnchor181"><span class="My-Italic _idGenCharOverride-1">“Configuring SSH Key-based Authentication on CentOS 8”</span></a>. </p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Assuming the SSH server is installed and active it is time to move to the other system. At the other system, log in to the remote system using the following command, which will establish the secure tunnel between the two systems: </p>&#13;
			<p class="Code">$ ssh -l &lt;username&gt; -L 5901:localhost:5901 &lt;remotehost&gt;</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">In the above example, &lt;username&gt; references the user account on the remote system for which VNC access has been configured, and <span class="My-Italic _idGenCharOverride-1">&lt;remotehost&gt;</span> is either the host name or IP address of the remote system, for example:</p>&#13;
			<p class="Code">$ ssh -l neilsmyth -L 5901:localhost:5901 192.168.1.115</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">When prompted, log in using the account password. With the secure connection established it is time to launch vncviewer so that it uses the secure tunnel. Leaving the SSH session running in the other terminal window, launch another terminal and enter the following command: </p>&#13;
			<p class="Code">$ vncviewer localhost:5901</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">The vncviewer session will prompt for a password if one is required, and then launch the VNC viewer providing secure access to your desktop environment. </p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Although the connection is now secure and encrypted, the VNC viewer will most likely still report that the connection is insecure. <a href="../Text/Remote_Desktop_Access.xhtml#_idTextAnchor206">Figure 15-2</a>, for example, shows the warning dialog displayed by the RealVNC viewer running on a macOS system:</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1" lang="en-US" xml:lang="en-US"><img class="_idGenObjectAttribute-2" src="Images/rhel_8_vnc_viewer_not_encrypted.png" alt="" width="420" height="281"/></p>&#13;
			<p class="Figure-Caption" lang="en-US" xml:lang="en-US"><span class="FigureCaptionMarker">Figure 15-2</span><a id="_idTextAnchor206"/></p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Unfortunately, although the connection is now secure, the VNC viewer software has no way of knowing this and consequently continues to issue warnings. Rest assured that as long as the SSH tunnel is being used, the connection is indeed secure. </p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">In the above example we left the SSH tunnel session running in a terminal window. If you would prefer to run the session in the background, this can be achieved by using the –f and –N flags when initiating the connection:</p>&#13;
			<p class="Code">$ ssh -l &lt;username&gt; -f -N -L 5901:localhost:5901 &lt;remotehost&gt;</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">The above command will prompt for a password for the remote server and then establish the connection in the background, leaving the terminal window available for other tasks.</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">If you are connecting to the remote desktop from outside the firewall keep in mind that the IP address for the SSH connection will be the external IP address provided by your ISP or cloud hosting provider, not the LAN IP address of the remote system (since this IP address is not visible to those outside the firewall). You will also need to configure your firewall to forward port 22 (for the SSH connection) to the IP address of the system running the desktop. It is not necessary to forward port 5900. Steps to perform port forwarding differ between firewalls, so refer to the documentation for your firewall, router or wireless base station for details specific to your configuration.</p>&#13;
			<p id="_idParaDest-150" class="Heading-1-1" lang="en-US" xml:lang="en-US"><span class="Heading11Marker">15.7 </span><a id="_idTextAnchor207"/>Establishing a Secure Tunnel on Windows using <a id="_idIndexMarker352"/>PuTTY</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">A similar approach is taken to establishing a secure desktop session from a Windows system to a CentOS 8 server. Assuming that you already have a VNC client such as <a id="_idIndexMarker353"/>TightVNC installed, the one remaining requirement is a Windows SSH client (in this case PuTTY). </p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Once PuTTY is downloaded and installed, the first step is to establish a secure connection between the Windows system and the remote CentOS 8 system with appropriate tunneling configured. When launched, PuTTY displays the following screen: </p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1" lang="en-US" xml:lang="en-US"><img class="_idGenObjectAttribute-3" src="Images/rhel_8_vnc_putty_main.png" alt="" width="677" height="676"/> </p>&#13;
			<p class="Figure-Caption" lang="en-US" xml:lang="en-US"><span class="FigureCaptionMarker">Figure 15-3</span></p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Enter the IP address or host name of the remote host (or the external IP address of the gateway if you are connecting from outside the firewall). The next step is to set up the tunnel. Click on the + next to SSH in the Category tree on the left-hand side of the dialog and click on Tunnels. The screen should subsequently appear as follows: </p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1" lang="en-US" xml:lang="en-US"><img class="_idGenObjectAttribute-4" src="Images/rhel_8_vnc_putty_tunnels.png" alt="" width="694" height="676"/></p>&#13;
			<p class="Figure-Caption" lang="en-US" xml:lang="en-US"><span class="FigureCaptionMarker">Figure 15-4</span></p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Enter 5901 as the Source port and localhost:5901 as the Destination and click on the <span class="My-Italic _idGenCharOverride-1">Add </span>button. Finally return to the main screen by clicking on the <span class="My-Italic _idGenCharOverride-1">Session</span> category. Enter a name for the session in the Saved Sessions text field and press <span class="My-Italic _idGenCharOverride-1">Save</span>. Click on <span class="My-Italic _idGenCharOverride-1">Open</span> to establish the connection. A terminal window will appear with the login prompt from the remote system. Enter the appropriate user login and password credentials. </p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">The SSH connection is now established. Launch the TightVNC viewer and enter localhost:5901 in the VNC Server text field and click on <span class="My-Italic _idGenCharOverride-1">Connect</span>. The viewer will establish the connection, prompt for the password and then display the desktop. You are now accessing the remote desktop of a Linux system from Windows over a secure SSH tunnel connection.</p>&#13;
			<p id="_idParaDest-151" class="Heading-1-1" lang="en-US" xml:lang="en-US"><span class="Heading11Marker">15.8 </span><a id="_idTextAnchor208"/>Shutting Down a Desktop Session</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">In order to shut down a <a id="_idIndexMarker354"/>VNC Server hosted desktop session, use the –kill command-line option together with the number of the desktop to be terminated. For example, to kill desktop :1:</p>&#13;
			<p class="Code"># vncserver –kill :1</p>&#13;
			<p id="_idParaDest-152" class="Heading-1-1" lang="en-US" xml:lang="en-US"><span class="Heading11Marker">15.9 </span><a id="_idTextAnchor209"/>Troubleshooting a <a id="_idIndexMarker355"/>VNC Connection</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">With so much happening in the background, VNC can sometimes seem opaque, particularly when problems arise and the server either fails to start, or attempts to connect remotely result in error messages. There are, however, a number of techniques for tracking down and resolving VNC problems:</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">If the VNC service fails to start, check the <span class="My-Italic _idGenCharOverride-1">systemctl </span>status of the service and check for error messages:</p>&#13;
			<p class="Code"># systemctl status vncserver@:1.service</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">For more detailed information, check the systemd journal by running the following command:</p>&#13;
			<p class="Code"># journalctl -xe</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Additional information may be available in the log file located at:</p>&#13;
			<p class="Code">/home/&lt;username&gt;/.vnc/&lt;hostname&gt;.&lt;domain&gt;:&lt;display number&gt;.log</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">For example:</p>&#13;
			<p class="Code">/home/neilsmyth/.vnc/server01.localdomain:1.log</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">If the systemd VNC service is still unable to start the VNC server, try starting it manually using the following command:</p>&#13;
			<p class="Code"># vncserver :&lt;display number&gt;</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">For example:</p>&#13;
			<p class="Code"># vncserver :1</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Check the output and log file for any errors that may help identify the problem. If the server starts successfully, try connecting again with a VNC viewer.</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">If the VNC server appears to be running but attempts to connect from a viewer fail, it may be worth checking that the correct firewall ports are open. Begin by identifying the default zone as follows:</p>&#13;
			<p class="Code"># firewall-cmd --get-default-zone</p>&#13;
			<p class="Code">public</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Having obtained the default zone, check that the necessary ports are open:</p>&#13;
			<p class="Code"># firewall-cmd --permanent --zone=public --list-ports</p>&#13;
			<p class="Code">5901/tcp 5900/tcp</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">If a port used by VNC is not open, add the port as follows:</p>&#13;
			<p class="Code"># firewall-cmd --permanent --zone=public --add-port=&lt;port number&gt;/tcp</p>&#13;
			<p id="_idParaDest-153" class="Heading-1-1" lang="en-US" xml:lang="en-US"><span class="Heading11Marker">15.10 </span><a id="_idTextAnchor210"/>Summary</p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">Remote access to the GNOME desktop environment of a CentOS 8 system can be enabled by making use of Virtual Network Computing (VNC). Comprising the VNC server running on the remote server and a corresponding client on the local host, VNC allows remote access to multiple desktop instances running on the server.  </p>&#13;
			<p class="My-Basic-Paragraph" lang="en-US" xml:lang="en-US">When the VNC connection is being used over a public connection, the use of SSH tunneling is recommended to ensure that the communication between client and server is encrypted and secure.</p>&#13;
		</div>&#13;
</div>



  </body></html>