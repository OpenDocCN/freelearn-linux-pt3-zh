- en: '1'
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '1  '
- en: Deploying Ubuntu Server
  id: totrans-1
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '部署 Ubuntu Server  '
- en: Ubuntu Server is an extremely powerful distribution of Linux for servers and
    network appliances. Whether you’re setting up a high-end database or a small office
    file server, the flexible nature of Ubuntu Server will meet and surpass your needs.
    In this book, we’ll walk through all the common use cases to help you get the
    most out of this exciting platform. Ubuntu Server features a perfect mix of modern
    development frameworks and rock-solid stability, and its hardware support enables
    it to be installed on the latest server hardware.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 'Ubuntu Server 是一款功能极其强大的 Linux 发行版，专为服务器和网络设备设计。无论你是在设置高端数据库还是小型办公室文件服务器，Ubuntu
    Server 的灵活性都能够满足并超越你的需求。在本书中，我们将介绍所有常见的使用案例，帮助你最大限度地发挥这个令人兴奋的平台的优势。Ubuntu Server
    结合了现代开发框架和稳定性，硬件支持使得它可以安装在最新的服务器硬件上。  '
- en: In this chapter, I’ll guide you through the process of deploying Ubuntu Server
    from start to finish. We’ll begin with some discussion of best practices, and
    then we’ll obtain the software and create our installation media. Next, I’ll give
    you a step-by-step rundown of the entire installation procedure. By the end of
    this chapter, you’ll have an Ubuntu Server installation of your own to use throughout
    the remainder of this book. In addition, since Canonical (the makers of Ubuntu)
    now offers official support for Raspberry Pi, we’ll look at the process of setting
    that up as well.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: '在本章中，我将引导你完成从头到尾部署 Ubuntu Server 的过程。我们将从一些最佳实践的讨论开始，然后我们将获取软件并创建我们的安装介质。接下来，我将为你提供一个逐步的安装过程。到本章结束时，你将拥有一个属于你自己的
    Ubuntu Server 安装，可以在本书的其余部分中使用。此外，由于 Canonical（Ubuntu 的开发者）现在为 Raspberry Pi 提供官方支持，我们也将探讨如何设置
    Raspberry Pi。  '
- en: 'In this chapter, we will cover:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '本章中，我们将涵盖：  '
- en: Technical requirements
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '技术要求  '
- en: Determining your server’s role
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '确定服务器的角色  '
- en: Choosing a device for our server
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '选择服务器设备  '
- en: Obtaining installation media
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '获取安装介质  '
- en: Creating a bootable flash drive
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '创建可启动的闪存驱动器  '
- en: Installing Ubuntu Server
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '安装 Ubuntu Server  '
- en: Installing Ubuntu Server on a Raspberry Pi
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在 Raspberry Pi 上安装 Ubuntu Server
- en: To get started, we’ll first take a look at some of the technical requirements
    for deploying a server with Ubuntu.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '为了开始，我们将首先查看一些部署 Ubuntu 服务器的技术要求。  '
- en: Technical requirements
  id: totrans-13
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '技术要求  '
- en: 'To follow along with the examples in this book, you’ll need an Ubuntu Server
    installation to work with. In general, the following specifications are the estimated
    minimums to successfully install Ubuntu Server:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '为了跟随本书中的示例，你需要安装一个 Ubuntu Server 进行操作。一般来说，以下规格是成功安装 Ubuntu Server 的估计最低要求：  '
- en: 64-bit CPU
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '64 位 CPU  '
- en: 1 GB RAM
  id: totrans-16
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '1 GB RAM  '
- en: 10-GB hard disk (16 GB or more is recommended)
  id: totrans-17
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '10 GB 硬盘（推荐 16 GB 或更多）  '
- en: 64-bit CPU support is now a requirement, with the only exception being the Raspberry
    Pi version. This is because Canonical no longer makes versions of Ubuntu available
    for 32-bit PC and server processors. While this may seem like a downside, all
    computers sold today support 64-bit operating systems, and consumer CPUs have
    been 64-bit capable since at least 2003\. Even if you have an older PC lying around
    that you don’t think is capable of running a 64-bit operating system, you’d be
    surprised—even the later models of the Pentium IV (which is quite old) support
    this, so this requirement shouldn’t be hard to meet. Don’t worry about the particulars
    of this right now, we’ll go through the requirements in more detail later on in
    this chapter.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '64 位 CPU 支持现在成为一个要求，唯一的例外是 Raspberry Pi 版本。这是因为 Canonical 不再为 32 位 PC 和服务器处理器提供
    Ubuntu 版本。虽然这看起来像是一个缺点，但如今所有售出的计算机都支持 64 位操作系统，并且自 2003 年起，消费级 CPU 就已经具备 64 位能力。即使你有一台旧
    PC，觉得它可能无法运行 64 位操作系统，实际上你会惊讶地发现，甚至是较旧的 Pentium IV（尽管已经很老）也支持这一点，所以这个要求应该不难满足。现在不用担心这些细节，我们将在本章后面详细讨论这些要求。  '
- en: Now that we understand the technical requirements of Ubuntu Server, let’s consider
    the role our server will play in our organization.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '现在我们了解了 Ubuntu Server 的技术要求，接下来让我们考虑一下我们的服务器将在组织中扮演什么角色。  '
- en: Determining your server’s role
  id: totrans-20
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: '确定服务器的角色  '
- en: You’re excited to set up an Ubuntu Server installation so you can follow along
    with the examples contained in this book. It is also important to understand how
    a typical server rollout is performed in the real world. Every server must have
    a purpose, or *role*. This role could be that of a database server, web server,
    file server, and so on. In a nutshell, the role is the value the server adds to
    you or your organization. Sometimes, servers may be implemented solely for the
    purpose of testing experimental code. And this is important too—having a test
    environment is a very common (and worthwhile) practice.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 你很兴奋要设置一个Ubuntu Server安装，这样你可以按照本书中的示例进行操作。同样重要的是了解在现实世界中如何执行典型的服务器推出。每台服务器都必须有一个目的或*角色*。这个角色可以是数据库服务器、Web服务器、文件服务器等等。简而言之，角色是服务器为你或你的组织增加的价值。有时，服务器可能仅用于测试实验性代码的目的。这也很重要——拥有测试环境是一个非常常见（也是值得的）做法。
- en: Once you understand the role your server plays within your organization, you
    can plan for its implementation. Is the system mission critical? How would it
    affect your organization if for some reason this server malfunctioned? Depending
    on the answer to this question, you may only need to set up a single server for
    this task, or you may wish to plan for redundancy such that the server doesn’t
    become a central point of failure. An example of this may be a DNS server, which
    would affect your colleagues’ ability to resolve local hostnames and access required
    resources. It may make sense to add a second DNS server to take over in the event
    that the primary server becomes unavailable for some reason.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你了解了服务器在组织中的角色，你可以为其实施计划。这个系统是关键任务吗？如果由于某种原因这个服务器出现故障，它将如何影响你的组织？根据这个问题的答案，你可能只需为这个任务设置一个服务器，或者你可能希望计划冗余，以使服务器不成为故障的中心点。一个例子是DNS服务器，它会影响同事解析本地主机名和访问所需资源的能力。在某些情况下，添加第二个DNS服务器以在主服务器出现故障时接管可能是合理的。
- en: Another item to consider is how confidential the data residing on a server is
    going to be for your environment. This directly relates to the installation procedure
    we’re about to perform, because you will be asked whether or not you’d like to
    utilize encryption. The encryption that Ubuntu Server offers during installation
    is known as encryption at rest, which refers to the data stored within the internal
    storage volumes on that server. If your server is destined to store confidential
    data (accounting information, credit card numbers, employee or client records,
    and so on), you may want to consider making use of this option.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个需要考虑的项目是服务器上驻留数据的机密性对你的环境有多重要。这直接关系到我们即将执行的安装过程，因为你将被询问是否想要使用加密。Ubuntu Server
    在安装过程中提供的加密称为静态加密，它指的是存储在服务器内部存储卷中的数据。如果你的服务器注定要存储机密数据（会计信息、信用卡号码、员工或客户记录等），你可能要考虑利用这个选项。
- en: Encrypting your hard disks is a really good idea to prevent miscreants with
    local access from stealing data. As long as the attacker doesn’t have your encryption
    key, they cannot steal this confidential information. However, it’s worth mentioning
    that anyone with physical access can easily destroy data (encrypted or not), so
    remember to keep your server room locked!
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 加密你的硬盘是一个非常好的主意，可以防止那些有本地访问权限的坏人窃取数据。只要攻击者没有你的加密密钥，他们就无法窃取这些机密信息。然而，值得一提的是，任何有物理访问权限的人都可以轻松地销毁数据（无论是否加密），所以请记住保持服务器房间上锁！
- en: At this point in the book, I’m definitely not asking you to create a detailed
    implementation diagram or anything like that, but instead to keep in mind some
    concepts that should always be part of the conversation when setting up a new
    server. It needs to have a reason to exist, it should be understood how critical
    and confidential the server’s data will be, and the server should then be set
    up accordingly. Once you practice these concepts as well as the installation procedure,
    you can make up your own server roll-out plan to use within your organization
    going forward. All in all, understanding the purpose of each component in your
    infrastructure is a great mindset to adopt.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书的这一部分，我绝对不是要求你创建详细的实施图表或类似的东西，而是要记住在设置新服务器时应始终包含在对话中的一些概念。它需要有存在的理由，必须了解服务器数据的关键性和机密性，然后相应地设置服务器。一旦你练习了这些概念以及安装过程，你可以制定自己的服务器推出计划，以便在你的组织中使用。总而言之，理解基础设施中每个组件的目的是一种很好的思维方式。
- en: At this point, we now understand how we might identify a role for our server
    and how it will fit into our organization. In the next section, we’ll take a look
    at the process of actually installing Ubuntu Server, so we will have at least
    one test machine to use for the examples in this book.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 到此为止，我们已经了解了如何为我们的服务器确定角色以及它如何融入我们的组织。在接下来的部分，我们将实际查看安装 Ubuntu Server 的过程，这样我们至少可以有一台测试机器用于书中的示例。
- en: Choosing a device for our server
  id: totrans-27
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为我们的服务器选择设备
- en: I bet you’re excited to set up your very own installation of Ubuntu Server and
    dive in. But before we can do that, we have to decide what to actually install
    it on. For the purposes of this book, there isn’t a specific requirement in terms
    of hardware. You just need an Ubuntu Server installation of some sort, and it
    wouldn’t hurt to set up multiple servers if you can—you don’t need them all to
    be on the same device type. Having multiple servers will help you experiment with
    networking when we get to that point later on in the book. But for now, it’s only
    a matter of utilizing whatever you have at your disposal to get an Ubuntu installation
    going.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 我敢打赌，你一定很兴奋想要设置自己安装的 Ubuntu Server，并深入探索。但在我们开始之前，我们必须决定到底要安装在哪个设备上。就本书的目的而言，硬件没有特别要求。你只需要一个
    Ubuntu Server 安装版本，如果可以，设置多个服务器也是有益的——它们不必都是同一种设备类型。拥有多个服务器将帮助你在后续章节中进行网络实验。但现在，关键是利用你现有的设备来启动
    Ubuntu 安装。
- en: 'In particular, the following list includes the most common devices you can
    consider for your Ubuntu Server installation:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 特别地，以下列表包括了你可以考虑用于安装 Ubuntu Server 的最常见设备：
- en: Physical server
  id: totrans-30
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 物理服务器
- en: Physical desktop
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 物理桌面
- en: Laptop
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 笔记本电脑
- en: Virtual machine
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 虚拟机
- en: Virtual private server
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 虚拟私人服务器
- en: Raspberry Pi
  id: totrans-35
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 树莓派
- en: Let’s take a look at each of these options in more detail.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们更详细地看看这些选项。
- en: Physical server
  id: totrans-37
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 物理服务器
- en: Nowadays, it’s very easy to find used physical servers for an affordable price.
    Dell PowerEdge is a very common model, and the R610 and R710 specifically are
    good choices that are readily available second. These servers are commonly made
    available in the reseller market after companies upgrade to newer models. The
    R610 and R710 are a bit old, but their specs are still great for testing purposes.
    If you’re able to find a newer model (such as the R720) for a reasonable price,
    even better.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，找到价格合理的二手物理服务器非常容易。戴尔 PowerEdge 是一种非常常见的型号，特别是 R610 和 R710 是很好的选择，二手市场上很容易找到。这些服务器通常在公司升级到更新型号后进入转售市场。虽然
    R610 和 R710 已经有些年头，但它们的配置仍然适合测试用途。如果你能以合理的价格找到更新型号（如 R720），那就更好了。
- en: The downside with physical servers is that they take up a lot of room and can
    often be power-hungry (and noisy). Make sure to shut them down when not in use
    and look into the cost of electric services in your area—these servers can be
    very cheap to run or very expensive, depending on your electricity rates.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 物理服务器的缺点是它们占用大量空间，且往往消耗大量电力（并且噪音较大）。确保在不使用时关闭它们，并查看你所在地区的电力费用——这些服务器的运行成本可以非常低，也可以非常高，具体取决于你的电价。
- en: Physical desktop
  id: totrans-40
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 物理桌面
- en: If you don’t have access to a physical server, you might consider running Ubuntu
    Server on a desktop. It’s common for some computer users to hang onto their older
    PC after upgrading to something new and shiny. So rather than let your old desktop
    collect dust, why not put it to work? Sure, your older computer may not run today’s
    high-end games, but that doesn’t matter for our purposes. Ubuntu Server runs very
    well, even on older hardware. In fact, it’s quite common for home learners to
    use small form factor PCs, such as the Intel NUC, for this purpose. In addition,
    using a physical desktop has some advantages over physical servers as well. They
    often use much less power than server hardware, and they also tend to produce
    less noise.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你没有物理服务器，可以考虑在桌面上运行 Ubuntu Server。一些电脑用户在升级到新的设备后，往往会继续保留旧的 PC。因此，与其让你的旧桌面电脑积灰，不如让它发挥作用？当然，你的老旧电脑可能无法运行当今的高端游戏，但对于我们的目的来说这并不重要。Ubuntu
    Server 在老旧硬件上也能运行得非常好。实际上，很多家庭学习者都使用小型机箱 PC（如英特尔 NUC）来实现这一目的。此外，使用物理桌面也相较于物理服务器有一些优势。它们通常比服务器硬件消耗更少的电力，且噪音也较小。
- en: When it comes to production servers (installations of Ubuntu Server for use
    within your organization), desktops are typically not a good pick. Depending on
    the model, actual server hardware might have additional hardware and features
    that might not be present with a desktop. For example, true server builds often
    feature true hardware RAID, **Error Correction Code** (**ECC**) memory, multiple
    processors, and more. Although a desktop tower typically lacks those features,
    if you install Ubuntu Server on your old PC it’s every bit as valid a server as
    an actual server chassis would be – though it wouldn’t scale well in a data center.
    Since we’re just learning though, that doesn’t matter for us for our current use-case.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 在生产服务器（用于你组织内部的Ubuntu Server安装）方面，台式电脑通常并不是一个好的选择。根据不同的型号，实际的服务器硬件可能会具备一些台式电脑所没有的额外硬件和功能。例如，真正的服务器构建通常会配备硬件RAID、**错误更正码**
    (**ECC**) 内存、多处理器等功能。尽管台式电脑机箱通常缺少这些功能，但如果你在旧电脑上安装Ubuntu Server，它仍然是一个有效的服务器，和实际的服务器机箱没有什么不同——尽管它在数据中心的扩展性较差。不过，由于我们现在只是学习，所以这些对我们当前的使用场景并不重要。
- en: Laptop
  id: totrans-43
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 笔记本电脑
- en: Another option worth considering is to install Ubuntu Server on a laptop. If
    you have an older laptop lying around that you’re no longer using, it might be
    a great option for learning Ubuntu Server. If you do decide to use a laptop for
    this purpose, then the same factors will apply to this as I wrote regarding using
    a desktop.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 另一个值得考虑的选择是将Ubuntu Server安装在笔记本电脑上。如果你有一台不再使用的旧笔记本电脑，它可能是学习Ubuntu Server的一个很好的选择。如果你决定使用笔记本电脑来完成这个任务，那么与使用台式电脑时相同的因素也适用于此。
- en: However, the reason I decided to give laptops their own section here is because
    there are some additional benefits with these that you can take advantage of.
    With a real data center server rack, you’ll typically have access to a **Keyboard,
    Video, and Mouse** (**KVM**). This might mean that you could have a physical monitor,
    keyboard, and mouse attached to the server, or a special device with all three
    built in. Servers within data centers will also have an **Uninterruptible Power
    Supply** (**UPS**) that will keep them running for a time, even when your power
    goes out.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，我之所以决定在这里单独列出笔记本电脑，是因为它们具备一些额外的优势，值得我们利用。对于真实的数据中心服务器机架，你通常会接入**键盘、视频和鼠标**
    (**KVM**) 。这可能意味着你可以将物理显示器、键盘和鼠标连接到服务器，或者使用集成这三者的特殊设备。数据中心内的服务器还会配备**不间断电源** (**UPS**)，即使断电，它们也能继续运行一段时间。
- en: When it comes to a laptop, it has those same features. Laptops have a built-in
    keyboard, mouse, and display. If the battery that’s installed in the laptop works,
    then you have a UPS as well. For those reasons, a laptop might even have an advantage
    over desktops overall.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 当谈到笔记本电脑时，它具备了相同的功能。笔记本电脑内置了键盘、鼠标和显示器。如果笔记本电脑中安装的电池正常工作，那么你也就有了不间断电源（UPS）。正因为这些原因，笔记本电脑可能在整体上相较于台式电脑具有一定的优势。
- en: However, just like desktop computers, laptops aren’t generally acceptable for
    use in an actual data center. For our use-case though, we only need one or more
    installations of Ubuntu Server for going through the examples in this book. And
    for that purpose, dedicating any computers you’re not currently using would be
    more than adequate.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，就像台式电脑一样，笔记本电脑通常不适合在实际的数据中心使用。对于我们的使用场景而言，我们只需要安装一个或多个Ubuntu Server实例来完成本书中的示例任务。为了这个目的，专门使用任何你当前不使用的电脑就足够了。
- en: Virtual machine
  id: totrans-48
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 虚拟机
- en: If you don’t have access to a physical machine, you might consider a **Virtual
    Machine** (**VM**). Most computers sold nowadays support the ability to run VMs.
    **VirtualBox** is a great solution, as it’s easy to use and available for all
    of the major operating systems. Just like Ubuntu itself, VirtualBox is available
    for free, so it’s typically the lowest-cost entry-point for getting started. Also,
    VirtualBox allows you to easily create snapshots of your Ubuntu installation,
    so you can create a point-in-time backup before going through an example in this
    book, and then restore it to repeat tasks as often as you’d like. The ability
    to utilize snapshots alone makes a VM especially attractive for our needs.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你无法访问物理机器，可以考虑使用**虚拟机** (**VM**)。如今大多数计算机都支持运行虚拟机的能力。**VirtualBox** 是一个很好的解决方案，它易于使用，并且可以在所有主要操作系统上使用。就像Ubuntu本身一样，VirtualBox是免费的，因此通常是开始的最低成本选项。而且，VirtualBox允许你轻松创建Ubuntu安装的快照，这样你可以在进行本书中的示例之前创建一个时间点备份，并在需要时恢复它，以便重复执行任务。仅仅是快照功能，就使得虚拟机对我们的需求尤其有吸引力。
- en: The downside to VirtualBox is that you’ll need to be able to dedicate at least
    1 GB of RAM to your Ubuntu Server VM, and your CPU will need to support virtualization
    extensions, which you’ll need to enable in your computer’s settings if your device
    supports it.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 使用VirtualBox的缺点是，您需要至少分配1GB RAM给您的Ubuntu服务器VM，并且您的CPU需要支持虚拟化扩展，如果您的设备支持，则需要在计算机设置中启用它。
- en: 'VirtualBox can be downloaded here: [https://www.virtualbox.org](https://www.virtualbox.org).'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 可以在这里下载VirtualBox：[https://www.virtualbox.org](https://www.virtualbox.org)。
- en: Virtual private server
  id: totrans-52
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 虚拟专用服务器
- en: Services such as Amazon Web Services, Google Cloud, Linode, Microsoft Azure,
    Digital Ocean, and others allow you to set up Ubuntu Server in the cloud for you
    to connect to and manage via OpenSSH. Choosing the **Virtual Private Server**
    (**VPS**) option has some benefits; you don’t need to find room for a large physical
    server, and you don’t need to worry about power usage either. Another benefit
    is that you won’t even need to go through the installation process in this chapter
    at all; the cloud provider will do that for you when you choose to deploy Ubuntu
    Server on their platform. The main downside, though, is that VPS instances are
    not free—you’ll need to look at the costs associated with running Ubuntu on such
    a server and decide if that cost makes sense. Some VPS services allow you to set
    up instances for as little as $5 USD per month, which can be lower than the cost
    of the electricity needed to run a physical server in some areas.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 诸如Amazon Web Services、Google Cloud、Linode、Microsoft Azure、Digital Ocean等的服务允许您在云中设置Ubuntu服务器，以便通过OpenSSH连接和管理。选择**虚拟专用服务器**（**VPS**）选项有一些好处；您无需为大型物理服务器寻找空间，也不必担心电力使用问题。另一个好处是，在本章中甚至无需经历安装过程；当您选择在其平台上部署Ubuntu服务器时，云提供商将为您执行此操作。然而，主要缺点是VPS实例并非免费——您需要查看在此类服务器上运行Ubuntu的相关成本，并决定这种成本是否合理。一些VPS服务允许您每月以至少5美元的价格设置实例，这可以低于在某些地区运行物理服务器所需的电费成本。
- en: Raspberry Pi
  id: totrans-54
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 树莓派
- en: '**Raspberry Pi** units are quickly becoming a user favorite for server use
    cases. They are inexpensive (some models are available for less than $40 USD)
    and they also use very minimal electricity—you can leave them powered on 24/7
    with a virtually unnoticeable difference in your power bill. In fact, they use
    about as much power as it takes to charge a high-end cellphone. Another benefit
    is that a Raspberry Pi is generally going to be more powerful than an entry-level
    VPS. The cheapest VPS instances typically have just 1 CPU core and 1 GB of RAM,
    but modern Raspberry Pis are produced with quad-core CPUs, as well as 2 GB, 4
    GB, or 8 GB of RAM depending on which model you purchase. This means that a Raspberry
    Pi can possibly perform better than cheaper VPS instances. The downside to Raspberry
    Pi is that some applications are unavailable, since they utilize ARM CPUs instead
    of x86\. This means that some examples in this book will not work on a Pi (although
    the majority will).'
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: '**树莓派**单元正在迅速成为用户喜爱的服务器使用案例。它们价格低廉（某些型号甚至低于40美元），并且电力消耗非常少——你可以将它们24/7保持通电，几乎不会对电费产生显著影响。事实上，它们的功耗大约相当于充电一部高端手机所需的电力。另一个好处是，树莓派通常比入门级VPS更强大。最便宜的VPS实例通常只有1个CPU核心和1GB
    RAM，但现代树莓派配备四核CPU，并且具有2GB、4GB或8GB的RAM，具体取决于购买的型号。这意味着树莓派可能比更便宜的VPS实例性能更好。树莓派的缺点是，由于它们使用ARM
    CPU而不是x86，因此某些应用程序不可用。这意味着本书中的一些示例在树莓派上将无法运行（尽管大多数示例可以）。'
- en: Once you’ve chosen a device to install Ubuntu Server on, we can continue. If
    you chose to utilize a VPS, you can move on to the next chapter, *Chapter 2*,
    *Managing Users and Permissions*, as you won’t need to walk through the installation
    process. In the case of the Raspberry Pi, if that’s your chosen platform, you
    can skip to the end of this chapter for a dedicated section about setting that
    up. For all other devices, continue reading for a walk-through for the Ubuntu
    Server Live Installer.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦选择了要在其上安装Ubuntu服务器的设备，我们可以继续进行。如果选择使用VPS，您可以跳转到下一章，*第2章*，*管理用户和权限*，因为您不需要详细介绍安装过程。对于树莓派，如果您选择了这个平台，您可以跳到本章末尾，查看专门设置的部分。对于其他所有设备，请继续阅读Ubuntu服务器Live安装程序的详细步骤。
- en: Obtaining installation media
  id: totrans-57
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 获取安装媒体
- en: It’s time to get started! If you’ve decided to utilize a physical server, desktop,
    laptop, or VM as your test server, then you’ll need to go through the installation
    process to set up Ubuntu. Don’t worry—it’s very easy to do and it might even be
    easier than you’d think, as there are fewer overall steps in the process when
    compared to older versions. If you’ve instead opted to use a VPS or Raspberry
    Pi, you won’t need to go through this process, as VPS providers do this for you
    and Raspberry Pi has a different setup method altogether (we’ll cover this later
    in the chapter, in the *Installing Ubuntu on a Raspberry Pi* section).
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
  zh: 是时候开始了！如果你决定使用物理服务器、桌面、笔记本电脑或虚拟机作为测试服务器，那么你需要完成安装过程来设置Ubuntu。别担心——这非常简单，甚至比你想象的还要简单，因为与旧版本相比，整个过程的步骤要少得多。如果你选择使用VPS或树莓派，则无需经过这个过程，因为VPS提供商会为你完成这个步骤，而树莓派有一种完全不同的设置方法（我们将在本章后面的*在树莓派上安装Ubuntu*部分介绍）。
- en: Assuming that you’ve decided to use a device that does require going through
    the installer, we’ll need to download Ubuntu Server and then create bootable installation
    media to install it. How you do this largely depends on your hardware. Does your
    device have an optical drive? Is it able to boot from USB? Refer to the documentation
    for your device to find out.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 假设你已经决定使用一个需要通过安装程序的设备，我们需要下载Ubuntu Server，然后创建可启动的安装介质来安装它。如何操作很大程度上取决于你的硬件。你的设备有光驱吗？它能从USB启动吗？请查阅设备的文档以了解详细信息。
- en: It’s recommended to utilize a flash drive for the installation if you can, preferably
    one that uses USB 3.0 or higher since you’d benefit from its faster speed compared
    to USB 2.0\. The reason for the preference for using a flash drive is due to the
    fact that they are typically faster than a DVD.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 如果可以的话，建议使用闪存驱动器进行安装，最好是使用USB 3.0或更高版本，因为它比USB 2.0更快。推荐使用闪存驱动器的原因是它们通常比DVD更快。
- en: However, if your device is older, you won’t have a choice, as legacy devices
    are not able to boot from USB at all. As a general rule, use a flash drive if
    you can and opt for a DVD only if you have no choice.
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，如果你的设备较旧，你将没有选择的余地，因为老旧设备根本无法从USB启动。一般来说，如果可能的话，使用闪存驱动器，如果没有选择，才选择DVD。
- en: In the past, Ubuntu Server ISO images could be used to create either a bootable
    CD or DVD. Nowadays, writable CDs don’t have enough space to support the download
    size. Therefore, if you choose to burn to bootable optical media, you’ll need
    a writable DVD at a minimum.
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 过去，Ubuntu Server的ISO镜像可以用来创建可启动的CD或DVD。但现在，可写CD的空间不足以支持下载大小。因此，如果你选择将其刻录到可启动的光盘介质上，至少需要一个可写的DVD。
- en: Unfortunately, the differing age of servers within a typical data center introduces
    some unpredictability when it comes to how to boot installation media. When I
    first started with servers, it was commonplace for all standard rack servers to
    contain a 3.5-inch floppy disk drive, and some of the better ones even contained
    an optical drive. Nowadays, servers typically contain neither. If a server does
    have an optical drive, it could potentially go unused for an extended period of
    time and become faulty without anyone knowing until the next time someone goes
    to use it. Some servers boot from USB, others don’t. To continue, check the documentation
    for your hardware and plan accordingly. Your server’s capabilities will determine
    which kind of media you’ll need to create.
  id: totrans-63
  prefs: []
  type: TYPE_NORMAL
  zh: 不幸的是，典型数据中心中服务器的年龄差异会带来一些不可预测性，尤其是在如何启动安装介质方面。刚开始接触服务器时，所有标准的机架式服务器通常都配有3.5英寸软盘驱动器，甚至一些更高端的服务器还配有光驱。而如今，服务器通常既没有软盘驱动器，也没有光驱。如果服务器有光驱，它可能会长时间没有使用，直到下次有人尝试使用它时才发现它可能已经坏了。有些服务器可以从USB启动，有些则不行。继续之前，请查阅硬件的文档并做相应的计划。你的服务器功能决定了你需要创建哪种类型的介质。
- en: 'Regardless of whether we plan on creating a bootable USB or DVD, we only need
    to download a single file. Navigate to the following site in your web browser
    to get started: [https://www.ubuntu.com/download/server](https://www.ubuntu.com/download/server).'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 无论我们计划创建可启动的USB还是DVD，我们只需要下载一个文件。在浏览器中导航到以下网站开始：[https://www.ubuntu.com/download/server](https://www.ubuntu.com/download/server)。
- en: 'From this page, we’re going to download Ubuntu 22.04 LTS by clicking on the
    **Option 2 – Manual server installation** button:'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个页面上，我们将通过点击**选项 2 – 手动服务器安装**按钮来下载Ubuntu 22.04 LTS：
- en: '![](img/B18425_01_01.png)'
  id: totrans-66
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_01.png)'
- en: 'Figure 1.1: Ubuntu Server 22.04 download page'
  id: totrans-67
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.1：Ubuntu Server 22.04下载页面
- en: 'Next, you’ll be offered one or more versions of Ubuntu Server for download:'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，您将看到一个或多个版本的 Ubuntu Server 可供下载：
- en: '![](img/B18425_01_02.png)'
  id: totrans-69
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_02.png)'
- en: 'Figure 1.2: Revealing Ubuntu Server 22.04 download options'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.2：展示 Ubuntu Server 22.04 下载选项
- en: As of the time this chapter was being written, Ubuntu Server 22.04 is the latest
    version, and is shown as the primary download option. There may be other versions
    of Ubuntu Server listed on this page, such as 22.10 and 23.04, depending on when
    you’re reading this. New releases of Ubuntu are published every six months. However,
    this book only covers the **Long Term Support** (**LTS**) release, due to the
    fact that it benefits from five years of support.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 截至本章撰写时，Ubuntu Server 22.04 是最新版本，并作为主要下载选项显示。根据您阅读本书的时间，页面上可能还列出了其他版本的 Ubuntu
    Server，例如 22.10 和 23.04。Ubuntu 每六个月发布一次新版本。然而，本书仅涵盖 **长期支持**（**LTS**）版本，因为它享有五年的支持。
- en: By comparison, non-LTS versions (or “interim releases”) are only supported for
    nine months and are therefore not an appropriate choice for production servers.
    Organizations don’t typically utilize non-LTS releases at all, except for testing
    upcoming features prior to general availability, so for our purposes, we’ll stick
    with the LTS version. Once the download is completed, we’ll end up with an ISO
    image we can use to create our bootable installation media.
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 相比之下，非 LTS 版本（或“过渡发布版”）仅支持九个月，因此不适合用作生产服务器。组织通常不会使用非 LTS 版本，除非是为了在正式发布之前测试即将推出的功能，所以为了我们的目的，我们将坚持使用
    LTS 版本。下载完成后，我们将得到一个 ISO 镜像文件，可以用来创建可引导的安装介质。
- en: If you’re setting up a VM, then the ISO file you download from the Ubuntu downloads
    page will be all you need; you won’t need to create a bootable DVD or flash drive.
    In that scenario, all you should need to do is create a VM, attach the ISO to
    the virtual optical drive, and boot it. From there, the installer should start,
    and you can proceed with the installation procedure outlined later in this chapter,
    in the *Installing Ubuntu Server* section. Going over the process of booting an
    ISO image on a VM differs from one virtualization solution to another, so detailing
    the process with each would be a very difficult task. Thankfully, the process
    is usually straightforward and you can find the details within the documentation
    of your hypervisor. In most cases, the process is as simple as attaching the downloaded
    ISO image to the VM and then starting it up.
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您是在设置虚拟机，那么从 Ubuntu 下载页面下载的 ISO 文件就是您所需要的；您不需要创建可引导的 DVD 或闪存驱动器。在这种情况下，您只需要创建虚拟机，将
    ISO 文件附加到虚拟光驱上并启动它。接下来，安装程序应该会自动启动，您可以按照本章稍后“安装 Ubuntu Server”部分中描述的安装步骤继续操作。由于在虚拟化解决方案之间，启动
    ISO 镜像的过程有所不同，因此逐一详细说明每种方法会是一项非常困难的任务。幸运的是，这个过程通常很简单，您可以在虚拟化管理程序的文档中找到详细信息。在大多数情况下，过程就像是将下载的
    ISO 镜像附加到虚拟机上并启动它一样简单。
- en: If your device does not support booting from USB and you find yourself needing
    to create a bootable DVD, the process is typically just a matter of downloading
    the ISO file and then right-clicking on it. In the right-click menu of your operating
    system, you should have an option to burn to disk or some similar verbiage. This
    is true of Windows, as well as most graphical desktop environments of Linux where
    a disk-burning application is installed.
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的设备不支持从 USB 启动，且您需要创建一个可引导的 DVD，通常只需要下载 ISO 文件，然后右键单击该文件。在操作系统的右键菜单中，您应该有一个类似“刻录到磁盘”的选项。这适用于
    Windows 以及大多数安装了刻录应用程序的 Linux 图形桌面环境。
- en: The exact procedure differs from system to system, mainly because there is a
    vast amount of software combinations at play here. For example, I’ve seen many
    Windows systems where the right-click option to burn a DVD was removed by an installed
    CD/DVD-burning application. In that case, you’d have to first open your CD/DVD-burning
    application and find the option to create media from a downloaded ISO file. As
    much as I would love to outline the complete process here, no two Windows PCs
    typically ship with the same CD/DVD-burning application. The best rule of thumb
    is to try right-clicking on the file to see whether the option is there, and,
    if not, refer to the documentation for your application. Keep in mind that a *data
    disk* is not what you want, so make sure to look for the option to create media
    from an ISO image or your disk will be useless for our purpose.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: 具体步骤因系统而异，主要是因为这里涉及大量的软件组合。例如，我见过许多 Windows 系统，其中右键点击菜单中的刻录 DVD 选项被已安装的 CD/DVD
    刻录软件删除。在这种情况下，你必须首先打开 CD/DVD 刻录软件并找到从下载的 ISO 文件创建介质的选项。尽管我很想在这里列出完整的过程，但通常没有两台
    Windows 电脑预装相同的 CD/DVD 刻录软件。最好的经验法则是尝试右键点击文件，看看是否有该选项，如果没有，就参考你所用应用程序的文档。请记住，*数据光盘*并不是我们需要的类型，所以一定要寻找从
    ISO 镜像创建介质的选项，否则你的光盘将对我们的目的毫无用处。
- en: At this point, you should have an Ubuntu Server ISO image file downloaded. If
    you are planning on using a DVD to install Ubuntu, you should have that created
    as well. In the next section, I’ll outline the process of creating a bootable
    flash drive that can be used to install Ubuntu Server.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
  zh: 到此时，你应该已经下载了 Ubuntu Server 的 ISO 镜像文件。如果你打算使用 DVD 来安装 Ubuntu，你也应该已经创建好它。在接下来的部分，我将概述如何创建一个可引导的闪存驱动器，用于安装
    Ubuntu Server。
- en: Creating a bootable flash drive
  id: totrans-77
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 创建一个可引导的闪存驱动器
- en: The process of creating a bootable USB flash drive with which to install Ubuntu
    used to vary greatly between platforms. The steps were very different depending
    on whether your workstation or laptop was currently running Linux, Windows, or
    macOS. Thankfully, a much simpler method has come about. Nowadays, I recommend
    the use of **Etcher** to create your bootable media. Etcher is fantastic in that
    it abstracts the method such that it is the same regardless of which operating
    system you use, and it distills the process to its most simple form.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 创建一个可引导的 USB 闪存驱动器来安装 Ubuntu 的过程，过去在不同平台间差异很大。具体步骤根据你的工作站或笔记本电脑当前使用的是 Linux、Windows
    还是 macOS 而有所不同。幸运的是，现在有了一种更简单的方法。如今，我推荐使用**Etcher**来创建可引导的介质。Etcher 的优势在于它将方法抽象化，使得无论你使用哪种操作系统，过程都是相同的，而且它将过程简化到最简单的形式。
- en: Another feature I like is that Etcher is safe; it prevents you from destroying
    your current operating system in the process of mastering your bootable media.
    In the past, you’d use tools like the `dd` command on Linux to write an ISO file
    to a flash drive. However, if you set up the `dd` command incorrectly, you could
    effectively write the ISO file over your current operating system and wipe your
    entire hard drive. Etcher doesn’t let you do that.
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
  zh: 我喜欢的另一个功能是 Etcher 很安全；它能防止你在制作可引导介质的过程中破坏当前操作系统。过去，你可能会使用 Linux 上的 `dd` 命令将
    ISO 文件写入闪存驱动器。然而，如果你设置 `dd` 命令不正确，可能会把 ISO 文件写入当前操作系统，从而擦除整个硬盘。Etcher 不会让你犯这样的错误。
- en: Before continuing, you’ll need a USB flash drive that is either empty or one
    you don’t mind wiping. This process will completely erase its contents, so make
    sure the device doesn’t have information on it that you might need. The flash
    drive should be at least 2 GB or larger. Considering it’s difficult to find a
    flash drive for sale with less than 4 GB of space nowadays, this should be relatively
    easy to obtain.
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 在继续之前，你需要准备一只 USB 闪存驱动器，它必须是空的，或者是你不介意被清空的。这一过程将完全擦除其内容，所以确保该设备上没有你可能需要的信息。闪存驱动器的容量应至少为
    2 GB 或更大。考虑到现在很难找到小于 4 GB 的闪存驱动器，这应该比较容易获取。
- en: 'To get started, head on over to [https://www.balena.io/etcher/](https://www.balena.io/etcher/),
    download the latest version of the application from their site, and open it up.
    The window will look similar to the following screenshot once it launches:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，前往[https://www.balena.io/etcher/](https://www.balena.io/etcher/)，从他们的网站下载最新版本的应用程序并打开它。启动后，窗口看起来会类似于以下截图：
- en: '![](img/B18425_01_03.png)'
  id: totrans-82
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_03.png)'
- en: 'Figure 1.3: Utilizing Etcher to create a bootable flash drive'
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.3：使用 Etcher 创建可引导的闪存驱动器
- en: 'At this point, click **Flash from file**, which will open up a new window that
    will allow you to select the ISO file you downloaded earlier. Once you select
    the ISO, click on **Open**:'
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 此时，点击 **从文件闪存**，这将打开一个新窗口，允许你选择之前下载的 ISO 文件。一旦选择了 ISO，点击 **打开**：
- en: '![](img/B18425_01_04.png)'
  id: totrans-85
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_04.png)'
- en: 'Figure 1.4: Selecting an ISO image with Etcher'
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.4：使用 Etcher 选择 ISO 镜像
- en: 'If your flash drive is already inserted into the computer, Etcher should automatically
    detect it. In the event that you have more than one flash drive attached, or Etcher
    selects the wrong one, you can click **Change** and select the flash drive you
    wish to use:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的闪存驱动器已经插入到计算机中，Etcher 应该会自动检测到它。如果你连接了多个闪存驱动器，或者 Etcher 选择了错误的驱动器，你可以点击
    **更改** 并选择你希望使用的闪存驱动器：
- en: '![](img/B18425_01_05.png)'
  id: totrans-88
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_05.png)'
- en: 'Figure 1.5: Selecting a different flash drive with Etcher'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.5：使用 Etcher 选择不同的闪存驱动器
- en: 'Finally, click **Continue** to get the process started. At this point, the
    flash drive will be converted into Ubuntu Server installation media that can then
    be used to start the installation process:'
  id: totrans-90
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，点击 **继续** 启动该过程。此时，闪存驱动器将被转换为 Ubuntu Server 安装介质，可以用来启动安装过程：
- en: '![](img/B18425_01_06.png)'
  id: totrans-91
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_06.png)'
- en: 'Figure 1.6: Etcher in the process of writing a flash drive'
  id: totrans-92
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.6：Etcher 正在写入闪存驱动器
- en: After a few minutes (the length of time varies depending on your hardware),
    the **Flashing** process will complete, and you’ll be able to continue and get
    some installations going. Before we get into that, though, we should have a quick
    discussion regarding partitioning.
  id: totrans-93
  prefs: []
  type: TYPE_NORMAL
  zh: 几分钟后（时间长短取决于你的硬件），**闪存** 过程将完成，你将能够继续并开始一些安装操作。在继续之前，我们应该先快速讨论一下分区问题。
- en: Planning the partitioning layout
  id: totrans-94
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 规划分区布局
- en: '**Partitioning** your disk allows you to divide up your hard disk to dedicate
    specific storage allocations to individual applications or purposes. For example,
    you can dedicate a partition for the files that are shared by your Apache web
    server so changes to other partitions won’t affect it. You can even dedicate a
    partition for your network file shares—the possibilities are endless. Each partition
    is mounted (attached) to a specific directory, and any files sent to that directory
    are thereby sent to that separate partition. The names you create for the directories
    where your partitions are mounted are arbitrary; it really doesn’t matter what
    you call them. The flexible nature of storage on Linux systems allows you to be
    creative with your partitioning as well as your directory naming, since the Linux
    filesystem gives you more flexibility when it comes to mounting storage devices
    in specific folders.'
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: '**分区** 硬盘允许你将硬盘划分成多个部分，为不同的应用程序或用途分配专门的存储空间。例如，你可以为 Apache 网络服务器共享的文件分配一个分区，这样对其他分区的更改就不会影响它。你甚至可以为你的网络文件共享分配一个分区——可能性是无穷的。每个分区都会挂载（附加）到一个特定的目录，任何发送到该目录的文件都会被写入到该独立分区。你为分区挂载目录起的名字是任意的，实际上你叫什么名字并不重要。Linux
    系统的存储灵活性使你在分区和目录命名上都可以发挥创意，因为 Linux 文件系统在将存储设备挂载到特定文件夹时提供了更大的灵活性。'
- en: Admittedly, we’re getting ahead of ourselves here. After all, we’re only just
    getting started and the point of this chapter is to help you set up a basic Ubuntu
    Server installation to serve as the foundation for the rest of the chapter. When
    going through the installation process, we’ll accept the defaults anyway. However,
    the goal of this section is to give you examples of the options you have for consideration
    later. At some point, you may want to get creative and play around with the partition
    layout.
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 诚然，我们有些急于求成了。毕竟，我们才刚刚开始，本章的重点是帮助你设置一个基础的 Ubuntu Server 安装，以便为接下来的内容奠定基础。在安装过程中，我们将接受默认设置。然而，本节的目的是给你提供一些选项供你以后参考。到某个时候，你可能会想要发挥创意，尝试不同的分区布局。
- en: With custom partitioning, you’re able to do some very clever things. For example,
    with the right configuration, you’ll be able to wipe and reload your distribution
    while preserving user data, logs, and more. This works because Ubuntu Server allows
    you to carve up your storage any way you want during installation. If you already
    have a partition with data on it, you can choose to leave it as is so you can
    carry it forward into a new install. You simply set the directory path where it’s
    mounted to be the same as before, restore your configuration files, and your applications
    will continue working as if nothing happened.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 使用自定义分区，你可以做一些非常巧妙的事情。例如，经过正确配置后，你可以在不丢失用户数据、日志等的情况下清除并重新加载操作系统。这是因为Ubuntu Server允许你在安装过程中根据需要划分存储。如果你已有包含数据的分区，你可以选择保持不变，并将其带到新的安装中。你只需要将挂载目录路径设置为与之前相同，恢复配置文件，应用程序就会像什么都没发生一样继续工作。
- en: One very common example of custom partitioning in the real world is separating
    the `/home` directory into its own partition. Since this is where users typically
    store their files, you can set up your server such that a reload of the distribution
    won’t disturb their files. When they log in after a server refresh, all their
    files will be right where they left them. You could even place the files shared
    by your Apache web server on to their own partition and preserve those too. You
    can get very creative here.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: 现实世界中常见的自定义分区例子之一是将`/home`目录单独分割成一个分区。由于用户通常在这里存储文件，你可以配置服务器，以便重新加载操作系统时不会影响他们的文件。当他们在服务器刷新后重新登录时，所有的文件都会在原来的位置。你甚至可以将Apache
    Web服务器共享的文件放在它们自己的分区上，这样也能保持这些文件不被丢失。这里可以做很多创新的配置。
- en: It probably goes without saying, but when reinstalling Ubuntu, you should back
    up partitions that have data you don’t want to be wiped (even if you don’t plan
    on formatting the partitions). The reason being, one wrong move (literally a single
    checkbox) and you can easily wipe out all the data on that partition. Always back
    up your data when refreshing a server.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 这可能不言而喻，但在重新安装Ubuntu时，你应该备份那些包含不希望被擦除数据的分区（即使你不打算格式化这些分区）。原因是，一旦出错（实际上只需勾选一个框），你就可能轻易擦除该分区上的所有数据。在刷新服务器时，始终备份你的数据。
- en: Another reason to utilize separate partitions may be to simply create boundaries
    or restrictions. If you have an application running on your server that is prone
    to filling up large amounts of storage, you can point that application to its
    own partition, limited by size. An example of where this could be useful is an
    application’s log files. Log files are the bane of any system administrator’s
    life when it comes to storage.
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 使用独立分区的另一个理由可能是创建边界或限制。如果你在服务器上运行的某个应用程序容易占满大量存储空间，你可以将该应用程序指向一个独立的分区，且该分区的大小有限。例如，日志文件就是一个很好的应用场景。日志文件是任何系统管理员在存储方面的噩梦。
- en: While helpful if you’re trying to figure out why something crashed, logs can
    fill up a hard disk very quickly if you’re not careful. In my experience, servers
    have been known to come to a screeching halt due to log files filling up all the
    available free space on a server where everything was on a single partition. The
    only boundary the application had was the entirety of the disk itself.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 日志在帮助你找出为什么某个程序崩溃时非常有用，但如果不小心，它们会很快占满硬盘。在我的经验中，服务器因为日志文件占满了服务器上唯一分区的所有可用空间，导致服务器突然停顿。这个分区就是整个磁盘，应用程序没有其他的边界。
- en: While there are certainly better ways of handling excessive logging (log rotating,
    disk quotas, and so on), a separate partition would certainly help. If the application’s
    log directory was on its own partition, it would be able to fill up that partition,
    but not the entire drive, which would cause issues but wouldn’t affect the entire
    server. As an administrator, it’s up to you to weigh the pros and the cons of
    these strategies to avoid server overload and develop a partitioning scheme that
    will best serve the needs of your organization.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管有更好的方法来处理过度的日志记录（如日志轮转、磁盘配额等），但使用单独的分区无疑会有所帮助。如果应用程序的日志目录在一个单独的分区上，它只会填满那个分区，而不会影响整个硬盘，这虽然会导致一些问题，但不会影响整个服务器。作为管理员，你需要权衡这些策略的优缺点，避免服务器过载，并制定一个最适合你组织需求的分区方案。
- en: Success when maintaining a server is a matter of efficiently managing resources,
    users, and security—a good partitioning scheme is certainly part of that. Sometimes
    it’s just a matter of making things easier on yourself so that you have less work
    to do should you need to reload your operating system. For the sake of following
    along with this book, it really doesn’t matter how you install or partition Ubuntu
    Server. The trick is simply to get it installed—you can always practice partitioning
    later. After all, part of learning is setting up a platform, observing any issues
    that may occur, and then fixing it up.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: 维护服务器的成功在于高效管理资源、用户和安全性——一个好的分区方案无疑是其中的一部分。有时候，这只是为了让自己省事，万一需要重新加载操作系统时，能够减少工作量。为了跟上本书的内容，Ubuntu
    Server 的安装或分区方式并不重要。关键是要成功安装——你可以随时练习分区。毕竟，学习的一部分就是搭建平台，观察可能出现的问题，然后进行修复。
- en: 'Here are some basic tips regarding partitioning:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 下面是一些关于分区的基本技巧：
- en: At a minimum, a partition for the root filesystem (designated by a forward slash)
    is required.
  id: totrans-105
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 至少需要为根文件系统（由正斜杠表示）创建一个分区。
- en: The `/var` directory contains most log files and is therefore a good candidate
    for separation for the reasons mentioned previously in this section.
  id: totrans-106
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`/var` 目录包含大多数日志文件，因此它是一个很好的分区候选，原因如本节前面所述。'
- en: The `/home` directory stores all user files. Separating this into a separate
    partition can be beneficial as it gives you the possibility of having your user
    files survive a reinstall of Ubuntu.
  id: totrans-107
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`/home` 目录存储所有用户文件。将其分离成一个独立的分区是有益的，因为这样可以让你的用户文件在重新安装 Ubuntu 时得以保留。'
- en: If you’ve used Linux before, you may be familiar with the concept of a **swap
    partition**, which is a special partition that can act as RAM when your memory
    becomes full. This is no longer necessary—a **swap file** will be created automatically
    in newer Ubuntu releases.
  id: totrans-108
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果你以前使用过 Linux，可能会熟悉 **交换分区** 的概念，它是一个特殊的分区，当内存满时可以作为虚拟内存来使用。不过在新的 Ubuntu 版本中，这已经不再是必需的——**交换文件**
    将会自动创建。
- en: When we perform our installation in the next section, we’ll choose the defaults
    for the partitioning scheme to get you started quickly. However, I recommend you
    come back to the installation process at some point in the future and experiment
    with it. You may come up with some clever ways to split up your storage. However,
    you don’t have to—having everything in one partition is fine too, depending on
    your needs.
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节的安装过程中，我们将选择默认的分区方案，让你快速入门。不过，我建议你在未来某个时候再次回到安装过程，尝试不同的分区方式。你可能会想出一些巧妙的方式来划分存储。但这并不是必须的——根据你的需求，所有内容放在一个分区也是可以的。
- en: Now that we have an understanding of what partitioning is, we should have all
    of the essential topics covered to enable us to actually get the installation
    of Ubuntu Server going. Let’s go ahead and work on that now.
  id: totrans-110
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们已经了解了分区的概念，我们应该已经涵盖了所有必要的主题，能够实际开始安装 Ubuntu Server。让我们现在开始吧。
- en: Installing Ubuntu Server
  id: totrans-111
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装 Ubuntu Server
- en: At this point, we should be ready to get an installation of Ubuntu Server going.
    In the steps that follow, I’ll walk you through the process.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 到此为止，我们应该已经准备好开始安装 Ubuntu Server。在接下来的步骤中，我会带你一步步完成安装过程。
- en: To get started, all you should need to do is insert the installation media into
    your server or device and follow the onscreen instructions to open the boot menu.
    The key you press at the beginning of the POST process differs from one machine
    to another, but it’s quite often *F10*, *F11*, or *F12*. Refer to your documentation
    if you are unsure, though most computers and servers tell you which key to press
    at the beginning. You may miss this window of opportunity the first few times,
    and that’s fine—to this day I still seem to need to restart the machine once or
    twice to hit the key in time.
  id: totrans-113
  prefs: []
  type: TYPE_NORMAL
  zh: 要开始，你只需要将安装介质插入服务器或设备，并按照屏幕上的说明打开启动菜单。启动过程开始时按的键因机器而异，但通常是*F10*、*F11* 或 *F12*。如果不确定，请参考你的文档，尽管大多数电脑和服务器都会在开始时提示你按哪个键。你可能在前几次会错过这个时机，这没关系——直到今天，我似乎仍然需要重启机器一两次才能及时按下正确的键。
- en: Once you successfully boot your device while using your Ubuntu Server installation
    media, navigating the installer is relatively straightforward. You simply use
    the arrow keys to move up and down to select different options, and press *Enter*
    to confirm choices. The *Esc* key will allow you to exit from a sub-menu. Moving
    around within the installer is pretty easy once you get the hang of it.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你成功启动设备并使用你的Ubuntu Server安装介质，安装程序的导航就相对简单了。你只需使用方向键上下移动，选择不同的选项，然后按*Enter*键确认选择。*Esc*键将允许你退出子菜单。一旦熟悉了操作，安装程序中的导航非常容易。
- en: Once the installer starts, you’ll see the first of many selection screens. The
    first option, **Ubuntu Server**, allows you to start the Ubuntu Server installer.
    The second option, **Test memory**, runs a special program that helps you determine
    if you have any physical defects with the RAM modules installed inside your device.
    I always recommend testing the memory of your device once per year at least, and
    especially before you install an operating system for the first time. Memory issues
    can be rare, but you’d be surprised. It might be a good idea to test your memory
    just to be safe.
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦安装程序启动，你将看到第一个选择屏幕。第一个选项，**Ubuntu Server**，允许你启动Ubuntu Server安装程序。第二个选项，**测试内存**，运行一个特殊程序，帮助你确定设备内存条是否有物理缺陷。我总是建议每年至少测试一次设备的内存，尤其是在首次安装操作系统之前。内存问题虽然很少见，但你会感到惊讶。为了保险起见，测试一下内存也许是个不错的主意。
- en: 'If you wish to test the memory of your device, you can go ahead and do so.
    In order to move on though, we’ll need to choose the **Ubuntu Server** option
    in order to start the installer:'
  id: totrans-116
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你希望测试设备的内存，可以继续进行此操作。不过，为了继续下去，我们需要选择**Ubuntu Server**选项，以便启动安装程序：
- en: '![](img/B18425_01_07.png)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_07.png)'
- en: 'Figure 1.7: The initial boot screen for the Ubuntu Server installation media'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.7：Ubuntu Server安装介质的初始启动屏幕
- en: 'Next, you’ll see a screen allowing you to select your language as in the following
    screenshot:'
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，你将看到一个允许你选择语言的屏幕，如下图所示：
- en: '![](img/B18425_01_08.png)'
  id: totrans-120
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_08.png)'
- en: 'Figure 1.8: Language selection at the beginning of the installation process'
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.8：安装过程开始时的语言选择
- en: If your language is anything other than English, you’ll be able to select that
    here. Once you’re satisfied with the chosen keyboard layout, you continue by selecting
    **Done** at the bottom of the screen.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你的语言是英语以外的其他语言，你可以在这里选择。一旦你对所选择的键盘布局满意，继续选择屏幕底部的**完成**。
- en: After choosing your language, you’ll be brought to a screen that enables you
    to set your **Keyboard configuration**. If the proper keyboard layout wasn’t automatically
    selected, you can change it here.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 选择语言后，你将进入一个屏幕，可以设置你的**键盘配置**。如果没有自动选择正确的键盘布局，你可以在这里进行更改。
- en: '![](img/B18425_01_09.png)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_09.png)'
- en: 'Figure 1.9: Setting the layout of your keyboard'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.9：设置你的键盘布局
- en: Next, we’ll see an option to install **Ubuntu Server**, or **Ubuntu Server (minimized)**.
    For this, we’ll choose the first option. Choosing to install a minimized version
    of Ubuntu Server might be a good fit for creating smaller installations, however
    for this book, we’re going to focus on the normal installation type.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将看到一个选项来安装**Ubuntu Server**，或者**Ubuntu Server（最小化）**。在这里，我们选择第一个选项。选择安装最小化版本的Ubuntu
    Server可能适合创建较小的安装，但对于本书而言，我们将专注于常规安装类型。
- en: '![](img/B18425_01_10.png)'
  id: totrans-127
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_10.png)'
- en: 'Figure 1.10: Choosing your installation type'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.10：选择你的安装类型
- en: Next, the Ubuntu Server installer will attempt to automatically detect the appropriate
    parameters for your network card. By default, it should detect the appropriate
    settings via **Dynamic Host Control Protocol** (**DHCP**). We’ll go over DHCP
    in a future chapter, specifically *Chapter 11*, *Setting Up Network Services*.
    For now, the defaults should be fine. Select **Done** to continue.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，Ubuntu Server安装程序将尝试自动检测适合你的网络卡的参数。默认情况下，它应该通过**动态主机配置协议**（**DHCP**）自动检测合适的设置。我们将在后续章节中详细讲解DHCP，特别是*第11章*，*设置网络服务*。现在，默认设置应该是可以的。选择**完成**以继续。
- en: '![](img/B18425_01_11.png)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_11.png)'
- en: 'Figure 1.11: Network configuration within the Ubuntu Server installer'
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.11：Ubuntu Server安装程序中的网络配置
- en: 'Continuing, the next screen will give us an opportunity to set a proxy address
    if we need one. Most readers shouldn’t need this, and those that do might’ve been
    provided particular proxy settings from a network administrator. So for us, we’ll
    select **Done** to continue:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，屏幕将给我们一个机会来设置代理地址（如果需要的话）。大多数读者不需要这个功能，只有那些需要的用户可能已经从网络管理员那里获得了特定的代理设置。因此，我们选择**完成**继续：
- en: '![](img/B18425_01_12.png)'
  id: totrans-133
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_12.png)'
- en: 'Figure 1.12: Proxy settings within the Ubuntu Server installer'
  id: totrans-134
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.12：Ubuntu Server安装程序中的代理设置
- en: On the next screen that appears, we’ll see an option to set a mirror address
    for our installation. As we’ll discuss further in *Chapter 3*, *Managing Software
    Packages*, this pertains to an online source from which installable applications
    (packages) can be downloaded. In some cases, an organization might host its own
    repository for available software.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 下一屏幕会显示设置镜像地址的选项。正如我们在*第3章*《*管理软件包*》中进一步讨论的那样，这个地址指的是可以下载可安装应用程序（软件包）的在线源。在某些情况下，一个组织可能会托管自己的软件仓库。
- en: 'Therefore, on this screen, you can choose a different server to provide software
    if you have your own. For our needs, we’ll select **Done** to accept the default
    and continue:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，在这个界面上，如果你有自己的服务器，可以选择不同的服务器来提供软件。对于我们的需求，我们将选择**完成**以接受默认设置并继续：
- en: '![](img/B18425_01_13.png)'
  id: totrans-137
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_13.png)'
- en: 'Figure 1.13: Mirror settings within the Ubuntu Server installer'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.13：Ubuntu Server安装程序中的镜像设置
- en: Next, we’ll see settings for storage. In particular, this is where we can configure
    the hard disk layout for our installation. Earlier in this chapter, I mentioned
    that it’s common practice to adopt a custom partitioning scheme. If you have a
    preferred partition layout, this is the screen where you would input those decisions
    by selecting **Custom storage layout**.
  id: totrans-139
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们会看到存储设置。特别是，这里是我们可以配置硬盘布局以进行安装的地方。在本章早些时候，我提到过采用自定义分区方案是一种常见做法。如果你有首选的分区布局，这是你可以通过选择**自定义存储布局**来输入决策的屏幕。
- en: 'However, doing so would be jumping ahead of the book a bit, so instead I recommend
    selecting **Done** to accept the default, which will take over the entire hard
    disk:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 然而，这样做有点跳过了书中的内容，因此我建议选择**完成**来接受默认设置，这将覆盖整个硬盘：
- en: '![](img/B18425_01_14.png)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_14.png)'
- en: 'Figure 1.14: Configuring storage while installing Ubuntu Server'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.14：安装Ubuntu Server时配置存储
- en: 'After we inform the installer how to set up the storage device on our server,
    we’ll next see a screen that summarizes our selections while configuring storage.
    Since we chose the default layout, we’ll see a basic layout presented on this
    screen. If you did decide to set up a customized partitioning scheme, you’d want
    to ensure that the selections shown here match what you had in mind. If you’re
    confused as to what any of this means, don’t worry too much about it for now.
    We’ll cover more details surrounding storage in *Chapter 9*, *Managing Storage
    Volumes*. For now, select **Done** to accept the default storage layout:'
  id: totrans-143
  prefs: []
  type: TYPE_NORMAL
  zh: 在告诉安装程序如何设置服务器上的存储设备后，我们会看到一个屏幕，汇总了我们在配置存储时的选择。由于我们选择了默认布局，这个屏幕会展示一个基本布局。如果你决定设置一个自定义的分区方案，你需要确保这里显示的选择与您设想的相符。如果你对这些内容感到困惑，不必太担心。我们将在*第9章*《*管理存储卷*》中更详细地讲解存储相关内容。现在，选择**完成**接受默认的存储布局：
- en: '![](img/B18425_01_15.png)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_15.png)'
- en: 'Figure 1.15: Storage configuration summary screen while installing Ubuntu Server'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.15：安装Ubuntu Server时的存储配置总结屏幕
- en: 'If you didn’t already know, this process will erase everything on the hard
    disk of your device, and replace it with your new Ubuntu Server installation.
    This means that if you haven’t backed up any important data that might be saved
    on your device, you will lose that information forever. The screen that comes
    up next will explain that this is the last step before your disk is wiped and
    Ubuntu Server is installed. If you’re certain that your disk doesn’t have any
    important data on it, you can select **Continue**:'
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你还不知道，这个过程将会清除你设备硬盘上的所有数据，并用新的Ubuntu Server安装替代它。这意味着，如果你没有备份设备上可能保存的重要数据，你将永远丢失这些信息。接下来的屏幕将解释这是在擦除硬盘并安装Ubuntu
    Server之前的最后一步。如果你确定你的硬盘上没有重要数据，可以选择**继续**：
- en: '![](img/B18425_01_16.png)'
  id: totrans-147
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_16.png)'
- en: 'Figure 1.16: Confirming the installation and wiping of the hard disk'
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.16：确认安装并擦除硬盘的数据
- en: When we install Ubuntu Server, it will create an initial user account for us
    as part of the process. This user will be used for configuring and maintaining
    the server after installation. In this section of the installer, we’ll be given
    an opportunity to name this user and create a password.
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们安装 Ubuntu Server 时，它将为我们创建一个初始用户账户作为安装过程的一部分。此用户将用于配置和维护服务器。在安装程序的这一部分，我们将有机会为此用户命名并设置密码。
- en: 'Fill out your information on this screen, as I have in the following screenshot.
    One important thing to keep in mind is that the user you create here will have
    administrative access. You can always create other users later on, but the user
    you create here will have special privileges. When finished, arrow down to **Done**
    and press *Enter*:'
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个屏幕上填写您的信息，就像我在下面的截图中所做的那样。需要记住的一件重要事情是，您在这里创建的用户将具有管理员访问权限。稍后您可以创建其他用户，但在这里创建的用户将拥有特殊权限。完成后，箭头移到**Done**并按*Enter*键：
- en: '![](img/B18425_01_17.png)'
  id: totrans-151
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_17.png)'
- en: 'Figure 1.17: Ubuntu Server installer, configuring user details'
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.17：Ubuntu Server 安装程序，配置用户详细信息
- en: 'Next, you’ll see an **Install OpenSSH server** option. I recommend that you
    enable this. OpenSSH is the closest thing to a default we have when it comes remotely
    managing Ubuntu servers, and is discussed in more detail in *Chapter 10*, *Connecting
    to Networks*. For now, let’s enable this option as it will be one less thing for
    us to do later. To do so, you can press the spacebar while the cursor is on the
    option to add an asterisk symbol into its checkbox, which signifies a selection.
    After you do that, select **Done** to continue:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，你将看到一个**安装 OpenSSH 服务器**的选项。我建议你启用它。在远程管理 Ubuntu 服务器时，OpenSSH 是我们最常用的工具，详细内容在*第10章*
    *连接到网络*中有讲解。现在，让我们启用这个选项，这样以后我们就少一件事要做了。要这么做，你可以在光标位于选项上时按空格键，在其复选框中添加一个星号符号，表示选择。完成后，选择**Done**继续：
- en: '![](img/B18425_01_18.png)'
  id: totrans-154
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_18.png)'
- en: 'Figure 1.18: Choosing whether or not to set up OpenSSH while installing Ubuntu
    Server'
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.18：在安装 Ubuntu Server 时选择是否设置 OpenSSH
- en: 'Next, we’ll see a selection of some of the more common applications that can
    be run on Ubuntu Server. For example, we have selections for Nextcloud, Docker,
    and more on this screen. For now, we’ll ignore these since we’ll be going through
    the process of manually setting up many services throughout the book. So for now,
    select **Done** to continue:'
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将看到一些常用应用程序的选择，这些应用程序可以在 Ubuntu Server 上运行。例如，我们在这个屏幕上有 Nextcloud、Docker
    等选择。现在，我们会忽略这些，因为在本书中我们将手动设置许多服务。因此，现在选择**Done**继续：
- en: '![](img/B18425_01_19.png)'
  id: totrans-157
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_19.png)'
- en: 'Figure 1.19: Featured application selection'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.19：特色应用程序选择
- en: 'That’s pretty much it—the installer will continue along on its own, as it has
    all the information it needs from you at this point. Once it’s done, you’ll see
    a **Reboot** option at the bottom of the screen; go ahead and select that:'
  id: totrans-159
  prefs: []
  type: TYPE_NORMAL
  zh: 就这样了 —— 安装程序将继续进行，因为它已经从您那里获得了所有需要的信息。完成后，在屏幕底部您将看到一个**重新启动**选项；请继续选择它：
- en: '![](img/B18425_01_20.png)'
  id: totrans-160
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_20.png)'
- en: 'Figure 1.20: Completed installation, pending reboot'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.20：安装完成，待重启
- en: At this point, your server will reboot and then Ubuntu Server should start right
    up. Congratulations! You now have your own Ubuntu Server installation!
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: 此时，您的服务器将重新启动，然后 Ubuntu Server 应该会立即启动。恭喜！您现在拥有自己的 Ubuntu Server 安装！
- en: In addition to server-specific hardware and virtual machines, Ubuntu Server
    can also be installed on a Raspberry Pi, and that’s exactly what we’ll take a
    look at in the next section.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 除了特定服务器硬件和虚拟机之外，Ubuntu Server 也可以安装在树莓派上，在下一节我们将详细了解这一点。
- en: Installing Ubuntu on a Raspberry Pi
  id: totrans-164
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在树莓派上安装 Ubuntu
- en: The Raspberry Pi platform has become quite a valuable asset in the industry,
    and a useful server platform. These tiny computers, now with four cores and up
    to 8 GB of RAM, are extremely power efficient and their performance is good enough
    that you can actually transform them into actual servers. In my lab, I have several
    Raspberry Pis on my network, each one responsible for performing specific tasks
    or functions. In many cases, you wouldn’t even tell that they were devices with
    lower-powered hardware. Perhaps even more surprising is the fact that the Raspberry
    Pi 4 can outperform some lower-tier cloud instances, giving you a powerful server
    without the monthly cost if you don’t need a high-end CPU. All this, in such a
    small form factor—these devices are smaller than the coaster under your coffee
    mug!
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: Raspberry Pi平台已成为业界一个非常有价值的资产，并且是一个有用的服务器平台。这些微型计算机现在配备了四核处理器和最多8GB的RAM，非常节能，且其性能足够强大，可以真正将它们转化为实际的服务器。在我的实验室里，我的网络上有几台Raspberry
    Pi，每台都负责执行特定的任务或功能。在很多情况下，你甚至无法察觉它们是硬件性能较低的设备。也许更令人惊讶的是，Raspberry Pi 4能够超越一些低端云实例，在不需要高端CPU的情况下，为你提供一个强大的服务器，且没有每月费用。所有这些，都是在如此小巧的外形中——这些设备比你的咖啡杯垫还要小！
- en: 'Ubuntu Server is available for Raspberry Pi models 2, 3, and 4\. To get started,
    all you’ll need to do is visit the official download page for the Raspberry Pi
    version of Ubuntu, here: [https://ubuntu.com/download/raspberry-pi](https://ubuntu.com/download/raspberry-pi).
    This will take you to the following screen:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: Ubuntu Server支持Raspberry Pi 2、3和4型号。要开始，只需访问Raspberry Pi版本的Ubuntu官方下载页面：[https://ubuntu.com/download/raspberry-pi](https://ubuntu.com/download/raspberry-pi)。这将带你到如下界面：
- en: '![](img/B18425_01_21.png)'
  id: totrans-167
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_21.png)'
- en: 'Figure 1.21: The download section for Raspberry Pi on the official Ubuntu website'
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.21：官方Ubuntu网站上Raspberry Pi的下载区
- en: Once there, you’ll see a listing of multiple versions for the Pi that are available
    for download. Refer to the preceding screenshot for an example of options that
    are available, but keep in mind that Ubuntu may redesign their web page at any
    time. So as a rule of thumb, download the version that matches the type of Raspberry
    Pi you have, and go with the 64-bit version if it’s available (the Raspberry Pi
    2 only has a 32-bit option available).
  id: totrans-169
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦进入，你会看到多个可供下载的Pi版本列表。参考前面的截图查看可用选项，但请记住，Ubuntu随时可能重新设计其网页。因此，作为经验法则，下载与您所拥有的Raspberry
    Pi类型匹配的版本，如果有64位版本，最好选择64位版本（Raspberry Pi 2只提供32位版本）。
- en: 'The download for the Pi versions will come in the form of a compressed image,
    which can be written directly to an SD card. To get the process going, open up
    Etcher, which we downloaded in an earlier step. Once Etcher is open, click **Flash
    from file**:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: Pi版本的下载文件将以压缩镜像的形式提供，可以直接写入SD卡。为了开始这个过程，打开之前下载的Etcher。打开Etcher后，点击**Flash from
    file**：
- en: '![](img/B18425_01_22.png)'
  id: totrans-171
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_22.png)'
- en: 'Figure 1.22: Etcher, ready for action'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.22：Etcher，准备开始操作
- en: 'Now, choose the file that was downloaded earlier and select **Open**:'
  id: totrans-173
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，选择之前下载的文件并点击**Open**：
- en: '![](img/B18425_01_23.png)'
  id: totrans-174
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_23.png)'
- en: 'Figure 1.23: Selecting the file to use to write to the SD card'
  id: totrans-175
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.23：选择要写入SD卡的文件
- en: 'Next, go ahead and insert an SD card into your computer that will become dedicated
    to Ubuntu Server. Etcher will completely erase the SD card, so make sure you don’t
    need any of the data that may be on it. If your computer does not have an SD card
    slot, you can use a USB card reader. If the proper device isn’t selected, you
    can click **Select target** to choose the SD card to use, as shown in *Figure
    1.24*. Then click **Continue**:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，将一张SD卡插入计算机，这张卡将专门用于Ubuntu Server。Etcher会完全擦除SD卡，因此请确保你不需要卡上的任何数据。如果你的电脑没有SD卡槽，可以使用USB卡读卡器。如果没有选择正确的设备，可以点击**Select
    target**来选择要使用的SD卡，如*图1.24*所示。然后点击**Continue**：
- en: '![](img/B18425_01_24.png)'
  id: totrans-177
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_24.png)'
- en: 'Figure 1.24: Choosing an SD card to use with Etcher for the Raspberry Pi'
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.24：为Raspberry Pi选择使用的SD卡
- en: 'Once you’ve selected both the image file to use and the target SD card, you’re
    ready to proceed. Click **Flash!** to begin the process of writing the image:'
  id: totrans-179
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你选择了要使用的镜像文件和目标SD卡，你就可以开始了。点击**Flash!**开始写入镜像的过程：
- en: '![](img/B18425_01_25.png)'
  id: totrans-180
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_25.png)'
- en: 'Figure 1.25: Etcher, ready to start flashing the SD card'
  id: totrans-181
  prefs: []
  type: TYPE_NORMAL
  zh: 图1.25：Etcher，准备开始刷写SD卡
- en: 'Now, Etcher will prepare the target with the source image file. The process
    can take anywhere from 5 to 15 minutes depending on the speed of your hardware:'
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，Etcher 将准备目标设备并写入源镜像文件。根据硬件速度，过程可能需要 5 到 15 分钟：
- en: '![](img/B18425_01_26.png)'
  id: totrans-183
  prefs: []
  type: TYPE_IMG
  zh: '![](img/B18425_01_26.png)'
- en: 'Figure 1.26: Etcher in progress'
  id: totrans-184
  prefs: []
  type: TYPE_NORMAL
  zh: 图 1.26：Etcher 正在进行中
- en: Once Etcher is finished writing to the SD card, you can eject it from your computer
    and insert it into the Pi, which can be accessed remotely via SSH. When it finishes
    booting for the first time, you can log in and begin using it as you would any
    other Ubuntu Server installation (the username and password both default to `ubuntu`).
    From there, you can create a new user for yourself, install applications, and
    experiment.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦 Etcher 完成向 SD 卡写入数据，你可以将其从电脑中弹出并插入 Pi 中，该设备可以通过 SSH 远程访问。当它第一次启动完成后，你可以登录并像使用其他任何
    Ubuntu Server 安装一样开始使用它（用户名和密码默认为`ubuntu`）。从那里，你可以为自己创建一个新用户，安装应用程序并进行实验。
- en: Summary
  id: totrans-186
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 摘要
- en: In this chapter, we covered a couple of different installation scenarios in
    great detail. As with most Linux distributions, Ubuntu Server is scalable and
    able to be installed on a variety of server types. Physical devices, VMs, and
    even the Raspberry Pi have versions of Ubuntu available. The process of installation
    was covered step by step, and you should now have an Ubuntu Server instance of
    your own to configure as you wish. Also in this chapter, we covered determining
    the role of your server, the process of creating bootable media, and a walkthrough
    of setting up Ubuntu Server on your server device (as well as on a Raspberry Pi).
    You’re now on your way to Ubuntu Server mastery!
  id: totrans-187
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们详细介绍了几种不同的安装场景。与大多数 Linux 发行版一样，Ubuntu Server 是可扩展的，可以安装在各种服务器类型上。物理设备、虚拟机甚至
    Raspberry Pi 都有可用的 Ubuntu 版本。安装过程已逐步讲解，现在你应该已经有了自己的 Ubuntu Server 实例，可以根据需要进行配置。本章还涉及了确定服务器角色、创建可启动媒体的过程，以及如何在你的服务器设备上（以及
    Raspberry Pi 上）设置 Ubuntu Server 的详细步骤。现在，你已经开始掌握 Ubuntu Server 了！
- en: In the next chapter, we’ll show you how to manage users. You’ll be able to create
    them, delete them, change them, manage password expiration, and more. We will
    also cover permissions so that you can determine what your users are allowed to
    do on your server. See you there!
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将向你展示如何管理用户。你将能够创建用户、删除用户、更改用户、管理密码过期等。我们还将讨论权限，以便你可以确定用户在服务器上可以执行的操作。到时见！
- en: Relevant tutorials
  id: totrans-189
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 相关教程
- en: 'Install Ubuntu Server (Video Tutorial) from LearnLinuxTV: [https://linux.video/install-ubuntu-server](https://linux.video/install-ubuntu-server)'
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 从 LearnLinuxTV 安装 Ubuntu Server（视频教程）：[https://linux.video/install-ubuntu-server](https://linux.video/install-ubuntu-server)
- en: Join our community on Discord
  id: totrans-191
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 加入我们的 Discord 社区
- en: 'Join our community’s Discord space for discussions with the author and other
    readers:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: 加入我们社区的 Discord 频道，与作者和其他读者讨论：
- en: '[https://packt.link/LWaZ0](https://packt.link/LWaZ0)'
  id: totrans-193
  prefs: []
  type: TYPE_NORMAL
  zh: '[https://packt.link/LWaZ0](https://packt.link/LWaZ0)'
- en: '![](img/QR_Code50046724-1955875156.png)'
  id: totrans-194
  prefs: []
  type: TYPE_IMG
  zh: '![](img/QR_Code50046724-1955875156.png)'
