<html><head></head><body>
  <div id="_idContainer032" class="Basic-Text-Frame">
    <h1 class="chapterNumber"><span class="koboSpan" id="kobo.1.1">2</span></h1>
    <h1 id="_idParaDest-32" class="chapterTitle"><span class="koboSpan" id="kobo.2.1">Interpreting Commands</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.3.1">To fulfill its job as the interface between the user and the operating system kernel, a shell has to perform five different functions. </span><span class="koboSpan" id="kobo.3.2">These functions include interpreting commands, setting variables, enabling input/output redirection, enabling pipelines, and allowing customization of a user’s working environment. </span><span class="koboSpan" id="kobo.3.3">In this chapter, we’ll look at how </span><code class="inlineCode"><span class="koboSpan" id="kobo.4.1">bash</span></code><span class="koboSpan" id="kobo.5.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.6.1">zsh</span></code><span class="koboSpan" id="kobo.7.1"> interpret commands. </span><span class="koboSpan" id="kobo.7.2">As an added bonus, much of what we’ll cover in the next few chapters will also help you prepare for certain Linux certification exams, such as the Linux Professional Institute or CompTIA Linux+ exams.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.8.1">Topics in this chapter include:</span></p>
    <ul>
      <li class="bulletList"><span class="koboSpan" id="kobo.9.1">Understanding the structure of a command</span></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.10.1">Executing multiple commands at once</span></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.11.1">Running commands recursively</span></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.12.1">Understanding the command history</span></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.13.1">Escaping and quoting</span></li>
    </ul>
    <p class="normal"><span class="koboSpan" id="kobo.14.1">To follow along, you can use pretty much any Linux distro that you desire, as long as it’s running with either </span><code class="inlineCode"><span class="koboSpan" id="kobo.15.1">bash</span></code><span class="koboSpan" id="kobo.16.1"> or </span><code class="inlineCode"><span class="koboSpan" id="kobo.17.1">zsh</span></code><span class="koboSpan" id="kobo.18.1">. </span><span class="koboSpan" id="kobo.18.2">Your best bet is to use a virtual machine instead of your production workstation, in case you accidentally delete or change something that you shouldn’t.</span></p>
    <h1 id="_idParaDest-33" class="heading 1"><span class="koboSpan" id="kobo.19.1">Understanding the Structure of a Command</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.20.1">A handy thing to know for both real-life and any certification exams that you may take, is the</span><a id="_idIndexMarker046"/><span class="koboSpan" id="kobo.21.1"> structure of a command. </span><span class="koboSpan" id="kobo.21.2">Commands can consist of up to three parts, and there’s a certain order for the parts. </span><span class="koboSpan" id="kobo.21.3">Here are the parts and the order in which you’ll normally place them:</span></p>
    <ul>
      <li class="bulletList"><span class="koboSpan" id="kobo.22.1">The command itself</span></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.23.1">Command options</span></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.24.1">Command arguments</span></li>
    </ul>
    <p class="normal"><span class="koboSpan" id="kobo.25.1">If you plan to take a Linux certification exam, you’ll definitely want to remember this ordering rule. </span><span class="koboSpan" id="kobo.25.2">Later on though, we’ll see that some commands don’t always follow this rule.</span></p>
    <h2 id="_idParaDest-34" class="heading 2"><span class="koboSpan" id="kobo.26.1">Using Command Options</span></h2>
    <p class="normal"><span class="koboSpan" id="kobo.27.1">There are two general</span><a id="_idIndexMarker047"/><span class="koboSpan" id="kobo.28.1"> types of </span><strong class="keyWord"><span class="koboSpan" id="kobo.29.1">option switches</span></strong><span class="koboSpan" id="kobo.30.1">:</span></p>
    <ul>
      <li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.31.1">Single-letter options</span></strong><span class="koboSpan" id="kobo.32.1">: For most commands, a single-letter option is preceded by a single </span><a id="_idIndexMarker048"/><span class="koboSpan" id="kobo.33.1">dash. </span><span class="koboSpan" id="kobo.33.2">Most of the time, two </span><a id="_idIndexMarker049"/><span class="koboSpan" id="kobo.34.1">or more single-letter options can be combined with a single dash.</span></li>
      <li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.35.1">Whole-word options</span></strong><span class="koboSpan" id="kobo.36.1">: For </span><em class="italic"><span class="koboSpan" id="kobo.37.1">most</span></em><span class="koboSpan" id="kobo.38.1"> commands, a whole word option is preceded by two </span><a id="_idIndexMarker050"/><span class="koboSpan" id="kobo.39.1">dashes. </span><span class="koboSpan" id="kobo.39.2">Two or more </span><a id="_idIndexMarker051"/><span class="koboSpan" id="kobo.40.1">whole-word options must be listed separately, because they can’t be combined with a single pair of dashes.</span></li>
    </ul>
    <p class="normal"><span class="koboSpan" id="kobo.41.1">To show you what we </span><a id="_idIndexMarker052"/><span class="koboSpan" id="kobo.42.1">mean, check out this hands-on lab.</span></p>
    <h3 id="_idParaDest-35" class="heading 3"><span class="koboSpan" id="kobo.43.1">Hands-on Lab – Practice With Command Options</span></h3>
    <p class="normal"><span class="koboSpan" id="kobo.44.1">In this lab, we’ll be working with the humble </span><code class="inlineCode"><span class="koboSpan" id="kobo.45.1">ls </span></code><span class="koboSpan" id="kobo.46.1">utility. </span><span class="koboSpan" id="kobo.46.2">Options and arguments are optional for this utility, so </span><a id="_idIndexMarker053"/><span class="koboSpan" id="kobo.47.1">we’ll get to see the different configurations for the command in this hands-on practice.</span></p>
    <ol>
      <li class="numberedList" value="1"><span class="koboSpan" id="kobo.48.1">Let’s issue the naked </span><code class="inlineCode"><span class="koboSpan" id="kobo.49.1">ls</span></code><span class="koboSpan" id="kobo.50.1"> command in order to see the files and directories that are in our current directory.
        </span><pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.51.1">[donnie@fedora ~]$ ls
 4-2_Building_an_Alpine_Container.bak     Public
 4-2_Building_an_Alpine_Container.pptx    pwsafe.key
 addresses.txt                                                 python_container
 alma9_default.txt                                         rad-bfgminer
 alma9_future.txt                                           ramfetch
 alma_link.txt                                                read.me.first
. </span><span class="koboSpan" id="kobo.51.2">. </span><span class="koboSpan" id="kobo.51.3">.
</span><span class="koboSpan" id="kobo.51.4">. </span><span class="koboSpan" id="kobo.51.5">. </span><span class="koboSpan" id="kobo.51.6">.
</span><span class="koboSpan" id="kobo.51.7">pCloudDrive                                                  yad-form.sh
 Pictures
[donnie@fedora ~]$
</span></code></pre>
      </li>
      <li class="numberedList"><span class="koboSpan" id="kobo.52.1">Now, let’s add a single-letter option. </span><span class="koboSpan" id="kobo.52.2">We’ll use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.53.1">-l</span></code><span class="koboSpan" id="kobo.54.1"> option to show the files and directories with some of their characteristics.
        </span><pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.55.1">[donnie@fedora ~]$ ls -l
total 40257473
-rw-r--r--.  </span><span class="koboSpan" id="kobo.55.2">1 donnie donnie      754207 Apr  5 16:13  4-2_Building_an_Alpine_Container.bak
-rw-r--r--.  </span><span class="koboSpan" id="kobo.55.3">1 donnie donnie      761796 Apr  8 14:49  4-2_Building_an_Alpine_Container.pptx
-rw-r--r--.  </span><span class="koboSpan" id="kobo.55.4">1 donnie donnie         137 Apr  2 15:05  addresses.txt
-rw-r--r--.  </span><span class="koboSpan" id="kobo.55.5">1 donnie donnie        1438 Nov  2  2022  alma9_default.txt
. </span><span class="koboSpan" id="kobo.55.6">. </span><span class="koboSpan" id="kobo.55.7">.
</span><span class="koboSpan" id="kobo.55.8">. </span><span class="koboSpan" id="kobo.55.9">. </span><span class="koboSpan" id="kobo.55.10">.
</span><span class="koboSpan" id="kobo.55.11">-rwxr--r--.  </span><span class="koboSpan" id="kobo.55.12">1 donnie donnie         263 May 16 15:42  yad-form.sh
[donnie@fedora ~]$
</span></code></pre>
      </li>
      <li class="numberedList"><span class="koboSpan" id="kobo.56.1">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.57.1">ls</span></code><span class="koboSpan" id="kobo.58.1"> command</span><a id="_idIndexMarker054"/><span class="koboSpan" id="kobo.59.1"> with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.60.1">-a</span></code><span class="koboSpan" id="kobo.61.1"> option to see any hidden files or directories. </span><span class="koboSpan" id="kobo.61.2">(Hidden files or directories have names that begin with a period.)
        </span><pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.62.1">[donnie@fedora ~]$ ls -a
 .                                                                     </span><span class="koboSpan" id="kobo.62.2">.pcloud
 ..                                       </span><span class="koboSpan" id="kobo.62.3">pCloudDrive
 4-2_Building_an_Alpine_Container.bak     Pictures
 4-2_Building_an_Alpine_Container.pptx    .pki
 addresses.txt                                                 .podman-desktop
 alma9_default.txt                                          .profile
. </span><span class="koboSpan" id="kobo.62.4">. </span><span class="koboSpan" id="kobo.62.5">.
</span><span class="koboSpan" id="kobo.62.6">. </span><span class="koboSpan" id="kobo.62.7">. </span><span class="koboSpan" id="kobo.62.8">.
</span><span class="koboSpan" id="kobo.62.9">.mozilla                                                          .Xauthority
 Music                                                            .xscreensaver
 NetRexx                                                       .xsession-errors
 nikto                                                             yad-form.sh
[donnie@fedora ~]$
</span></code></pre>
      </li>
      <li class="numberedList"><span class="koboSpan" id="kobo.63.1">Next, let’s combine the two options, so that we can see the characteristics of both the hidden and unhidden files and directories:
        </span><pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.64.1">[donnie@fedora ~]$ ls -la
total 40257561
drwx------.   </span><span class="koboSpan" id="kobo.64.2">1 donnie donnie         2820 Jul 25 13:53  .
</span><span class="koboSpan" id="kobo.64.3">drwxr-xr-x.  </span><span class="koboSpan" id="kobo.64.4">1 root   root              12 Aug  9  2022  ..
</span><span class="koboSpan" id="kobo.64.5">-rw-r--r--.    </span><span class="koboSpan" id="kobo.64.6">1 donnie donnie          137 Apr  2 15:05      addresses.txt
-rw-------.    </span><span class="koboSpan" id="kobo.64.7">1 donnie donnie          15804 Jul 24 17:53  .bash_history
-rw-r--r--.    </span><span class="koboSpan" id="kobo.64.8">1 donnie donnie          18 Jan 19  2022        .bash_logout
-rw-r--r--.    </span><span class="koboSpan" id="kobo.64.9">1 donnie donnie          194 Apr  3 12:11      .bash_profile
-rw-r--r--.    </span><span class="koboSpan" id="kobo.64.10">1 donnie donnie          513 Apr  3 12:11      .bashrc
. </span><span class="koboSpan" id="kobo.64.11">. </span><span class="koboSpan" id="kobo.64.12">.
</span><span class="koboSpan" id="kobo.64.13">. </span><span class="koboSpan" id="kobo.64.14">. </span><span class="koboSpan" id="kobo.64.15">.
</span><span class="koboSpan" id="kobo.64.16">-rw-r--r--.    </span><span class="koboSpan" id="kobo.64.17">1 donnie donnie          9041 Feb  4 12:57     .xscreensaver
-rw-------.    </span><span class="koboSpan" id="kobo.64.18">1 donnie donnie          0 Jul 25 13:53           .xsession-errors
-rwxr--r--.   </span><span class="koboSpan" id="kobo.64.19">1 donnie donnie         263 May 16 15:42      yad-form.sh
[donnie@fedora ~]$
</span></code></pre>
      </li>
    </ol>
    <p class="normal"><span class="koboSpan" id="kobo.65.1">In the preceding examples, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.66.1">donnie donnie</span></code><span class="koboSpan" id="kobo.67.1"> part indicates that the files and directories belong to user </span><code class="inlineCode"><span class="koboSpan" id="kobo.68.1">donnie</span></code><span class="koboSpan" id="kobo.69.1"> and are associated with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.70.1">donnie</span></code><span class="koboSpan" id="kobo.71.1"> group. </span><span class="koboSpan" id="kobo.71.2">In this example, we’re using a whole-word option, </span><code class="inlineCode"><span class="koboSpan" id="kobo.72.1">--author</span></code><span class="koboSpan" id="kobo.73.1">, preceded by two dashes, to view some </span><a id="_idIndexMarker055"/><span class="koboSpan" id="kobo.74.1">extra information. </span><span class="koboSpan" id="kobo.74.2">Let’s use this </span><code class="inlineCode"><span class="koboSpan" id="kobo.75.1">--author </span></code><span class="koboSpan" id="kobo.76.1">switch and the </span><code class="inlineCode"><span class="koboSpan" id="kobo.77.1">-l</span></code><span class="koboSpan" id="kobo.78.1"> switch together to see who authored these files:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.79.1">[donnie@fedora ~]$ ls -l --author
total 40257473
-rw-r--r--.  </span><span class="koboSpan" id="kobo.79.2">1 donnie donnie donnie         137 Apr  2 15:05     addresses.txt
-rw-r--r--.  </span><span class="koboSpan" id="kobo.79.3">1 donnie donnie donnie         1438 Nov  2  2022  alma9_default.txt
-rw-r--r--.  </span><span class="koboSpan" id="kobo.79.4">1 donnie donnie donnie         1297 Nov  2  2022  alma9_future.txt
. </span><span class="koboSpan" id="kobo.79.5">. </span><span class="koboSpan" id="kobo.79.6">.
</span><span class="koboSpan" id="kobo.79.7">. </span><span class="koboSpan" id="kobo.79.8">. </span><span class="koboSpan" id="kobo.79.9">.
</span><span class="koboSpan" id="kobo.79.10">rwxr--r--.  </span><span class="koboSpan" id="kobo.79.11">1 donnie donnie donnie          263 May 16 15:42  yad-form.sh
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.80.1">So, it appears that that Donnie character also created the files in the first place. </span><span class="koboSpan" id="kobo.80.2">(Oh, that’s me, isn’t it?)</span></p>
    <h2 id="_idParaDest-36" class="heading 2"><span class="koboSpan" id="kobo.81.1">Using Command Arguments</span></h2>
    <p class="normal"><span class="koboSpan" id="kobo.82.1">An argument is an </span><a id="_idIndexMarker056"/><span class="koboSpan" id="kobo.83.1">object upon which a command will operate. </span><span class="koboSpan" id="kobo.83.2">For the </span><code class="inlineCode"><span class="koboSpan" id="kobo.84.1">ls</span></code><span class="koboSpan" id="kobo.85.1"> command, an argument would be the name of a file or </span><a id="_idIndexMarker057"/><span class="koboSpan" id="kobo.86.1">directory. </span><span class="koboSpan" id="kobo.86.2">For example, let’s say that we want to see the details of just a certain file. </span><span class="koboSpan" id="kobo.86.3">We can do something like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.87.1">[donnie@fedora ~]$ ls -l yad-form.sh
-rwxr--r--. </span><span class="koboSpan" id="kobo.87.2">1 donnie donnie 263 May 16 15:42 yad-form.sh
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.88.1">We can use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.89.1">*</span></code> <strong class="keyWord"><span class="koboSpan" id="kobo.90.1">wildcard</span></strong><span class="koboSpan" id="kobo.91.1"> to see details of all files of a certain type, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.92.1">[donnie@fedora ~]$ ls -l *.sh
-rwxr--r--. </span><span class="koboSpan" id="kobo.92.2">1 donnie donnie 116 May 16 15:04 root.sh
-rwxr--r--. </span><span class="koboSpan" id="kobo.92.3">1 donnie donnie 263 May 16 15:42 yad-form.sh
[donnie@fedora ~]$
</span></code></pre>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.93.1">If you’re not familiar with the concept of wildcards, think of them as a way to perform pattern-matching. </span><span class="koboSpan" id="kobo.93.2">In the above example, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.94.1">*</span></code><span class="koboSpan" id="kobo.95.1"> wildcard is used to match one or more characters. </span><span class="koboSpan" id="kobo.95.2">For this reason, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.96.1">ls -l *.sh</span></code><span class="koboSpan" id="kobo.97.1"> command allows us to see all files with the .sh filename extension. </span><span class="koboSpan" id="kobo.97.2">You can also use this wildcard in other ways. </span><span class="koboSpan" id="kobo.97.3">For example, to see all filenames and directory names that begin with the letter w, just do this</span></p>
      <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.98.1">donnie@opensuse:~&gt; ls -ld w*
drwxrwxr-x 1 donnie users    22 Mar  5  2022 windows
-rw-r--r-- 1 donnie users 82180 Dec  7  2019 wingding.ttf
drwxr-xr-x 1 donnie users   138 Mar 11  2023 wownero-x86_64-linux-gnu-v0.11
donnie@opensuse:~&gt;
</span></code></pre>
      <p class="normal"><code style="font-weight: bold;" class="codeHighlighted"><span class="koboSpan" id="kobo.99.1">F</span></code><span class="koboSpan" id="kobo.100.1">or more information about wildcards, check out the reference in the </span><em class="chapterRef"><span class="koboSpan" id="kobo.101.1">Further Reading</span></em><span class="koboSpan" id="kobo.102.1"> section.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.103.1">In this case, we’re looking at all files whose names end in </span><code class="inlineCode"><span class="koboSpan" id="kobo.104.1">.sh</span></code><span class="koboSpan" id="kobo.105.1">.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.106.1">You’re not always limited to specifying just one argument. </span><span class="koboSpan" id="kobo.106.2">In this example, we’re looking at three different files:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.107.1">[donnie@fedora ~]$ ls -l missing_stuff.txt yad-form.sh Dylan-My_Back_Pages-tab.odt
-rw-r--r--. </span><span class="koboSpan" id="kobo.107.2">1 donnie donnie 29502 Mar  7 18:30 Dylan-My_Back_Pages-tab.odt
-rw-r--r--. </span><span class="koboSpan" id="kobo.107.3">1 donnie donnie   394 Dec  7  2022 missing_stuff.txt
-rwxr--r--. </span><span class="koboSpan" id="kobo.107.4">1 donnie donnie   263 May 16 15:42 yad-form.sh
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.108.1">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.109.1">-ld</span></code><span class="koboSpan" id="kobo.110.1"> option to</span><a id="_idIndexMarker058"/><span class="koboSpan" id="kobo.111.1"> view the characteristics of a directory without </span><a id="_idIndexMarker059"/><span class="koboSpan" id="kobo.112.1">viewing the contents of the directory, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.113.1">[donnie@fedora ~]$ ls -ld Downloads/
drwxr-xr-x. </span><span class="koboSpan" id="kobo.113.2">1 donnie donnie 8100 Aug  4 12:37 Downloads/
[donnie@fedora ~]$
</span></code></pre>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.114.1">Although you can actually change the order in which options and arguments appear in many commands, it’s bad practice to do so. </span><span class="koboSpan" id="kobo.114.2">To avoid confusion and to prepare yourself for any Linux certifications exams that you might take, just follow the ordering rule that I’ve presented here. </span><span class="koboSpan" id="kobo.114.3">That is, the command itself, command options, and lastly, the command arguments.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.115.1">That about does it for the command structure part. </span><span class="koboSpan" id="kobo.115.2">Let’s move on to see how to execute multiple commands at once.</span></p>
    <h1 id="_idParaDest-37" class="heading 1"><span class="koboSpan" id="kobo.116.1">Executing Multiple Commands at Once</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.117.1">From either the</span><a id="_idIndexMarker060"/><span class="koboSpan" id="kobo.118.1"> command-line or from within shell scripts, it’s handy to know how to combine multiple commands into one single command. </span><span class="koboSpan" id="kobo.118.2">In this section, I’ll demonstrate three ways to do that which are:</span></p>
    <ul>
      <li class="bulletList"><span class="koboSpan" id="kobo.119.1">Running commands interactively</span></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.120.1">Using command sequences</span></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.121.1">Using the </span><code class="inlineCode"><span class="koboSpan" id="kobo.122.1">find</span></code><span class="koboSpan" id="kobo.123.1"> utility</span></li>
    </ul>
    <h2 id="_idParaDest-38" class="heading 2"><span class="koboSpan" id="kobo.124.1">Running Commands Interactively</span></h2>
    <p class="normal"><span class="koboSpan" id="kobo.125.1">This is a form of shell-script</span><a id="_idIndexMarker061"/><span class="koboSpan" id="kobo.126.1"> programming, except that you’re just executing all commands from the command-line, instead of actually writing, saving, and executing a script. </span><span class="koboSpan" id="kobo.126.2">Here, you are creating a </span><strong class="keyWord"><span class="koboSpan" id="kobo.127.1">for loop</span></strong><span class="koboSpan" id="kobo.128.1"> – with each </span><a id="_idIndexMarker062"/><span class="koboSpan" id="kobo.129.1">command of the loop on its own separate line – to perform a directory listing three times.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.130.1">[donnie@fedora ~]$ for var in arg1 arg2 arg3
&gt; do
&gt; echo $var
&gt; ls
&gt; done
. </span><span class="koboSpan" id="kobo.130.2">. </span><span class="koboSpan" id="kobo.130.3">.
</span><span class="koboSpan" id="kobo.130.4">. </span><span class="koboSpan" id="kobo.130.5">. </span><span class="koboSpan" id="kobo.130.6">.
</span><span class="koboSpan" id="kobo.130.7">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.131.1">At the end of each line, you’ll hit the </span><em class="keystroke"><span class="koboSpan" id="kobo.132.1">Enter</span></em><span class="koboSpan" id="kobo.133.1"> key. </span><span class="koboSpan" id="kobo.133.2">But, nothing will happen until you type the </span><code class="inlineCode"><span class="koboSpan" id="kobo.134.1">done</span></code><span class="koboSpan" id="kobo.135.1"> command on the final line. </span><span class="koboSpan" id="kobo.135.2">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.136.1">for</span></code><span class="koboSpan" id="kobo.137.1"> loop will then run three times, once for each of the three listed arguments. </span><span class="koboSpan" id="kobo.137.2">Each time that it runs, the value of an argument gets assigned to the </span><code class="inlineCode"><span class="koboSpan" id="kobo.138.1">var</span></code><span class="koboSpan" id="kobo.139.1"> variable, and the </span><code class="inlineCode"><span class="koboSpan" id="kobo.140.1">echo</span></code><span class="koboSpan" id="kobo.141.1"> command prints the currently-assigned value. </span><span class="koboSpan" id="kobo.141.2">The output will look something like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.142.1">arg1
 4-2_Building_an_Alpine_Container.bak     Public
 4-2_Building_an_Alpine_Container.pptx    pwsafe.key
arg2
 4-2_Building_an_Alpine_Container.bak     Public
 4-2_Building_an_Alpine_Container.pptx    pwsafe.key
arg3
 4-2_Building_an_Alpine_Container.bak     Public
 4-2_Building_an_Alpine_Container.pptx    pwsafe.key
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.143.1">Next, hit the up arrow key on your keyboard, and you’ll see the </span><code class="inlineCode"><span class="koboSpan" id="kobo.144.1">for</span></code><span class="koboSpan" id="kobo.145.1"> loop that you just executed If you try this with </span><code class="inlineCode"><span class="koboSpan" id="kobo.146.1">bash</span></code><span class="koboSpan" id="kobo.147.1">, you’ll see that the individual commands are separated by semi-colons, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.148.1">[donnie@fedora ~]$ for var in arg1 arg2 arg3; do echo $var; ls; done
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.149.1">On </span><code class="inlineCode"><span class="koboSpan" id="kobo.150.1">zsh</span></code><span class="koboSpan" id="kobo.151.1">, pressing the </span><a id="_idIndexMarker063"/><span class="koboSpan" id="kobo.152.1">up arrow key will cause the command components to appear on their own separate lines, as you see here:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.153.1">donnie@opensuse:~&gt; for var in arg1 arg2 arg3
do
echo $var
ls
done
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.154.1">Either way, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.155.1">for</span></code><span class="koboSpan" id="kobo.156.1"> loop will run again when you hit the </span><em class="keystroke"><span class="koboSpan" id="kobo.157.1">Enter</span></em><span class="koboSpan" id="kobo.158.1"> key.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.159.1">If you’re still a bit unclear about how </span><code class="inlineCode"><span class="koboSpan" id="kobo.160.1">for</span></code><span class="koboSpan" id="kobo.161.1"> loops work, have no fear. </span><span class="koboSpan" id="kobo.161.2">We’ll look at them in greater detail once we start actually creating shell scripts.</span></p>
    </div>
    <h2 id="_idParaDest-39" class="heading 2"><span class="koboSpan" id="kobo.162.1">Using Command Sequences</span></h2>
    <p class="normal"><span class="koboSpan" id="kobo.163.1">Command sequences are another type of programming structure that you’ll find very useful. </span><span class="koboSpan" id="kobo.163.2">Here, I’m</span><a id="_idIndexMarker064"/><span class="koboSpan" id="kobo.164.1"> demonstrating how to use them from the command-line so that you can grasp the basic concepts. </span><span class="koboSpan" id="kobo.164.2">In</span><a id="_idIndexMarker065"/><span class="koboSpan" id="kobo.165.1"> the upcoming chapters, I’ll show you examples of how to use them in shell scripts.</span></p>
    <h3 id="_idParaDest-40" class="heading 3"><span class="koboSpan" id="kobo.166.1">Chaining Commands with a Semi-Colon</span></h3>
    <p class="normal"><span class="koboSpan" id="kobo.167.1">You can also use the </span><a id="_idIndexMarker066"/><span class="koboSpan" id="kobo.168.1">semi-colon to separate </span><a id="_idIndexMarker067"/><span class="koboSpan" id="kobo.169.1">stand-alone commands that you </span><a id="_idIndexMarker068"/><span class="koboSpan" id="kobo.170.1">want to execute from the same command entry. </span><span class="koboSpan" id="kobo.170.2">If you wanted to </span><code class="inlineCode"><span class="koboSpan" id="kobo.171.1">cd </span></code><span class="koboSpan" id="kobo.172.1">to a certain directory and then look at its contents, you could enter each command on its own line. </span><span class="koboSpan" id="kobo.172.2">Or, you could enter them both on the same line. </span><span class="koboSpan" id="kobo.172.3">This process is</span><a id="_idIndexMarker069"/><span class="koboSpan" id="kobo.173.1"> called </span><strong class="keyWord"><span class="koboSpan" id="kobo.174.1">command chaining</span></strong><span class="koboSpan" id="kobo.175.1">, which looks like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.176.1">[donnie@fedora ~]$ cd /var ; ls
account  cache  db     ftp    kerberos  local  log   nis  preserve  spool  yp
adm      crash  empty  games  lib       lock   mail  opt  run       tmp
[donnie@fedora var]$
[donnie@fedora ~]$ cd /far ; ls
bash: cd: /far: No such file or directory
 4-2_Building_an_Alpine_Container.bak     Public
 4-2_Building_an_Alpine_Container.pptx    pwsafe.key
 addresses.txt                                                 python_container
 alma9_default.txt                                         rad-bfgminer
. </span><span class="koboSpan" id="kobo.176.2">. </span><span class="koboSpan" id="kobo.176.3">.
</span><span class="koboSpan" id="kobo.176.4">. </span><span class="koboSpan" id="kobo.176.5">. </span><span class="koboSpan" id="kobo.176.6">.
</span><span class="koboSpan" id="kobo.176.7">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.177.1">The first command failed because I tried to </span><code class="inlineCode"><span class="koboSpan" id="kobo.178.1">cd</span></code><span class="koboSpan" id="kobo.179.1"> into a non-existent directory. </span><span class="koboSpan" id="kobo.179.2">But, the second command still </span><a id="_idIndexMarker070"/><span class="koboSpan" id="kobo.180.1">executed, which listed the files in my home directory.</span></p>
    <h3 id="_idParaDest-41" class="heading 3"><span class="koboSpan" id="kobo.181.1">Conditional Command Execution with Double Ampersands</span></h3>
    <p class="normal"><span class="koboSpan" id="kobo.182.1">You can also instruct </span><code class="inlineCode"><span class="koboSpan" id="kobo.183.1">bash</span></code><span class="koboSpan" id="kobo.184.1"> or </span><code class="inlineCode"><span class="koboSpan" id="kobo.185.1">zsh</span></code><span class="koboSpan" id="kobo.186.1"> to only execute the second command if the first command successfully </span><a id="_idIndexMarker071"/><span class="koboSpan" id="kobo.187.1">completes. </span><span class="koboSpan" id="kobo.187.2">Just separate the commands with </span><code class="inlineCode"><span class="koboSpan" id="kobo.188.1">&amp;&amp;</span></code><span class="koboSpan" id="kobo.189.1"> instead of with </span><a id="_idIndexMarker072"/><span class="koboSpan" id="kobo.190.1">a semi-colon, like</span><a id="_idIndexMarker073"/><span class="koboSpan" id="kobo.191.1"> this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.192.1">[donnie@fedora ~]$ cd /var &amp;&amp; ls
account  cache  db     ftp    kerberos  local  log   nis  preserve  spool  yp
adm      crash  empty  games  lib       lock   mail  opt  run       tmp
[donnie@fedora var]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.193.1">What if the first command doesn’t run successfully? </span><span class="koboSpan" id="kobo.193.2">Note here that the second command doesn’t </span><a id="_idIndexMarker074"/><span class="koboSpan" id="kobo.194.1">execute:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.195.1">[donnie@fedora ~]$ cd /far &amp;&amp; ls
bash: cd: /far: No such file or directory
[donnie@fedora ~]$
</span></code></pre>
    <h3 id="_idParaDest-42" class="heading 3"><span class="koboSpan" id="kobo.196.1">Conditional Command Execution with Double Pipes</span></h3>
    <p class="normal"><span class="koboSpan" id="kobo.197.1">If you want </span><code class="inlineCode"><span class="koboSpan" id="kobo.198.1">bash </span></code><span class="koboSpan" id="kobo.199.1">or </span><code class="inlineCode"><span class="koboSpan" id="kobo.200.1">zsh</span></code><span class="koboSpan" id="kobo.201.1"> to</span><a id="_idIndexMarker075"/><span class="koboSpan" id="kobo.202.1"> execute the second command only if the first command </span><em class="italic"><span class="koboSpan" id="kobo.203.1">doesn’t</span></em><span class="koboSpan" id="kobo.204.1"> run successfully, just separate the commands with </span><code class="inlineCode"><span class="koboSpan" id="kobo.205.1">||</span></code><span class="koboSpan" id="kobo.206.1">. </span><span class="koboSpan" id="kobo.206.2">(This is a pair of pipe characters, which </span><a id="_idIndexMarker076"/><span class="koboSpan" id="kobo.207.1">you’ll find on the same key as the backslash.) To illustrate, let’s again make a slight typo while trying to change directories.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.208.1">[donnie@fedora ~]$ ce /var || echo "This command didn't work."
</span><span class="koboSpan" id="kobo.208.2">bash: ce: command not found
This command didn't work.
</span><span class="koboSpan" id="kobo.208.3">[donnie@fedora ~]$
[donnie@fedora ~]$ cd /var || echo "This command didn't work."
</span><span class="koboSpan" id="kobo.208.4">[donnie@fedora var]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.209.1">For a more practical example, try changing to a directory, creating it if it doesn’t exist, and then changing to it after it’s been successfully created.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.210.1">[donnie@fedora ~]$ cd mydirectory || mkdir mydirectory &amp;&amp; cd mydirectory
bash: cd: mydirectory: No such file or directory
[donnie@fedora mydirectory]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.211.1">You’ll still get an error message saying that the directory you tried to access doesn’t exist. </span><span class="koboSpan" id="kobo.211.2">But, look at</span><a id="_idIndexMarker077"/><span class="koboSpan" id="kobo.212.1"> the command prompt, and you’ll see that the directory has been created, and that you’re now in it.</span></p>
    <h2 id="_idParaDest-43" class="heading 2"><span class="koboSpan" id="kobo.213.1">Using the find Utility</span></h2>
    <p class="normal"><span class="koboSpan" id="kobo.214.1">We’ll now take a</span><a id="_idIndexMarker078"/><span class="koboSpan" id="kobo.215.1"> short intermission from our discussion of running multiple commands in order to introduce the </span><code class="inlineCode"><span class="koboSpan" id="kobo.216.1">find</span></code><span class="koboSpan" id="kobo.217.1"> utility, which is truly the Cool-Mac Daddy of all search utilities. </span><span class="koboSpan" id="kobo.217.2">After this introduction, I’ll use </span><code class="inlineCode"><span class="koboSpan" id="kobo.218.1">find</span></code><span class="koboSpan" id="kobo.219.1"> to show you more ways to run multiple commands at once. </span></p>
    <p class="normal"><span class="koboSpan" id="kobo.220.1">Also, it would</span><a id="_idIndexMarker079"/><span class="koboSpan" id="kobo.221.1"> behoove us to mention that </span><code class="inlineCode"><span class="koboSpan" id="kobo.222.1">find</span></code><span class="koboSpan" id="kobo.223.1"> isn’t just good for command-line searches. </span><span class="koboSpan" id="kobo.223.2">It’s also excellent for use within shell scripts, as you’ll see much later.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.224.1">If you’re as old as I am, you might remember the Windows XP search pooch, which pranced around on your screen every time you did a file search from the Windows XP graphical search utility. </span><span class="koboSpan" id="kobo.224.2">It was cute, but it didn’t add to your search power. </span><span class="koboSpan" id="kobo.224.3">With the Linux </span><code class="inlineCode"><span class="koboSpan" id="kobo.225.1">find</span></code><span class="koboSpan" id="kobo.226.1"> utility, you can perform powerful searches on just about any criterion you can think of, and then--from the same command-line entry--invoke another utility to do whatever you need to do with the search results. </span><span class="koboSpan" id="kobo.226.2">I won’t try to discuss every option there is for </span><code class="inlineCode"><span class="koboSpan" id="kobo.227.1">find</span></code><span class="koboSpan" id="kobo.228.1">, since there are so many. </span><span class="koboSpan" id="kobo.228.2">Rather, I’ll give you an overview of what you can do with </span><code class="inlineCode"><span class="koboSpan" id="kobo.229.1">find</span></code><span class="koboSpan" id="kobo.230.1">, and let you read its man page for the rest. </span><span class="koboSpan" id="kobo.230.2">(Just enter </span><code class="inlineCode"><span class="koboSpan" id="kobo.231.1">man find</span></code><span class="koboSpan" id="kobo.232.1"> at the command-line to read about all of its options.)</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.233.1">In order to perform the most basic of searches, you’ll need to specify two things:</span></p>
    <ul>
      <li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.234.1">The search path</span></strong><span class="koboSpan" id="kobo.235.1">: You can</span><a id="_idIndexMarker080"/><span class="koboSpan" id="kobo.236.1"> perform a search in either a specific path, or the entire filesystem. </span><span class="koboSpan" id="kobo.236.2">Since </span><code class="inlineCode"><span class="koboSpan" id="kobo.237.1">find</span></code><span class="koboSpan" id="kobo.238.1"> is inherently recursive, the search will automatically extend to all of the subdirectories that are beneath of the directory that you specify. </span><span class="koboSpan" id="kobo.238.2">(Of course, you can also add command switches that limit the depth of the search.)</span></li>
      <li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.239.1">What you’re searching for</span></strong><span class="koboSpan" id="kobo.240.1">: There are a lot of ways that you can specify this. </span><span class="koboSpan" id="kobo.240.2">You can search for files of a specific name, and decide whether to make the search case-sensitive. </span><span class="koboSpan" id="kobo.240.3">You can also use wildcards, or search for files with certain characteristics or that are of a certain age. </span><span class="koboSpan" id="kobo.240.4">Or, you can combine multiple criteria for even more specific searches. </span><span class="koboSpan" id="kobo.240.5">The main thing that limits you is your own imagination.</span></li>
    </ul>
    <p class="normal"><span class="koboSpan" id="kobo.241.1">So now, let’s say that you want to search the entire filesystem for all files whose names end in </span><code class="inlineCode"><span class="koboSpan" id="kobo.242.1">.conf</span></code><span class="koboSpan" id="kobo.243.1">. </span><span class="koboSpan" id="kobo.243.2">You’ll </span><a id="_idIndexMarker081"/><span class="koboSpan" id="kobo.244.1">want to use either the </span><code class="inlineCode"><span class="koboSpan" id="kobo.245.1">-name</span></code><span class="koboSpan" id="kobo.246.1"> or the </span><code class="inlineCode"><span class="koboSpan" id="kobo.247.1">-iname</span></code><span class="koboSpan" id="kobo.248.1"> switch in front of the file description that you want to search for. </span><span class="koboSpan" id="kobo.248.2">Otherwise, you’ll get a jumbled up mess of every </span><a id="_idIndexMarker082"/><span class="koboSpan" id="kobo.249.1">directory listing that you’ve searched, with the information you’re looking for mixed in. </span><span class="koboSpan" id="kobo.249.2">For case-sensitive searches, use </span><code class="inlineCode"><span class="koboSpan" id="kobo.250.1">-name</span></code><span class="koboSpan" id="kobo.251.1">, and for </span><a id="_idIndexMarker083"/><span class="koboSpan" id="kobo.252.1">case-insensitive searches, use </span><code class="inlineCode"><span class="koboSpan" id="kobo.253.1">-iname</span></code><span class="koboSpan" id="kobo.254.1">. </span><span class="koboSpan" id="kobo.254.2">In this case, we’ll use </span><code class="inlineCode"><span class="koboSpan" id="kobo.255.1">-iname</span></code><span class="koboSpan" id="kobo.256.1">, since we want to make the search case-insensitive.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.257.1">I know, I’ve told you previously that most whole-word option switches are preceded by a pair of dashes. </span><span class="koboSpan" id="kobo.257.2">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.258.1">find </span></code><span class="koboSpan" id="kobo.259.1">utility is an exception to the rule, because its whole-word option switches are preceded by only a single dash.</span></p>
      <p class="normal"><span class="koboSpan" id="kobo.260.1">Also, be aware that searching through an entire filesystem on a production server with very large drives can take a long time. </span><span class="koboSpan" id="kobo.260.2">It’s sometimes necessary to do that, but it’s best to confine your searches to specific directories whenever possible.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.261.1">If you include a wildcard character with a search criterion, you’ll need to enclose that search criterion in quotes. </span><span class="koboSpan" id="kobo.261.2">That will keep the shell from interpreting the wildcard character as an ambiguous file reference. </span><span class="koboSpan" id="kobo.261.3">For example, to perform a case-insensitive search through the current working directory and all of its subdirectories for all files with names ending with a </span><code class="inlineCode"><span class="koboSpan" id="kobo.262.1">.conf</span></code><span class="koboSpan" id="kobo.263.1"> filename extension, I would do this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.264.1">[donnie@fedora ~]$ find -iname '*.conf'
./.cache/containers/short-name-aliases.conf
./.config/lxsession/LXDE/desktop.conf
./.config/pcmanfm/LXDE/desktop-items-0.conf
./.config/pcmanfm/LXDE/pcmanfm.conf
./.config/lxterminal/lxterminal.conf
./.config/Trolltech.conf
. </span><span class="koboSpan" id="kobo.264.2">. </span><span class="koboSpan" id="kobo.264.3">.
</span><span class="koboSpan" id="kobo.264.4">. </span><span class="koboSpan" id="kobo.264.5">. </span><span class="koboSpan" id="kobo.264.6">.
</span><span class="koboSpan" id="kobo.264.7">./tor-browser/Browser/TorBrowser/Data/fontconfig/fonts.conf
./rad-bfgminer/example.conf
./rad-bfgminer/knc-asic/RPi_system/raspi-blacklist.conf
./something.CONF
[donnie@fedora ~]$[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.265.1">By using the </span><code class="inlineCode"><span class="koboSpan" id="kobo.266.1">-iname</span></code><span class="koboSpan" id="kobo.267.1"> option, I was able to find files with names that ended in either </span><code class="inlineCode"><span class="koboSpan" id="kobo.268.1">.conf </span></code><span class="koboSpan" id="kobo.269.1">or </span><code class="inlineCode"><span class="koboSpan" id="kobo.270.1">.CONF</span></code><span class="koboSpan" id="kobo.271.1">. </span><span class="koboSpan" id="kobo.271.2">If I had used the </span><code class="inlineCode"><span class="koboSpan" id="kobo.272.1">-name</span></code><span class="koboSpan" id="kobo.273.1"> option instead, I would only have found files with names that end in </span><code class="inlineCode"><span class="koboSpan" id="kobo.274.1">.conf</span></code><span class="koboSpan" id="kobo.275.1">.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.276.1">Normally, you would specify the search path as the first component of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.277.1">find</span></code><span class="koboSpan" id="kobo.278.1"> command. </span><span class="koboSpan" id="kobo.278.2">In the</span><a id="_idIndexMarker084"/><span class="koboSpan" id="kobo.279.1"> GNU implementation of </span><code class="inlineCode"><span class="koboSpan" id="kobo.280.1">find</span></code><span class="koboSpan" id="kobo.281.1"> that’s included on Linux-based operating systems, omitting the search path will </span><a id="_idIndexMarker085"/><span class="koboSpan" id="kobo.282.1">cause </span><code class="inlineCode"><span class="koboSpan" id="kobo.283.1">find</span></code><span class="koboSpan" id="kobo.284.1"> to search through the current working directory, as we’ve just seen. </span><span class="koboSpan" id="kobo.284.2">Unfortunately, that trick doesn’t work for Unix/Unix-like operating systems, such as FreeBSD, macOS, or OpenIndiana. </span><span class="koboSpan" id="kobo.284.3">For those operating systems, you’ll always need to specify a search path. </span><span class="koboSpan" id="kobo.284.4">To make </span><code class="inlineCode"><span class="koboSpan" id="kobo.285.1">find</span></code><span class="koboSpan" id="kobo.286.1"> search through the current working directory, just use a dot to specify the search path. </span><span class="koboSpan" id="kobo.286.2">So, on my FreeBSD virtual machine, the command looks like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.287.1">donnie@freebsd-1:~ $ find . </span><span class="koboSpan" id="kobo.287.2">-iname '*.conf'
./anotherdir/yetanother.conf
./anotherthing.CONF
./something.conf
donnie@freebsd-1:~ $
</span></code></pre>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.288.1">Okay, I know. </span><span class="koboSpan" id="kobo.288.2">You’re wondering why I’m mentioning FreeBSD, macOS, and OpenIndiana in what’s supposed to be a Linux book. </span><span class="koboSpan" id="kobo.288.3">Well, it’s because sometimes, we’ll want to create shell scripts that work on multiple operating systems, rather than just on Linux. </span><span class="koboSpan" id="kobo.288.4">If you include the dot in this command, it will still work on your Linux machines, and will also work on your Unix/Unix-like machines.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.289.1">You can also specify search paths that aren’t your current working directory. </span><span class="koboSpan" id="kobo.289.2">For example, you can remain within your own home directory and search through the entire filesystem like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.290.1">[donnie@fedora ~]$ find / -iname '*.conf'
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.291.1">Of course, this will take much longer than it does to just search through one directory. </span><span class="koboSpan" id="kobo.291.2">Also, you’ll </span><a id="_idIndexMarker086"/><span class="koboSpan" id="kobo.292.1">encounter errors because your normal user account won’t have permission to go into</span><a id="_idIndexMarker087"/><span class="koboSpan" id="kobo.293.1"> every directory. </span><span class="koboSpan" id="kobo.293.2">To search through all directories on the filesystem, just preface the command with </span><code class="inlineCode"><span class="koboSpan" id="kobo.294.1">sudo</span></code><span class="koboSpan" id="kobo.295.1">, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.296.1">[donnie@fedora ~]$ sudo find / -iname '*.conf'
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.297.1">You can perform searches with more than one search criterion. </span><span class="koboSpan" id="kobo.297.2">If you separate the criteria with a space, it will be the same as placing an </span><code class="inlineCode"><span class="koboSpan" id="kobo.298.1">and</span></code><span class="koboSpan" id="kobo.299.1"> operator between them. </span><span class="koboSpan" id="kobo.299.2">Here, we’ll use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.300.1">-mtime -7</span></code><span class="koboSpan" id="kobo.301.1"> switch to find all of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.302.1">.conf</span></code><span class="koboSpan" id="kobo.303.1"> files that were modified within the last seven days, and the </span><code class="inlineCode"><span class="koboSpan" id="kobo.304.1">-ls</span></code><span class="koboSpan" id="kobo.305.1"> switch at the end to show detailed information about the files:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.306.1">[donnie@fedora ~]$ sudo find / -iname '*.conf' -mtime -7 -ls
       18      4 -rw-r--r--   1 root     root          328 Jul 24 17:50 /boot/loader/entries/81085aed13d34626859063e7ebf29da5-6.4.4-100.fc37.x86_64.conf
  3321176   4 -rw-r--r--   1 donnie   donnie        467 Jul 24 16:14 /home/donnie/.config/pcmanfm/LXDE/pcmanfm.conf
      370      4 -rw-r--r--   1 donnie   donnie       3272 Jul 19 16:21 /home/donnie/.config/Trolltech.conf
. </span><span class="koboSpan" id="kobo.306.2">. </span><span class="koboSpan" id="kobo.306.3">.
</span><span class="koboSpan" id="kobo.306.4">. </span><span class="koboSpan" id="kobo.306.5">. </span><span class="koboSpan" id="kobo.306.6">.
</span><span class="koboSpan" id="kobo.306.7">4120762      8 -rw-r--r--   2 root            root                7017 Jul 21 14:43 /var/lib/flatpak/app/com.notepadqq.Notepadqq/x86_64/stable/a049a1963430515aa15d950212fc1f0db7efb703a94ddd1f1d316b38ad12ec72/files/lib/node_modules/npm/node_modules/request/node_modules/http-signature/node_modules/jsprim/node_modules/verror/jsl.node.conf
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.307.1">To search for </span><code class="inlineCode"><span class="koboSpan" id="kobo.308.1">.conf</span></code><span class="koboSpan" id="kobo.309.1"> files that were modified more than seven days ago, replace the </span><code class="inlineCode"><span class="koboSpan" id="kobo.310.1">-7</span></code><span class="koboSpan" id="kobo.311.1"> with </span><code class="inlineCode"><span class="koboSpan" id="kobo.312.1">+7</span></code><span class="koboSpan" id="kobo.313.1">, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.314.1">[donnie@fedora ~]$ sudo find / -iname '*.conf' -mtime +7 -ls
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.315.1">It’s also possible to create more advanced searches by creating compound expressions. </span><span class="koboSpan" id="kobo.315.2">It works like</span><a id="_idIndexMarker088"/><span class="koboSpan" id="kobo.316.1"> Algebra, in that expressions are evaluated from left to right unless you group some of the terms with parentheses. </span><span class="koboSpan" id="kobo.316.2">But, with that, there are a couple of minor catches.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.317.1">Since the parenthesis symbols have a special meaning in </span><code class="inlineCode"><span class="koboSpan" id="kobo.318.1">bash</span></code><span class="koboSpan" id="kobo.319.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.320.1">zsh</span></code><span class="koboSpan" id="kobo.321.1">, you’ll want to precede them </span><a id="_idIndexMarker089"/><span class="koboSpan" id="kobo.322.1">with a backslash so that </span><code class="inlineCode"><span class="koboSpan" id="kobo.323.1">bash</span></code><span class="koboSpan" id="kobo.324.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.325.1">zsh</span></code><span class="koboSpan" id="kobo.326.1"> won’t interpret them the wrong way. </span><span class="koboSpan" id="kobo.326.2">You’ll also need to leave a space between the parenthesis symbols and the terms that they’re enclosing.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.327.1">Let’s say that we now want to look for all of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.328.1">.conf</span></code><span class="koboSpan" id="kobo.329.1"> files in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.330.1">/etc/</span></code><span class="koboSpan" id="kobo.331.1"> directory that were either modified within the last seven days, or that were accessed more than 30 days ago. </span><span class="koboSpan" id="kobo.331.2">We’ll use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.332.1">-atime</span></code><span class="koboSpan" id="kobo.333.1"> switch to set the access time criterion. </span><span class="koboSpan" id="kobo.333.2">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.334.1">or</span></code><span class="koboSpan" id="kobo.335.1"> operator is represented by </span><code class="inlineCode"><span class="koboSpan" id="kobo.336.1">-o</span></code><span class="koboSpan" id="kobo.337.1">.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.338.1">[donnie@fedora ~]$ sudo find /etc -iname '*.conf' \( -mtime -7 -o -atime +30 \)
[sudo] password for donnie:
/etc/UPower/UPower.conf
/etc/X11/xinit/xinput.d/ibus.conf
/etc/X11/xinit/xinput.d/xcompose.conf
/etc/X11/xinit/xinput.d/xim.conf
. </span><span class="koboSpan" id="kobo.338.2">. </span><span class="koboSpan" id="kobo.338.3">.
</span><span class="koboSpan" id="kobo.338.4">. </span><span class="koboSpan" id="kobo.338.5">. </span><span class="koboSpan" id="kobo.338.6">.
</span><span class="koboSpan" id="kobo.338.7">/etc/appstream.conf
/etc/whois.conf
/etc/nfsmount.conf
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.339.1">There are several subdirectories in </span><code class="inlineCode"><span class="koboSpan" id="kobo.340.1">/etc/</span></code><span class="koboSpan" id="kobo.341.1"> that require root privileges to enter, so I used </span><code class="inlineCode"><span class="koboSpan" id="kobo.342.1">sudo</span></code><span class="koboSpan" id="kobo.343.1"> again, as I did before. </span><span class="koboSpan" id="kobo.343.2">Adding the </span><code class="inlineCode"><span class="koboSpan" id="kobo.344.1">-ls</span></code><span class="koboSpan" id="kobo.345.1"> option at the end of the command would show the timestamps on the files, which would tell me which of the two search criteria applies to each specific file.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.346.1">If you want to find files</span><a id="_idIndexMarker090"/><span class="koboSpan" id="kobo.347.1"> that belong to only a certain user, you can do that with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.348.1">-user </span></code><span class="koboSpan" id="kobo.349.1">switch. </span><span class="koboSpan" id="kobo.349.2">Add a second criterion to find only files of a certain type that belong to a certain user. </span><span class="koboSpan" id="kobo.349.3">Here, I’m</span><a id="_idIndexMarker091"/><span class="koboSpan" id="kobo.350.1"> searching through the whole filesystem for all </span><code class="inlineCode"><span class="koboSpan" id="kobo.351.1">.png</span></code><span class="koboSpan" id="kobo.352.1"> graphics files that belong to me:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.353.1">[donnie@fedora ~]$ sudo find / -user donnie -iname '*.png'
/home/donnie/.cache/mozilla/firefox/xgwvyw2p.default-release/thumbnails/9aa3453b0b6246665eb573e58a40fe7c.png
/home/donnie/.cache/mozilla/firefox/xgwvyw2p.default-release/thumbnails/96c0e5aa4c2e735c2ead0701d2348dd6.png
. </span><span class="koboSpan" id="kobo.353.2">. </span><span class="koboSpan" id="kobo.353.3">.
</span><span class="koboSpan" id="kobo.353.4">. </span><span class="koboSpan" id="kobo.353.5">. </span><span class="koboSpan" id="kobo.353.6">.
</span><span class="koboSpan" id="kobo.353.7">/home/donnie/rad-bfgminer/vastairent.png
find: '/run/user/1000/doc': Permission denied
find: '/run/user/1000/gvfs': Permission denied
/tmp/.org.chromium.Chromium.IpK3VA/pcloud1_16.png
find: '/tmp/.mount_pcloudWz4ji1': Permission denied
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.354.1">Even with full </span><code class="inlineCode"><span class="koboSpan" id="kobo.355.1">sudo</span></code><span class="koboSpan" id="kobo.356.1"> privileges, there are still a couple of directories where I’m not allowed to access. </span><span class="koboSpan" id="kobo.356.2">But, that’s okay.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.357.1">You can use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.358.1">-group</span></code><span class="koboSpan" id="kobo.359.1"> switch to find files that belong to a certain group. </span><span class="koboSpan" id="kobo.359.2">Here, I’m looking through my own home directory for either files or directories that are associated with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.360.1">nobody</span></code><span class="koboSpan" id="kobo.361.1"> group.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.362.1">[donnie@fedora ~]$ sudo find -group nobody -ls
  3344421      0 drwxr-xr-x   1 nobody   nobody          0 Jul 25 18:36 ./share
  3344505      0 -rw-r--r--      1 donnie   nobody          0 Jul 25 18:38 ./somefile.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.363.1">Note that I’m still using </span><code class="inlineCode"><span class="koboSpan" id="kobo.364.1">sudo </span></code><span class="koboSpan" id="kobo.365.1">here, because even in my own home directory there are some directories that </span><code class="inlineCode"><span class="koboSpan" id="kobo.366.1">find</span></code><span class="koboSpan" id="kobo.367.1"> won’t access without it. </span><span class="koboSpan" id="kobo.367.2">(These are the directories that contain information about Docker containers.)</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.368.1">Conversely, you can</span><a id="_idIndexMarker092"/><span class="koboSpan" id="kobo.369.1"> use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.370.1">-nogroup</span></code><span class="koboSpan" id="kobo.371.1"> switch to find files that don’t belong to any group that’s listed in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.372.1">/etc/group</span></code><span class="koboSpan" id="kobo.373.1"> file.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.374.1">[donnie@fedora ~]$ sudo find -nogroup
./.local/share/containers/storage/overlay/994393dc58e7931862558d06e46aa2bb17487044f670f310dffe1d24e4d1eec7/diff/etc/shadow
./.local/share/containers/storage/overlay/ded7a220bb058e28ee3254fbba04ca90b679070424424761a53a043b93b612bf/diff/etc/shadow
./.local/share/containers/storage/overlay/8e012198eea15b2554b07014081c85fec4967a1b9cc4b65bd9a4bce3ae1c0c88/diff/etc/shadow
./.local/share/containers/storage/overlay/7cd52847ad775a5ddc4b58326cf884beee34544296402c6292ed76474c686d39/diff/etc/shadow
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.375.1">In the Linux/Unix world, everything on the system is represented by a file. </span><span class="koboSpan" id="kobo.375.2">Normal users of a system will usually just encounter regular files and directories, but there are many </span><a id="_idIndexMarker093"/><span class="koboSpan" id="kobo.376.1">other types of files that will be of interest to a system administrator. </span><span class="koboSpan" id="kobo.376.2">The various file types include:</span></p>
    <ul>
      <li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.377.1">Regular files:</span></strong><span class="koboSpan" id="kobo.378.1"> These are the types of files that a normal user would routinely access. </span><span class="koboSpan" id="kobo.378.2">Graphics</span><a id="_idIndexMarker094"/><span class="koboSpan" id="kobo.379.1"> files, video files, database files, spreadsheet files, text files, and executable files are all examples of regular files.</span></li>
      <li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.380.1">Directories</span></strong><span class="koboSpan" id="kobo.381.1">: It seems </span><a id="_idIndexMarker095"/><span class="koboSpan" id="kobo.382.1">strange that a directory is a type of file, but that’s just how it is in the Linux and Unix worlds.</span></li>
      <li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.383.1">Character devices</span></strong><span class="koboSpan" id="kobo.384.1">: A </span><a id="_idIndexMarker096"/><span class="koboSpan" id="kobo.385.1">character device either accepts or supplies a serial stream of data. </span><span class="koboSpan" id="kobo.385.2">A sound card or a terminal would be represented by a character device file. </span><span class="koboSpan" id="kobo.385.3">You’ll find these files in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.386.1">/dev/ </span></code><span class="koboSpan" id="kobo.387.1">directory.</span></li>
      <li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.388.1">Block devices</span></strong><span class="koboSpan" id="kobo.389.1">: A block device file represents devices that can be accessed in a random </span><a id="_idIndexMarker097"/><span class="koboSpan" id="kobo.390.1">manner. </span><span class="koboSpan" id="kobo.390.2">Examples include hard drives, solid-state drives, and drive partitions. </span><span class="koboSpan" id="kobo.390.3">You’ll also find these files in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.391.1">/dev/</span></code><span class="koboSpan" id="kobo.392.1"> directory.</span></li>
      <li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.393.1">Named pipes</span></strong><span class="koboSpan" id="kobo.394.1">: These </span><a id="_idIndexMarker098"/><span class="koboSpan" id="kobo.395.1">devices take the output from one system process and supply it as the input to another system process, thus enabling inter-process communication.</span></li>
      <li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.396.1">Sockets</span></strong><span class="koboSpan" id="kobo.397.1">: These are the same as named pipes, except that they can send and receive file </span><a id="_idIndexMarker099"/><span class="koboSpan" id="kobo.398.1">descriptors as part of the communications stream. </span><span class="koboSpan" id="kobo.398.2">Also, unlike named pipes, sockets can allow two-way data exchange between two processes.</span></li>
      <li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.399.1">Symbolic links</span></strong><span class="koboSpan" id="kobo.400.1">: This type of file simply points to either a regular file or directory. </span><span class="koboSpan" id="kobo.400.2">This allows users</span><a id="_idIndexMarker100"/><span class="koboSpan" id="kobo.401.1"> to either access files and directories from multiple places in the filesystem, or to access them by </span><a id="_idIndexMarker101"/><span class="koboSpan" id="kobo.402.1">different names.</span></li>
    </ul>
    <p class="normal"><span class="koboSpan" id="kobo.403.1">You can tell what type a </span><a id="_idIndexMarker102"/><span class="koboSpan" id="kobo.404.1">file is by doing an </span><code class="inlineCode"><span class="koboSpan" id="kobo.405.1">ls -l</span></code><span class="koboSpan" id="kobo.406.1"> command. </span><span class="koboSpan" id="kobo.406.2">The first character in the output for each file is known as the </span><strong class="keyWord"><span class="koboSpan" id="kobo.407.1">file mode string</span></strong><span class="koboSpan" id="kobo.408.1">. </span><span class="koboSpan" id="kobo.408.2">This file</span><a id="_idIndexMarker103"/><span class="koboSpan" id="kobo.409.1"> mode string designates the file type. </span><span class="koboSpan" id="kobo.409.2">For example, let’s look at what’s in my home directory:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.410.1">[donnie@fedora ~]$ ls -l
total 137972
-rw-r--r--.      </span><span class="koboSpan" id="kobo.410.2">1 donnie donnie       12111206 Feb 18 13:41 dnf_list.txt
drwxr-xr-x. </span><span class="koboSpan" id="kobo.410.3">15 donnie donnie               4096 Jul 27 16:39 orphaned_files
drwxr-xr-x.   </span><span class="koboSpan" id="kobo.410.4">2 donnie donnie                     6 Jul 29 16:53 perm_demo
-rw-r--r--.      </span><span class="koboSpan" id="kobo.410.5">1 donnie donnie                 643 Mar 26 15:53 sample.json
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.411.1">Lines that begin with a </span><code class="inlineCode"><span class="koboSpan" id="kobo.412.1">-</span></code><span class="koboSpan" id="kobo.413.1"> represent a regular file, and lines that begin with a </span><code class="inlineCode"><span class="koboSpan" id="kobo.414.1">d</span></code><span class="koboSpan" id="kobo.415.1"> represent a directory. </span><span class="koboSpan" id="kobo.415.2">The various file types are represented as follows:</span></p>
    <table id="table001-1" class="table-container">
      <tbody>
        <tr>
          <td class="table-cell">
            <p class="normal"><strong class="keyWord"><span class="koboSpan" id="kobo.416.1">File mode string</span></strong></p>
          </td>
          <td class="table-cell">
            <p class="normal"><strong class="keyWord"><span class="koboSpan" id="kobo.417.1">File type</span></strong></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.418.1">-</span></code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><span class="koboSpan" id="kobo.419.1">Regular file</span></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.420.1">d</span></code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><span class="koboSpan" id="kobo.421.1">Directory</span></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.422.1">c</span></code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><span class="koboSpan" id="kobo.423.1">Character device</span></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.424.1">b</span></code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><span class="koboSpan" id="kobo.425.1">Block device</span></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.426.1">p</span></code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><span class="koboSpan" id="kobo.427.1">Named pipe</span></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.428.1">s</span></code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><span class="koboSpan" id="kobo.429.1">Socket</span></p>
          </td>
        </tr>
        <tr>
          <td class="table-cell">
            <p class="normal"><code class="inlineCode"><span class="koboSpan" id="kobo.430.1">l</span></code></p>
          </td>
          <td class="table-cell">
            <p class="normal"><span class="koboSpan" id="kobo.431.1">Symbolic link</span></p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="packt_figref"><span class="koboSpan" id="kobo.432.1">Table 2.1: File type designators</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.433.1">There may be times when </span><a id="_idIndexMarker104"/><span class="koboSpan" id="kobo.434.1">you’ll need to locate all files </span><a id="_idIndexMarker105"/><span class="koboSpan" id="kobo.435.1">of a certain type. </span><span class="koboSpan" id="kobo.435.2">You can do that with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.436.1">-type</span></code><span class="koboSpan" id="kobo.437.1"> option, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.438.1">[donnie@fedora ~]$ sudo find / -type p -ls
      545    0 prw-------   1 root     root            0 Jul 31 15:20 /run/initctl
      542    0 prw-------   1 root     root            0 Jul 31 15:20 /run/dmeventd-client
      541    0 prw-------   1 root     root            0 Jul 31 15:20 /run/dmeventd-server
        6      0 p---------    1 donnie   donnie     0 Jul 31 15:29 /run/user/1000/systemd/inaccessible/fifo
     1228   0 prw-------   1 root     root            0 Jul 31 15:21 /run/systemd/inhibit/2.ref
     1193   0 prw-------   1 root     root            0 Jul 31 15:21 /run/systemd/inhibit/1.ref
     1324   0 prw-------   1 root     root            0 Jul 31 15:29 /run/systemd/sessions/3.ref
     1311   0 prw-------   1 root     root            0 Jul 31 15:29 /run/systemd/sessions/1.ref
        8      0 p---------    1 root     root            0 Jul 31 15:20 /run/systemd/inaccessible/fifo
      112    0 prw-------   1 root     root            0 Jul 31 15:20 /var/lib/nfs/rpc_pipefs/gssd/clntXX/gssd
  [donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.439.1">As you see, I’m using the </span><code class="inlineCode"><span class="koboSpan" id="kobo.440.1">-type p</span></code><span class="koboSpan" id="kobo.441.1"> option to search for all named pipe files.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.442.1">Now, let’s consider the previous example in which we searched for all files that end with a </span><code class="inlineCode"><span class="koboSpan" id="kobo.443.1">.conf</span></code><span class="koboSpan" id="kobo.444.1"> filename extension:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.445.1">[donnie@fedora ~]$ sudo find / -iname '*.conf'
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.446.1">This command only found regular files because they’re the only types of files on the system that have the </span><code class="inlineCode"><span class="koboSpan" id="kobo.447.1">.conf</span></code><span class="koboSpan" id="kobo.448.1"> filename extension. </span><span class="koboSpan" id="kobo.448.2">But, let’s now say that we want to search</span><a id="_idIndexMarker106"/><span class="koboSpan" id="kobo.449.1"> through the </span><code class="inlineCode"><span class="koboSpan" id="kobo.450.1">/etc/</span></code><span class="koboSpan" id="kobo.451.1"> directory to find all subdirectories with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.452.1">conf </span></code><span class="koboSpan" id="kobo.453.1">text string in their </span><a id="_idIndexMarker107"/><span class="koboSpan" id="kobo.454.1">names. </span><span class="koboSpan" id="kobo.454.2">If we don’t specify a file type, we’ll see regular files, symbolic links, and directories:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.455.1">[donnie@fedora ~]$ sudo find /etc -name '*conf*' -ls
   329486       4 -rw-r--r--   1 root     root          351 Jul 27 07:02 /etc/dnf/plugins/copr.conf
   329487       4 -rw-r--r--   1 root     root           30 Jul 27 07:02 /etc/dnf/plugins/debuginfo-install.conf
  8480155      4 -rw-r--r--   1 root     root           93 May 18 04:27 /etc/dnf/protected.d/dnf.conf
. </span><span class="koboSpan" id="kobo.455.2">. </span><span class="koboSpan" id="kobo.455.3">.
</span><span class="koboSpan" id="kobo.455.4">25325169      0 lrwxrwxrwx   1 root     root           43 Jul 29 18:19 /etc/crypto-policies/back-ends/bind.config -&gt; /usr/share/crypto-policies/DEFAULT/bind.txt
 25325172      0 lrwxrwxrwx   1 root     root           45 Jul 29 18:19 /etc/crypto-policies/back-ends/gnutls.config -&gt; /usr/share/crypto-policies/DEFAULT/gnutls.txt
. </span><span class="koboSpan" id="kobo.455.5">. </span><span class="koboSpan" id="kobo.455.6">.
</span><span class="koboSpan" id="kobo.455.7">5430579        0 drwxr-xr-x   2 root     root           25 Sep 19  2022 /etc/reader.conf.d
  8878157      0 drwxr-xr-x   3 root     root           27 Dec  8  2022 /etc/pkgconfig
  8927250      0 drwxr-xr-x   2 root     root           83 Nov 16  2022 /etc/krb5.conf.d
. </span><span class="koboSpan" id="kobo.455.8">. </span><span class="koboSpan" id="kobo.455.9">.
</span><span class="koboSpan" id="kobo.455.10">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.456.1">We’ll use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.457.1">-type d</span></code><span class="koboSpan" id="kobo.458.1"> option to narrow things down:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.459.1">[donnie@fedora ~]$ sudo find /etc -name '*conf*' -type d -ls
 17060336      0 drwxr-xr-x    2 root     root           41 Dec  8  2022 /etc/fonts/conf.d
 25430579      0 drwxr-xr-x    2 root     root           25 Sep 19  2022 /etc/reader.conf.d
  8878157       0 drwxr-xr-x    3 root     root           27 Dec  8  2022 /etc/pkgconfig
  8927250       0 drwxr-xr-x    2 root     root           83 Nov 16  2022 /etc/krb5.conf.d
 25313333      0 drwxr-xr-x    2 root     root            6 Feb  1 17:58 /etc/security/pwquality.conf.d
 25395980      0 drwxr-xr-x    2 root     root           30 Dec  8  2022 /etc/X11/xorg.conf.d
 17060487      0 drwxr-xr-x    2 root     root            6 Aug  9  2022 /etc/pm/config.d
. </span><span class="koboSpan" id="kobo.459.2">. </span><span class="koboSpan" id="kobo.459.3">.
</span><span class="koboSpan" id="kobo.459.4">. </span><span class="koboSpan" id="kobo.459.5">. </span><span class="koboSpan" id="kobo.459.6">.
 </span><span class="koboSpan" id="kobo.459.7">16917753      0 drwxr-xr-x    2 root     root           33 Jul 29 18:11 /etc/containers/registries.conf.d
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.460.1">Cool. </span><span class="koboSpan" id="kobo.460.2">We now only see the directories, which is exactly what we want.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.461.1">As I said before, there </span><a id="_idIndexMarker108"/><span class="koboSpan" id="kobo.462.1">are a lot of options that you can use with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.463.1">find</span></code><span class="koboSpan" id="kobo.464.1"> utility. </span><span class="koboSpan" id="kobo.464.2">(Enter </span><code class="inlineCode"><span class="koboSpan" id="kobo.465.1">man find</span></code><span class="koboSpan" id="kobo.466.1"> to see them all.)</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.467.1">Now, with the </span><a id="_idIndexMarker109"/><span class="koboSpan" id="kobo.468.1">introduction to </span><code class="inlineCode"><span class="koboSpan" id="kobo.469.1">find</span></code><span class="koboSpan" id="kobo.470.1"> out of the way, let’s look at how to use </span><code class="inlineCode"><span class="koboSpan" id="kobo.471.1">find</span></code><span class="koboSpan" id="kobo.472.1"> to perform multiple actions with one command.</span></p>
    <h2 id="_idParaDest-44" class="heading 2"><span class="koboSpan" id="kobo.473.1">Performing Multiple Actions with find</span></h2>
    <p class="normal"><span class="koboSpan" id="kobo.474.1">Our next trick contains a</span><a id="_idIndexMarker110"/><span class="koboSpan" id="kobo.475.1"> bit of a twist. </span><span class="koboSpan" id="kobo.475.2">We’ll use </span><code class="inlineCode"><span class="koboSpan" id="kobo.476.1">find</span></code><span class="koboSpan" id="kobo.477.1">'s </span><code class="inlineCode"><span class="koboSpan" id="kobo.478.1">-exec</span></code><span class="koboSpan" id="kobo.479.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.480.1">-ok</span></code><span class="koboSpan" id="kobo.481.1"> option switches to make </span><code class="inlineCode"><span class="koboSpan" id="kobo.482.1">find</span></code><span class="koboSpan" id="kobo.483.1"> perform some sort </span><a id="_idIndexMarker111"/><span class="koboSpan" id="kobo.484.1">of action on each file that</span><a id="_idIndexMarker112"/><span class="koboSpan" id="kobo.485.1"> it finds. </span><span class="koboSpan" id="kobo.485.2">First, </span><code class="inlineCode"><span class="koboSpan" id="kobo.486.1">find</span></code><span class="koboSpan" id="kobo.487.1"> finds the files. </span><span class="koboSpan" id="kobo.487.2">Then, it causes another command to run that will take some sort of action on the files. </span><span class="koboSpan" id="kobo.487.3">Here’s how it works.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.488.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.489.1">-exec</span></code><span class="koboSpan" id="kobo.490.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.491.1">-ok</span></code><span class="koboSpan" id="kobo.492.1"> switches tell the shell to perform a second command only if the first command produces valid output. </span><span class="koboSpan" id="kobo.492.2">It then uses the output of the first command (</span><code class="inlineCode"><span class="koboSpan" id="kobo.493.1">find</span></code><span class="koboSpan" id="kobo.494.1">) as arguments for the second. </span><span class="koboSpan" id="kobo.494.2">The difference between the two switches is that </span><code class="inlineCode"><span class="koboSpan" id="kobo.495.1">-exec</span></code><span class="koboSpan" id="kobo.496.1"> causes the desired action to automatically execute on each file without prompting the user. </span><span class="koboSpan" id="kobo.496.2">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.497.1">-ok</span></code><span class="koboSpan" id="kobo.498.1"> switch will cause the action to stop after each file that </span><code class="inlineCode"><span class="koboSpan" id="kobo.499.1">find</span></code><span class="koboSpan" id="kobo.500.1"> finds, asking</span><a id="_idIndexMarker113"/><span class="koboSpan" id="kobo.501.1"> the user whether or not to proceed with the action for that file. </span><span class="koboSpan" id="kobo.501.2">Here, we’re searching the entire filesystem for all </span><code class="inlineCode"><span class="koboSpan" id="kobo.502.1">.zip</span></code><span class="koboSpan" id="kobo.503.1"> files that are more than 30 days old, and copying them to the </span><code class="inlineCode"><span class="koboSpan" id="kobo.504.1">/home/donnie/</span></code><span class="koboSpan" id="kobo.505.1"> directory. </span><span class="koboSpan" id="kobo.505.2">(Note that I’m still using </span><code class="inlineCode"><span class="koboSpan" id="kobo.506.1">sudo </span></code><span class="koboSpan" id="kobo.507.1">so that I can access all directories.)</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.508.1">[donnie@fedora ~]$ sudo find / \( -mtime +30 -iname '*.zip' \) -exec cp {} /home/donnie \;
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.509.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.510.1">{}</span></code><span class="koboSpan" id="kobo.511.1"> after the </span><code class="inlineCode"><span class="koboSpan" id="kobo.512.1">cp</span></code><span class="koboSpan" id="kobo.513.1"> command tells </span><code class="inlineCode"><span class="koboSpan" id="kobo.514.1">bash </span></code><span class="koboSpan" id="kobo.515.1">or </span><code class="inlineCode"><span class="koboSpan" id="kobo.516.1">zsh</span></code><span class="koboSpan" id="kobo.517.1">, “Take the results from the </span><code class="inlineCode"><span class="koboSpan" id="kobo.518.1">find</span></code><span class="koboSpan" id="kobo.519.1"> command, and put them here as the arguments”. </span><span class="koboSpan" id="kobo.519.2">Note that this command sequence has to end with a semi-colon. </span><span class="koboSpan" id="kobo.519.3">But, since the semi-colon has special meaning for </span><code class="inlineCode"><span class="koboSpan" id="kobo.520.1">bash</span></code><span class="koboSpan" id="kobo.521.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.522.1">zsh</span></code><span class="koboSpan" id="kobo.523.1">, you must precede it with a backslash so that </span><code class="inlineCode"><span class="koboSpan" id="kobo.524.1">bash</span></code><span class="koboSpan" id="kobo.525.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.526.1">zsh</span></code><span class="koboSpan" id="kobo.527.1"> will interpret it correctly. </span></p>
    <p class="normal"><span class="koboSpan" id="kobo.528.1">Also, note that you must have a blank space after the first parenthesis, and another blank space before the backslash that precedes the last parenthesis.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.529.1">Now, suppose that you only want to copy over some of the files that you find. </span><span class="koboSpan" id="kobo.529.2">Just replace the </span><code class="inlineCode"><span class="koboSpan" id="kobo.530.1">-exec</span></code><span class="koboSpan" id="kobo.531.1"> switch with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.532.1">-ok</span></code><span class="koboSpan" id="kobo.533.1"> switch. </span><span class="koboSpan" id="kobo.533.2">It works the same as </span><code class="inlineCode"><span class="koboSpan" id="kobo.534.1">-exec</span></code><span class="koboSpan" id="kobo.535.1">, but it will ask permission before performing an operation on a file. </span><span class="koboSpan" id="kobo.535.2">You’ll have to enter either </span><em class="keystroke"><span class="koboSpan" id="kobo.536.1">y</span></em><span class="koboSpan" id="kobo.537.1"> or </span><em class="keystroke"><span class="koboSpan" id="kobo.538.1">n</span></em><span class="koboSpan" id="kobo.539.1"> before continuing to the next file.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.540.1">The same principle also works for removing files.</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.541.1">[donnie@fedora ~]$ sudo find / \( -mtime +30 -iname '*.zip' \) -ok rm {} \;
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.542.1">Let’s now suppose that Vicky, Cleopatra, Frank, and Goldie are all creating graphics for some sort of project. </span><span class="koboSpan" id="kobo.542.2">They’re supposed to place the graphics files into the </span><code class="inlineCode"><span class="koboSpan" id="kobo.543.1">graphics</span></code><span class="koboSpan" id="kobo.544.1"> subdirectory that each of them have in their own home directory. </span><span class="koboSpan" id="kobo.544.2">Sometimes they forget though, and place the files into their top-level home directories, as we </span><a id="_idIndexMarker114"/><span class="koboSpan" id="kobo.545.1">see in the following</span><a id="_idIndexMarker115"/><span class="koboSpan" id="kobo.546.1"> diagram:</span></p>
    <figure class="mediaobject"><span class="koboSpan" id="kobo.547.1"><img src="../Images/B21693_02_01.png" alt=""/></span></figure>
    <p class="packt_figref"><span class="koboSpan" id="kobo.548.1">Figure 2.1: Some of these graphics files are in the wrong place.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.549.1">Now, let’s get a bit of</span><a id="_idIndexMarker116"/><span class="koboSpan" id="kobo.550.1"> hands-on practice with this.</span></p>
    <h3 id="_idParaDest-45" class="heading 3"><span class="koboSpan" id="kobo.551.1">Hands-on Lab – Using find to Perform Other Commands</span></h3>
    <p class="normal"><span class="koboSpan" id="kobo.552.1">For this lab, use a Fedora, Debian, or Ubuntu virtual machine. </span><span class="koboSpan" id="kobo.552.2">(I’ll provide instructions for all of</span><a id="_idIndexMarker117"/><span class="koboSpan" id="kobo.553.1"> them.)</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.554.1">Let’s say that we want to copy everyone’s graphics files into a common backup directory.</span></p>
    <ol>
      <li class="numberedList" value="1"><span class="koboSpan" id="kobo.555.1">First, create the </span><code class="inlineCode"><span class="koboSpan" id="kobo.556.1">/backup</span></code><span class="koboSpan" id="kobo.557.1"> directory, like this:
        </span><pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.558.1">[donnie@fedora ~]$ sudo mkdir /backup
</span></code></pre>
      </li>
    </ol>
    <p class="normal one"><span class="koboSpan" id="kobo.559.1">For our present purposes, just leave ownership and permissions settings as they are.</span></p>
    <ol>
      <li class="numberedList" value="2"><span class="koboSpan" id="kobo.560.1">Next, create user accounts for Vicky, Cleopatra, Frank, and Goldie, and assign a password to each account. </span><span class="koboSpan" id="kobo.560.2">On Fedora, the commands would look like this:
        </span><pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.561.1">donnie@fedora:~$ sudo useradd frank
donnie@fedora:~$ sudo passwd frank
</span></code></pre>
      </li>
    </ol>
    <p class="normal one"><span class="koboSpan" id="kobo.562.1">On either Debian or Ubuntu, use the interactive </span><code class="inlineCode"><span class="koboSpan" id="kobo.563.1">adduser</span></code><span class="koboSpan" id="kobo.564.1"> command, which both creates</span><a id="_idIndexMarker118"/><span class="koboSpan" id="kobo.565.1"> the user account and sets the password. </span><span class="koboSpan" id="kobo.565.2">It looks like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.566.1">donnie@debian12:~$ sudo adduser goldie
</span></code></pre>
    <ol>
      <li class="numberedList" value="3"><span class="koboSpan" id="kobo.567.1">Log into each user’s account, create a </span><code class="inlineCode"><span class="koboSpan" id="kobo.568.1">graphics</span></code><span class="koboSpan" id="kobo.569.1"> directory in each user’s home directory, and then create some fake graphics files. </span><span class="koboSpan" id="kobo.569.2">Here are the commands to do that:
        </span><pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.570.1">goldie@fedora:~$ touch goldie02.png
goldie@fedora:~$ mkdir graphics
goldie@fedora:~$ cd graphics/
goldie@fedora:~/graphics$ touch {goldie01.png,goldie03.png,goldie04.png}
goldie@fedora:~/graphics$
</span></code></pre>
      </li>
    </ol>
    <p class="normal one"><span class="koboSpan" id="kobo.571.1">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.572.1">touch</span></code><span class="koboSpan" id="kobo.573.1"> command is actually meant to be used by programmers for purposes that I won’t go into here. </span><span class="koboSpan" id="kobo.573.2">But, it’s also handy for situations like this, when you just need to create some fake files for testing purposes. </span><span class="koboSpan" id="kobo.573.3">By enclosing a comma-separated list of filenames within a pair of curly braces, you can create multiple files with just one single command. </span><span class="koboSpan" id="kobo.573.4">To verify that, let’s peek into the </span><code class="inlineCode"><span class="koboSpan" id="kobo.574.1">graphics</span></code><span class="koboSpan" id="kobo.575.1"> directory:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.576.1">goldie@fedora:~/graphics$ ls -l
total 0
-rw-r--r--. </span><span class="koboSpan" id="kobo.576.2">1 goldie goldie 0 Mar 23 13:27 goldie01.png
-rw-r--r--. </span><span class="koboSpan" id="kobo.576.3">1 goldie goldie 0 Mar 23 13:27 goldie03.png
-rw-r--r--. </span><span class="koboSpan" id="kobo.576.4">1 goldie goldie 0 Mar 23 13:27 goldie04.png
goldie@fedora:~/graphics$
</span></code></pre>
    <ol>
      <li class="numberedList" value="4"><span class="koboSpan" id="kobo.577.1">For this step, you’ll need to log back into your own user account. </span><span class="koboSpan" id="kobo.577.2">You want to be sure to get all of the graphics files, even if they’re in the users’ top-level </span><a id="_idIndexMarker119"/><span class="koboSpan" id="kobo.578.1">home directories, and copy them into the</span><code class="inlineCode"><span class="koboSpan" id="kobo.579.1"> /backup/</span></code><span class="koboSpan" id="kobo.580.1"> directory. </span><span class="koboSpan" id="kobo.580.2">Your command and results would look like this:
        </span><pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.581.1">[donnie@fedora ~]$ sudo find /home -name '*.png' -exec cp {} /backup \;
[donnie@fedora ~]$ ls -l /backup/
total 0
-rw-r--r--. </span><span class="koboSpan" id="kobo.581.2">1 root root 0 Jul 28 15:40 cleopatra01.png
-rw-r--r--. </span><span class="koboSpan" id="kobo.581.3">1 root root 0 Jul 28 15:40 cleopatra02.png
-rw-r--r--. </span><span class="koboSpan" id="kobo.581.4">1 root root 0 Jul 28 15:40 cleopatra03.png
-rw-r--r--. </span><span class="koboSpan" id="kobo.581.5">1 root root 0 Jul 28 15:40 cleopatra04.png
-rw-r--r--. </span><span class="koboSpan" id="kobo.581.6">1 root root 0 Jul 28 15:40 frank01.png
-rw-r--r--. </span><span class="koboSpan" id="kobo.581.7">1 root root 0 Jul 28 15:40 frank02.png
-rw-r--r--. </span><span class="koboSpan" id="kobo.581.8">1 root root 0 Jul 28 15:40 frank03.png
-rw-r--r--. </span><span class="koboSpan" id="kobo.581.9">1 root root 0 Jul 28 15:40 frank04.png
-rw-r--r--. </span><span class="koboSpan" id="kobo.581.10">1 root root 0 Jul 28 15:40 goldie01.png
-rw-r--r--. </span><span class="koboSpan" id="kobo.581.11">1 root root 0 Jul 28 15:40 goldie02.png
-rw-r--r--. </span><span class="koboSpan" id="kobo.581.12">1 root root 0 Jul 28 15:40 goldie03.png
-rw-r--r--. </span><span class="koboSpan" id="kobo.581.13">1 root root 0 Jul 28 15:40 goldie04.png
-rw-r--r--. </span><span class="koboSpan" id="kobo.581.14">1 root root 0 Jul 28 15:40 vicky01.png
-rw-r--r--. </span><span class="koboSpan" id="kobo.581.15">1 root root 0 Jul 28 15:40 vicky02.png
-rw-r--r--. </span><span class="koboSpan" id="kobo.581.16">1 root root 0 Jul 28 15:40 vicky03.png
-rw-r--r--. </span><span class="koboSpan" id="kobo.581.17">1 root root 0 Jul 28 15:40 vicky04.png
[donnie@fedora ~]$
</span></code></pre>
      </li>
    </ol>
    <p class="normal"><span class="koboSpan" id="kobo.582.1">What I’ve shown you here just barely scratches the surface of what you can do with </span><code class="inlineCode"><span class="koboSpan" id="kobo.583.1">find</span></code><span class="koboSpan" id="kobo.584.1">. </span><span class="koboSpan" id="kobo.584.2">To see the complete list of search criteria that you can specify, open the </span><code class="inlineCode"><span class="koboSpan" id="kobo.585.1">find</span></code><span class="koboSpan" id="kobo.586.1"> man page and </span><a id="_idIndexMarker120"/><span class="koboSpan" id="kobo.587.1">scroll down to the </span><strong class="screenText"><span class="koboSpan" id="kobo.588.1">TESTS</span></strong><span class="koboSpan" id="kobo.589.1"> section.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.590.1">We’ll look at some more </span><code class="inlineCode"><span class="koboSpan" id="kobo.591.1">find</span></code><span class="koboSpan" id="kobo.592.1"> examples a bit later. </span><span class="koboSpan" id="kobo.592.2">For now though, let’s look at how to create recursive commands.</span></p>
    <h1 id="_idParaDest-46" class="heading 1"><span class="koboSpan" id="kobo.593.1">Running Commands Recursively</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.594.1">We’ve already shown you that the </span><code class="inlineCode"><span class="koboSpan" id="kobo.595.1">find</span></code><span class="koboSpan" id="kobo.596.1"> utility is inherently recursive. </span><span class="koboSpan" id="kobo.596.2">That is, it will automatically search through the subdirectories of your specified search path without you </span><a id="_idIndexMarker121"/><span class="koboSpan" id="kobo.597.1">having to tell it to. </span><span class="koboSpan" id="kobo.597.2">Most Linux commands aren’t that way, however. </span><span class="koboSpan" id="kobo.597.3">If you want them to work recursively, you’ll have to tell them to. </span><span class="koboSpan" id="kobo.597.4">For the most part, this is done with either the </span><code class="inlineCode"><span class="koboSpan" id="kobo.598.1">-R</span></code><span class="koboSpan" id="kobo.599.1"> switch or the </span><code class="inlineCode"><span class="koboSpan" id="kobo.600.1">-r</span></code><span class="koboSpan" id="kobo.601.1"> switch. </span><span class="koboSpan" id="kobo.601.2">(Some commands use </span><code class="inlineCode"><span class="koboSpan" id="kobo.602.1">–R</span></code><span class="koboSpan" id="kobo.603.1">, and some use </span><code class="inlineCode"><span class="koboSpan" id="kobo.604.1">–r</span></code><span class="koboSpan" id="kobo.605.1">. </span><span class="koboSpan" id="kobo.605.2">Something that you’ll eventually see for yourself is that there’s not a lot of consistency in how the different commands work with option switches.) Let’s see how it all works with a hands-on lab.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.606.1">The examples in this section involve using the numeric method to set file and directory permissions. </span><span class="koboSpan" id="kobo.606.2">For anyone who’s not familiar with how to do that, I’ve provided a reference in the </span><em class="chapterRef"><span class="koboSpan" id="kobo.607.1">Further Reading</span></em><span class="koboSpan" id="kobo.608.1"> section.</span></p>
    </div>
    <h2 id="_idParaDest-47" class="heading 2"><span class="koboSpan" id="kobo.609.1">Hands-on Lab – Using Commands with Recursion</span></h2>
    <p class="normal"><span class="koboSpan" id="kobo.610.1">In this lab, you’ll be </span><a id="_idIndexMarker122"/><span class="koboSpan" id="kobo.611.1">using the recursive option for the </span><code class="inlineCode"><span class="koboSpan" id="kobo.612.1">ls</span></code><span class="koboSpan" id="kobo.613.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.614.1">chmod</span></code><span class="koboSpan" id="kobo.615.1"> utilities. </span><span class="koboSpan" id="kobo.615.2">Let’s dig in.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.616.1">First, let’s create a new directory with a set of nested subdirectories, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.617.1">[donnie@fedora ~]$ sudo mkdir -p /perm_demo/level1/level2/level3/level4
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.618.1">Next, we want to look at the permissions settings for the entire nest of directories. </span><span class="koboSpan" id="kobo.618.2">So, let’s do this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.619.1">[donnie@fedora ~]$ ls -l /perm_demo/
total 0
drwxr-xr-x. </span><span class="koboSpan" id="kobo.619.2">3 root root 20 Jul 29 17:09 level1
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.620.1">Well now, that </span><a id="_idIndexMarker123"/><span class="koboSpan" id="kobo.621.1">doesn’t help, does it? </span><span class="koboSpan" id="kobo.621.2">All we can see is just the first level subdirectory.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.622.1">Let’s try adding the </span><code class="inlineCode"><span class="koboSpan" id="kobo.623.1">-R </span></code><span class="koboSpan" id="kobo.624.1">option to see if that helps:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.625.1">[donnie@fedora ~]$ ls -lR /perm_demo/
/perm_demo/:
total 0
drwxr-xr-x. </span><span class="koboSpan" id="kobo.625.2">3 root root 20 Jul 29 17:09 level1
/perm_demo/level1:
total 0
drwxr-xr-x. </span><span class="koboSpan" id="kobo.625.3">3 root root 20 Jul 29 17:09 level2
/perm_demo/level1/level2:
total 0
drwxr-xr-x. </span><span class="koboSpan" id="kobo.625.4">3 root root 20 Jul 29 17:09 level3
/perm_demo/level1/level2/level3:
total 0
drwxr-xr-x. </span><span class="koboSpan" id="kobo.625.5">2 root root 6 Jul 29 17:09 level4
/perm_demo/level1/level2/level3/level4:
total 0
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.626.1">This is much better, because we now see the permissions settings for all four of the nested subdirectories. </span><span class="koboSpan" id="kobo.626.2">But, we see that the permissions settings aren’t what we want. </span><span class="koboSpan" id="kobo.626.3">With the </span><code class="inlineCode"><span class="koboSpan" id="kobo.627.1">755</span></code><span class="koboSpan" id="kobo.628.1"> permission setting that we currently have, we’re allowing the user to have read/write/execute access, while the group and others have read/execute access. </span><span class="koboSpan" id="kobo.628.2">What we really want is for the user and the group to both have read/write/execute access, and for others to have no access at all. </span><span class="koboSpan" id="kobo.628.3">We’ll do that by using </span><code class="inlineCode"><span class="koboSpan" id="kobo.629.1">chmod</span></code><span class="koboSpan" id="kobo.630.1"> to change the permissions settings to </span><code class="inlineCode"><span class="koboSpan" id="kobo.631.1">770</span></code><span class="koboSpan" id="kobo.632.1">. </span><span class="koboSpan" id="kobo.632.2">The </span><code class="inlineCode"><span class="koboSpan" id="kobo.633.1">-R</span></code><span class="koboSpan" id="kobo.634.1"> switch will allow us to change the</span><a id="_idIndexMarker124"/><span class="koboSpan" id="kobo.635.1"> settings for the top-level directory, as well as all four of the nested subdirectories.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.636.1">Recursively set the correnct permissions setting with this command:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.637.1">[donnie@fedora ~]$ sudo chmod -R 770 /perm_demo/
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.638.1">Now that you’ve removed access for others, you’ll need to use </span><code class="inlineCode"><span class="koboSpan" id="kobo.639.1">sudo </span></code><span class="koboSpan" id="kobo.640.1">to view the permissions settings:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.641.1">[donnie@fedora ~]$ sudo ls -lR /perm_demo/
/perm_demo/:
total 0
drwxrwx---. </span><span class="koboSpan" id="kobo.641.2">3 root root 20 Jul 29 17:09 level1
/perm_demo/level1:
total 0
drwxrwx---. </span><span class="koboSpan" id="kobo.641.3">3 root root 20 Jul 29 17:09 level2
/perm_demo/level1/level2:
total 0
drwxrwx---. </span><span class="koboSpan" id="kobo.641.4">3 root root 20 Jul 29 17:09 level3
/perm_demo/level1/level2/level3:
total 0
drwxrwx---. </span><span class="koboSpan" id="kobo.641.5">2 root root 6 Jul 29 17:09 level4
/perm_demo/level1/level2/level3/level4:
total 0
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.642.1">You see that the permissions setting is now </span><code class="inlineCode"><span class="koboSpan" id="kobo.643.1">770</span></code><span class="koboSpan" id="kobo.644.1"> for the entire nest, which means that we have achieved extreme coolness.</span></p>
    <div class="packt_tip">
      <p class="normal"> <strong class="keyWord"><span class="koboSpan" id="kobo.645.1">Tip</span></strong></p>
      <p class="normal"><span class="koboSpan" id="kobo.646.1">You might, at some point, be called upon to create a shell script that will automatically compile and install a program. </span><span class="koboSpan" id="kobo.646.2">The ability to create nested directories and recursively change permissions settings on them will come in quite handy when writing those kinds of scripts.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.647.1">There are several other utilities that also have the recursive feature. </span><span class="koboSpan" id="kobo.647.2">(You’ll encounter some of them as you go through this book.) The slight catch is that for some of them the</span><a id="_idIndexMarker125"/><span class="koboSpan" id="kobo.648.1"> recursive option switch is </span><code class="inlineCode"><span class="koboSpan" id="kobo.649.1">-r</span></code><span class="koboSpan" id="kobo.650.1">, and for other it’s </span><code class="inlineCode"><span class="koboSpan" id="kobo.651.1">-R</span></code><span class="koboSpan" id="kobo.652.1">. </span><span class="koboSpan" id="kobo.652.2">But, that’s okay. </span><span class="koboSpan" id="kobo.652.3">When in doubt, just consult the man page for the utility that you need to use.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.653.1">Now that we’ve covered recursion, let’s have a </span><code class="inlineCode"><span class="koboSpan" id="kobo.654.1">history</span></code><span class="koboSpan" id="kobo.655.1"> lesson.</span></p>
    <h1 id="_idParaDest-48" class="heading 1"><span class="koboSpan" id="kobo.656.1">Understanding the Command History</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.657.1">Whenever you work with the command-line, there will be times when you’ll have to enter some </span><a id="_idIndexMarker126"/><span class="koboSpan" id="kobo.658.1">commands more than once. </span><span class="koboSpan" id="kobo.658.2">If you’ve just entered a command that’s long and complex, you may not exactly be thrilled at the prospect of having to type it in all over again. </span><span class="koboSpan" id="kobo.658.3">Not to worry, though. </span><span class="koboSpan" id="kobo.658.4">For this, </span><code class="inlineCode"><span class="koboSpan" id="kobo.659.1">bash</span></code><span class="koboSpan" id="kobo.660.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.661.1">zsh</span></code><span class="koboSpan" id="kobo.662.1"> give you the ability to recall and/or edit commands that you’ve previously entered. </span><span class="koboSpan" id="kobo.662.2">There are a few ways to do this.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.663.1">Whenever you enter a command, it gets stored in memory until you exit the shell session. </span><span class="koboSpan" id="kobo.663.2">The command will then get added to a file that’s specified by the </span><code class="inlineCode"><span class="koboSpan" id="kobo.664.1">HISTFILE </span></code><span class="koboSpan" id="kobo.665.1">variable. </span><span class="koboSpan" id="kobo.665.2">Usually, this is the </span><code class="inlineCode"><span class="koboSpan" id="kobo.666.1">.bash_history</span></code><span class="koboSpan" id="kobo.667.1"> file on </span><code class="inlineCode"><span class="koboSpan" id="kobo.668.1">bash</span></code><span class="koboSpan" id="kobo.669.1">, and the </span><code class="inlineCode"><span class="koboSpan" id="kobo.670.1">.histfile</span></code><span class="koboSpan" id="kobo.671.1"> file on </span><code class="inlineCode"><span class="koboSpan" id="kobo.672.1">zsh</span></code><span class="koboSpan" id="kobo.673.1">. </span><span class="koboSpan" id="kobo.673.2">You’ll find these stored in each user’s home directory. </span><span class="koboSpan" id="kobo.673.3">To verify that, you can use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.674.1">echo</span></code><span class="koboSpan" id="kobo.675.1"> command, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.676.1">[donnie@fedora ~]$ echo $HISTFILE
/home/donnie/.bash_history
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.677.1">On </span><code class="inlineCode"><span class="koboSpan" id="kobo.678.1">zsh</span></code><span class="koboSpan" id="kobo.679.1">, you’ll see this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.680.1">donnie@opensuse:~&gt; echo $HISTFILE
/home/donnie/.histfile
donnie@opensuse:~&gt;
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.681.1">The number of commands that get saved to either the </span><code class="inlineCode"><span class="koboSpan" id="kobo.682.1">.bash_history</span></code><span class="koboSpan" id="kobo.683.1"> file or the </span><code class="inlineCode"><span class="koboSpan" id="kobo.684.1">.histfile</span></code><span class="koboSpan" id="kobo.685.1"> is set by the </span><code class="inlineCode"><span class="koboSpan" id="kobo.686.1">HISTSIZE</span></code><span class="koboSpan" id="kobo.687.1"> variable in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.688.1">/etc/profile</span></code><span class="koboSpan" id="kobo.689.1"> file. </span><span class="koboSpan" id="kobo.689.2">(Both </span><code class="inlineCode"><span class="koboSpan" id="kobo.690.1">bash</span></code><span class="koboSpan" id="kobo.691.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.692.1">zsh</span></code><span class="koboSpan" id="kobo.693.1"> reference the same file.) You </span><a id="_idIndexMarker127"/><span class="koboSpan" id="kobo.694.1">can use </span><code class="inlineCode"><span class="koboSpan" id="kobo.695.1">grep</span></code><span class="koboSpan" id="kobo.696.1"> to search for that line without having to open the file, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.697.1">[donnie@fedora ~]$ grep HISTSIZE /etc/profile
HISTSIZE=1000
export PATH USER LOGNAME MAIL HOSTNAME HISTSIZE HISTCONTROL
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.698.1">You can also use </span><code class="inlineCode"><span class="koboSpan" id="kobo.699.1">echo</span></code><span class="koboSpan" id="kobo.700.1"> to see the setting:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.701.1">[donnie@fedora ~]$ echo $HISTSIZE
1000
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.702.1">Either way, we see that the system is set up to store the last 1,000 user commands in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.703.1">.bash_history</span></code><span class="koboSpan" id="kobo.704.1"> file.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.705.1">More often than not, you’ll probably use the up and down arrow keys on your keyboard to call up previously entered commands. </span><span class="koboSpan" id="kobo.705.2">If you keep pressing the up arrow key, you’ll scroll through the list of previous commands, starting with the last one entered. </span><span class="koboSpan" id="kobo.705.3">If you go past the command that you want, you can use the down arrow key to get back to it. </span><span class="koboSpan" id="kobo.705.4">When you finally do get to the command that you want to repeat, you can either press the </span><em class="keystroke"><span class="koboSpan" id="kobo.706.1">Enter</span></em><span class="koboSpan" id="kobo.707.1"> key to enter it as is, or edit it and then press </span><em class="keystroke"><span class="koboSpan" id="kobo.708.1">Enter</span></em><span class="koboSpan" id="kobo.709.1">.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.710.1">You can also use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.711.1">!</span></code><span class="koboSpan" id="kobo.712.1"> in various ways to recall past commands. </span><span class="koboSpan" id="kobo.712.2">For example, entering </span><code class="inlineCode"><span class="koboSpan" id="kobo.713.1">!!</span></code><span class="koboSpan" id="kobo.714.1"> will execute the last command that you entered, as you see here:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.715.1">[donnie@fedora ~]$ ls -l *.txt
-rw-r--r--. </span><span class="koboSpan" id="kobo.715.2">1 donnie donnie 12111206 Feb 18 13:41 dnf_list.txt
-rw-r--r--. </span><span class="koboSpan" id="kobo.715.3">1 donnie donnie     2356 Jul 29 18:46 md5sumfile.txt
-rw-r--r--. </span><span class="koboSpan" id="kobo.715.4">1 donnie donnie     2356 Jul 29 18:49 newmd5sums.txt
[donnie@fedora ~]$ !!
</span><span class="koboSpan" id="kobo.715.5">ls -l *.txt
-rw-r--r--. </span><span class="koboSpan" id="kobo.715.6">1 donnie donnie 12111206 Feb 18 13:41 dnf_list.txt
-rw-r--r--. </span><span class="koboSpan" id="kobo.715.7">1 donnie donnie     2356 Jul 29 18:46 md5sumfile.txt
-rw-r--r--. </span><span class="koboSpan" id="kobo.715.8">1 donnie donnie     2356 Jul 29 18:49 newmd5sums.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.716.1">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.717.1">!</span></code><span class="koboSpan" id="kobo.718.1"> followed by a text string to execute the last executed command that begins with that string. </span><span class="koboSpan" id="kobo.718.2">Let’s say that</span><a id="_idIndexMarker128"/><span class="koboSpan" id="kobo.719.1"> I want to repeat the last </span><code class="inlineCode"><span class="koboSpan" id="kobo.720.1">grep</span></code><span class="koboSpan" id="kobo.721.1"> command that I did, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.722.1">[donnie@fedora ~]$ !grep
grep HISTSIZE /etc/profile
HISTSIZE=1000
export PATH USER LOGNAME MAIL HOSTNAME HISTSIZE HISTCONTROL
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.723.1">Use </span><code class="inlineCode"><span class="koboSpan" id="kobo.724.1">!? </span></code><span class="koboSpan" id="kobo.725.1">followed by a string to execute the last executed command that contains that string, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.726.1">[donnie@fedora ~]$ echo "The fat cat jumped over the skinny dog."
</span><span class="koboSpan" id="kobo.726.2">The fat cat jumped over the skinny dog.
</span><span class="koboSpan" id="kobo.726.3">[donnie@fedora ~]$ !?skinny
echo "The fat cat jumped over the skinny dog."
</span><span class="koboSpan" id="kobo.726.4">The fat cat jumped over the skinny dog.
</span><span class="koboSpan" id="kobo.726.5">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.727.1">Now, for the coolest part of all. </span><span class="koboSpan" id="kobo.727.2">First, let’s view the history list, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.728.1">[donnie@fedora ~]$ history
    1  sudo dnf -y upgrade
    2  sudo shutdown -r nowj
    3  sudo shutdown -r now
    4  cd /usr/share
. </span><span class="koboSpan" id="kobo.728.2">. </span><span class="koboSpan" id="kobo.728.3">.
</span><span class="koboSpan" id="kobo.728.4">. </span><span class="koboSpan" id="kobo.728.5">. </span><span class="koboSpan" id="kobo.728.6">.
  </span><span class="koboSpan" id="kobo.728.7">478  echo "The fat cat jumped over the skinny dog."
  </span><span class="koboSpan" id="kobo.728.8">479  clear
       [donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.729.1">To execute a command from this list, enter </span><code class="inlineCode"><span class="koboSpan" id="kobo.730.1">!</span></code><span class="koboSpan" id="kobo.731.1"> followed by the command number. </span><span class="koboSpan" id="kobo.731.2">For example, to perform the </span><code class="inlineCode"><span class="koboSpan" id="kobo.732.1">echo</span></code><span class="koboSpan" id="kobo.733.1"> command again, enter </span><code class="inlineCode"><span class="koboSpan" id="kobo.734.1">!478</span></code><span class="koboSpan" id="kobo.735.1">, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.736.1">[donnie@fedora ~]$ !478
echo "The fat cat jumped over the skinny dog."
</span><span class="koboSpan" id="kobo.736.2">The fat cat jumped over the skinny dog.
</span><span class="koboSpan" id="kobo.736.3">[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.737.1">Of all of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.738.1">history</span></code><span class="koboSpan" id="kobo.739.1"> tricks that I’ve shown you, this last one is the most useful one for me. </span><span class="koboSpan" id="kobo.739.2">But wait, here’s yet one more trick that you might find useful. </span><span class="koboSpan" id="kobo.739.3">That is, you can display the</span><a id="_idIndexMarker129"/><span class="koboSpan" id="kobo.740.1"> command history along with timestamps that show when each command has been executed. </span><span class="koboSpan" id="kobo.740.2">On </span><code class="inlineCode"><span class="koboSpan" id="kobo.741.1">bash</span></code><span class="koboSpan" id="kobo.742.1">, just do this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.743.1">donnie@opensuse:~&gt; HISTTIMEFORMAT="%d/%m/%y %T " history
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.744.1">The output will look something like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.745.1">49  22/03/24 14:02:29 ./start_mining.sh
50  22/03/24 14:02:29 vim start_mining.sh
51  22/03/24 14:02:29 ./start_mining.sh
52  22/03/24 14:02:29 cd
53  22/03/24 14:02:29 cd Downloads/
54  22/03/24 14:02:29 ls
. </span><span class="koboSpan" id="kobo.745.2">. </span><span class="koboSpan" id="kobo.745.3">.
</span><span class="koboSpan" id="kobo.745.4">. </span><span class="koboSpan" id="kobo.745.5">. </span><span class="koboSpan" id="kobo.745.6">.
</span><span class="koboSpan" id="kobo.745.7">1046  23/03/24 12:03:53 clear
1047  23/03/24 12:05:37 HISTTIMEFORMAT="%d/%m/%y %T " history
donnie@opensuse:~&gt;
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.746.1">What’s happening here is that we’re configuring the </span><code class="inlineCode"><span class="koboSpan" id="kobo.747.1">HISTTIMEFORMAT</span></code><span class="koboSpan" id="kobo.748.1"> environmental variable to display the timestamp in our desired format, and then running the </span><code class="inlineCode"><span class="koboSpan" id="kobo.749.1">history</span></code><span class="koboSpan" id="kobo.750.1"> command.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.751.1">This is somewhat easier on </span><code class="inlineCode"><span class="koboSpan" id="kobo.752.1">zsh</span></code><span class="koboSpan" id="kobo.753.1">, because </span><code class="inlineCode"><span class="koboSpan" id="kobo.754.1">zsh</span></code><span class="koboSpan" id="kobo.755.1"> allows us to use </span><code class="inlineCode"><span class="koboSpan" id="kobo.756.1">history</span></code><span class="koboSpan" id="kobo.757.1"> with the </span><code class="inlineCode"><span class="koboSpan" id="kobo.758.1">-f</span></code><span class="koboSpan" id="kobo.759.1"> option switch, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.760.1">donnie@opensuse:~&gt; zsh
donnie@opensuse:~&gt; history -f
   17  3/23/2024 11:58  echo $HISTFILE
   18  3/23/2024 11:58  cd /etc
   19  3/23/2024 11:58  ls
   20  3/23/2024 11:58  less zprofile
. </span><span class="koboSpan" id="kobo.760.2">. </span><span class="koboSpan" id="kobo.760.3">.
</span><span class="koboSpan" id="kobo.760.4">. </span><span class="koboSpan" id="kobo.760.5">. </span><span class="koboSpan" id="kobo.760.6">.
</span><span class="koboSpan" id="kobo.760.7">31  3/23/2024 11:58  echo $HISTFILE
32  3/23/2024 11:58  exit
donnie@opensuse:~&gt;
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.761.1">Note that running </span><code class="inlineCode"><span class="koboSpan" id="kobo.762.1">history -f</span></code><span class="koboSpan" id="kobo.763.1"> on </span><code class="inlineCode"><span class="koboSpan" id="kobo.764.1">bash</span></code><span class="koboSpan" id="kobo.765.1"> will give you an error message, like this one:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.766.1">donnie@opensuse:~&gt; history -f
bash: history: -f: invalid option
history: usage: history [-c] [-d offset] [n] or history -anrw [filename] or history -ps arg [arg...]
donnie@opensuse:~&gt;
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.767.1">All right, let’s move on to </span><a id="_idIndexMarker130"/><span class="koboSpan" id="kobo.768.1">the next topic.</span></p>
    <h1 id="_idParaDest-49" class="heading 1"><span class="koboSpan" id="kobo.769.1">Escaping and Quoting</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.770.1">Whenever you type anything on the command-line or into a shell script, you’ll be using a mix of normal </span><a id="_idIndexMarker131"/><span class="koboSpan" id="kobo.771.1">alphanumeric text and non-alphanumeric characters. </span><span class="koboSpan" id="kobo.771.2">Some of these characters have special meanings within the shell, and will cause the shell to perform</span><a id="_idIndexMarker132"/><span class="koboSpan" id="kobo.772.1"> in some special way. </span><span class="koboSpan" id="kobo.772.2">Sometimes, you’ll want the shell to interpret these special characters as normal text, instead of as something with a magical power. </span><span class="koboSpan" id="kobo.772.3">To do that, you can either </span><strong class="keyWord"><span class="koboSpan" id="kobo.773.1">escape</span></strong><span class="koboSpan" id="kobo.774.1"> or </span><strong class="keyWord"><span class="koboSpan" id="kobo.775.1">quote</span></strong><span class="koboSpan" id="kobo.776.1"> the special characters.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.777.1">There are two general classes of </span><a id="_idIndexMarker133"/><span class="koboSpan" id="kobo.778.1">characters that can be interpreted by the shell from within a shell command. </span><span class="koboSpan" id="kobo.778.2">These are:</span></p>
    <ul>
      <li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.779.1">Normal characters</span></strong><span class="koboSpan" id="kobo.780.1">: </span><code class="inlineCode"><span class="koboSpan" id="kobo.781.1">bash</span></code><span class="koboSpan" id="kobo.782.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.783.1">zsh</span></code><span class="koboSpan" id="kobo.784.1"> interpret these characters literally. </span><span class="koboSpan" id="kobo.784.2">In other words, they have no special meaning to the shell.</span></li>
      <li class="bulletList"><strong class="keyWord"><span class="koboSpan" id="kobo.785.1">Metacharacters</span></strong><span class="koboSpan" id="kobo.786.1">: These </span><a id="_idIndexMarker134"/><span class="koboSpan" id="kobo.787.1">characters have special meanings for </span><code class="inlineCode"><span class="koboSpan" id="kobo.788.1">bash</span></code><span class="koboSpan" id="kobo.789.1"> and </span><code class="inlineCode"><span class="koboSpan" id="kobo.790.1">zsh</span></code><span class="koboSpan" id="kobo.791.1">. </span><span class="koboSpan" id="kobo.791.2">You could say that a metacharacter provides some sort of special instruction to these shells.</span></li>
    </ul>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.792.1">Here’s a space-separated list of metacharacters that can be used in either shell scripts or shell commands:</span></p>
      <pre class="programlisting gen"><code class="hljs-con"><code class="inlineCode"><span class="koboSpan" id="kobo.793.1">&amp;  ;  |  *  ?  </span><span class="koboSpan" id="kobo.793.2">'  "  `  [  ]  (  )  $  &lt;  &gt;  {  }  #  /  \  !  </span><span class="koboSpan" id="kobo.793.3">~</span></code>
</code></pre>
      <p class="normal"><span class="koboSpan" id="kobo.794.1">I’d rather not try to explain what each one does right now, because many of them can perform multiple functions, depending upon the context of the command. </span><span class="koboSpan" id="kobo.794.2">But, we’ve already seen some of them in action, and we’ll see the rest of them in action as we progress through this book.</span></p>
    </div>
    <h2 id="_idParaDest-50" class="heading 2"><span class="koboSpan" id="kobo.795.1">Escaping Metacharacters</span></h2>
    <p class="normal"><span class="koboSpan" id="kobo.796.1">We’ve already seen some of these metacharacters in action in the previous examples. </span><span class="koboSpan" id="kobo.796.2">To further </span><a id="_idIndexMarker135"/><span class="koboSpan" id="kobo.797.1">demonstrate, let’s look at the humble </span><code class="inlineCode"><span class="koboSpan" id="kobo.798.1">*</span></code><span class="koboSpan" id="kobo.799.1"> metacharacter, which can be used as a wildcard. </span><span class="koboSpan" id="kobo.799.2">Let’s first do a directory listing of all of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.800.1">.conf</span></code><span class="koboSpan" id="kobo.801.1"> files in the </span><code class="inlineCode"><span class="koboSpan" id="kobo.802.1">/etc/</span></code><span class="koboSpan" id="kobo.803.1"> directory, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.804.1">[donnie@fedora ~]$ ls /etc/*.conf
/etc/anthy-unicode.conf  /etc/libaudit.conf       /etc/rsyncd.conf
/etc/appstream.conf        /etc/libuser.conf        /etc/rsyslog.conf
/etc/asound.conf             /etc/locale.conf         /etc/sestatus.conf
. </span><span class="koboSpan" id="kobo.804.2">. </span><span class="koboSpan" id="kobo.804.3">.
</span><span class="koboSpan" id="kobo.804.4">. </span><span class="koboSpan" id="kobo.804.5">. </span><span class="koboSpan" id="kobo.804.6">.
</span><span class="koboSpan" id="kobo.804.7">/etc/ld.so.conf                 /etc/resolv.conf
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.805.1">You see that I’ve just listed all files with filenames that end with a </span><code class="inlineCode"><span class="koboSpan" id="kobo.806.1">.conf</span></code><span class="koboSpan" id="kobo.807.1"> filename extension. </span><span class="koboSpan" id="kobo.807.2">Now, let’s place a </span><code class="inlineCode"><span class="koboSpan" id="kobo.808.1">\ </span></code><span class="koboSpan" id="kobo.809.1">in front of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.810.1">*</span></code><span class="koboSpan" id="kobo.811.1">, like this:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.812.1">[donnie@fedora ~]$ ls /etc/\*.conf
ls: cannot access '/etc/*.conf': No such file or directory
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.813.1">Placing the </span><code class="inlineCode"><span class="koboSpan" id="kobo.814.1">\ </span></code><span class="koboSpan" id="kobo.815.1">in front of the </span><code class="inlineCode"><span class="koboSpan" id="kobo.816.1">*</span></code><span class="koboSpan" id="kobo.817.1"> caused the shell to interpret the </span><code class="inlineCode"><span class="koboSpan" id="kobo.818.1">* </span></code><span class="koboSpan" id="kobo.819.1">literally, instead of as a metacharacter. </span><span class="koboSpan" id="kobo.819.2">Instead of looking for all files with </span><code class="inlineCode"><span class="koboSpan" id="kobo.820.1">.conf</span></code><span class="koboSpan" id="kobo.821.1"> at the end of their filenames, we’re now looking for just one specific file with the filename, </span><code class="inlineCode"><span class="koboSpan" id="kobo.822.1">*.conf</span></code><span class="koboSpan" id="kobo.823.1">. </span><span class="koboSpan" id="kobo.823.2">No such file exists, so </span><code class="inlineCode"><span class="koboSpan" id="kobo.824.1">ls</span></code><span class="koboSpan" id="kobo.825.1"> returned an error message.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.826.1">In our </span><code class="inlineCode"><span class="koboSpan" id="kobo.827.1">find</span></code><span class="koboSpan" id="kobo.828.1"> example where we performed a compound search, we had to place a </span><code class="inlineCode"><span class="koboSpan" id="kobo.829.1">\ </span></code><span class="koboSpan" id="kobo.830.1">in front of each parenthesis character so that the shell would interpret them correctly. </span><span class="koboSpan" id="kobo.830.2">Here’s what that looked like:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.831.1">[donnie@fedora ~]$ sudo find / \( -mtime +30 -iname '*.zip' \)
/home/donnie/Downloads/Roboto_Condensed.zip
/home/donnie/Downloads/Bungee_Spice.zip
. </span><span class="koboSpan" id="kobo.831.2">. </span><span class="koboSpan" id="kobo.831.3">.
</span><span class="koboSpan" id="kobo.831.4">. </span><span class="koboSpan" id="kobo.831.5">. </span><span class="koboSpan" id="kobo.831.6">.
</span><span class="koboSpan" id="kobo.831.7">/home/donnie/dosbox/turboc/SAMPLES/simpwn18/SWTCPPRJ.ZIP
/home/donnie/dosbox/turboc/SAMPLES/simpwn18/SWH.ZIP
/home/donnie/dosbox/turboc/SAMPLES/simpwn18/SIMPWIN.ZIP
/home/donnie/dosbox/turboc/SAMPLES/simpwn18/SWTC.ZIP
/home/donnie/dosbox/turbocplusplus/TC/TC.zip
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.832.1">Now, let’s try it </span><a id="_idIndexMarker136"/><span class="koboSpan" id="kobo.833.1">without the \ characters:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.834.1">[donnie@fedora ~]$ sudo find / ( -mtime +30 -iname '*.zip' )
bash: syntax error near unexpected token `('
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.835.1">This time, I get an error message, because </span><code class="inlineCode"><span class="koboSpan" id="kobo.836.1">bash</span></code><span class="koboSpan" id="kobo.837.1"> doesn’t understand what I’m trying to do.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.838.1">Now, just for fun, try this pair of commands on your own machine and note the difference in output:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.839.1">echo I won $300.
</span><span class="koboSpan" id="kobo.839.2">echo I won \$300.
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.840.1">I guess that I should mention that when you place a </span><code class="inlineCode"><span class="koboSpan" id="kobo.841.1">\</span></code><span class="koboSpan" id="kobo.842.1"> in front of a metacharacter so that the shell will interpret the metacharacter literally, it’s called </span><strong class="keyWord"><span class="koboSpan" id="kobo.843.1">escaping</span></strong><span class="koboSpan" id="kobo.844.1"> the metacharacter. </span><span class="koboSpan" id="kobo.844.2">This is something that you’ll use extensively for either normal shell commands or shell scripting.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.845.1">Okay, let’s look at another way to make the shell interpret metacharacters literally.</span></p>
    <h2 id="_idParaDest-51" class="heading 2"><span class="koboSpan" id="kobo.846.1">Quoting</span></h2>
    <p class="normal"><span class="koboSpan" id="kobo.847.1">You sometimes </span><a id="_idIndexMarker137"/><span class="koboSpan" id="kobo.848.1">might have to quote a text string when performing a shell command or writing a shell script. </span><span class="koboSpan" id="kobo.848.2">This simply involves surrounding the text string with either a pair of double quotes (</span><code class="inlineCode"><span class="koboSpan" id="kobo.849.1">"</span></code><span class="koboSpan" id="kobo.850.1">) or a pair of single quotes (</span><code class="inlineCode"><span class="koboSpan" id="kobo.851.1">'</span></code><span class="koboSpan" id="kobo.852.1">). </span><span class="koboSpan" id="kobo.852.2">If you surround a text string with a pair of single quotes, the shell will interpret any metacharacters that are within the quotes as normal, literal characters. </span><span class="koboSpan" id="kobo.852.3">If you surround a text string with a pair of double quotes, the shell will interpret most, but not all, metacharacters as normal, literal characters. </span><span class="koboSpan" id="kobo.852.4">To show how that works, let’s create a programming variable that we’ll call </span><code class="inlineCode"><span class="koboSpan" id="kobo.853.1">name</span></code><span class="koboSpan" id="kobo.854.1">, and assign to it the value </span><code class="inlineCode"><span class="koboSpan" id="kobo.855.1">charlie</span></code><span class="koboSpan" id="kobo.856.1">, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.857.1">[donnie@fedora ~]$ name=charlie
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.858.1">Next, we’ll try to echo back the value of </span><code class="inlineCode"><span class="koboSpan" id="kobo.859.1">name</span></code><span class="koboSpan" id="kobo.860.1">, using a pair of single quotes:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.861.1">[donnie@fedora ~]$ echo '$name'
$name
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.862.1">You see that the single quotes cause the shell to interpret the </span><code class="inlineCode"><span class="koboSpan" id="kobo.863.1">$</span></code><span class="koboSpan" id="kobo.864.1"> as a literal character. </span><span class="koboSpan" id="kobo.864.2">Now, let’s see what happen if we use a pair of double quotes:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.865.1">[donnie@fedora ~]$ echo "$name"
charlie
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.866.1">This time, we see the variable’s actual value, because the </span><code class="inlineCode"><span class="koboSpan" id="kobo.867.1">$</span></code><span class="koboSpan" id="kobo.868.1"> is one of the metacharacters that the double quotes won’t treat as a literal character.</span></p>
    <div class="note">
      <p class="normal"><span class="koboSpan" id="kobo.869.1">We’ll cover the topic of programming variables more in depth later. </span><span class="koboSpan" id="kobo.869.2">So for now, don’t stress out if you don’t fully understand the concept.</span></p>
    </div>
    <p class="normal"><span class="koboSpan" id="kobo.870.1">For reference, here’s the complete list of metacharacters that won’t get interpreted as literal characters by surrounding them with double quotes:</span></p>
    <ul>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.871.1">"</span></code></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.872.1">\</span></code></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.873.1">`</span></code></li>
      <li class="bulletList"><code class="inlineCode"><span class="koboSpan" id="kobo.874.1">$</span></code></li>
    </ul>
    <p class="normal"><span class="koboSpan" id="kobo.875.1">To clarify, the list consists of the double quote character, the backslash, the back-tick, and the dollar sign. </span><span class="koboSpan" id="kobo.875.2">(For now, don’t worry about what all of these metacharacters do. </span><span class="koboSpan" id="kobo.875.3">We’ll cover them all in due time.) </span></p>
    <p class="normal"><span class="koboSpan" id="kobo.876.1">For all other metacharacters, it </span><a id="_idIndexMarker138"/><span class="koboSpan" id="kobo.877.1">doesn’t matter whether you use double quotes or single quotes. </span><span class="koboSpan" id="kobo.877.2">Let’s look at this example that uses a wildcard character:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.878.1">[donnie@fedora ~]$ echo '*.txt'
*.txt
[donnie@fedora ~]$ echo "*.txt"
*.txt
[donnie@fedora ~]$
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.879.1">Either way, the result is the same. </span><span class="koboSpan" id="kobo.879.2">Both times, the </span><code class="inlineCode"><span class="koboSpan" id="kobo.880.1">*</span></code><span class="koboSpan" id="kobo.881.1"> gets treated as a literal character. </span><span class="koboSpan" id="kobo.881.2">To use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.882.1">*</span></code><span class="koboSpan" id="kobo.883.1"> as an actual metacharacter, just omit the quotes, like so:</span></p>
    <pre class="programlisting gen"><code class="hljs-con"><span class="koboSpan" id="kobo.884.1">[donnie@fedora ~]$ echo *.txt
addresses.txt alma9_default.txt alma9_future.txt alma_link.txt centos7scan_modified.txt centos7scan.txt dnf_list.txt finances.txt missing_stuff.txt password_for_RHEL_VM.txt rpmfusion.txt somefile.txt temp.txt test.txt text.txt ubuntuscan_modified.txt ubuntuscan.txt withL3.txt withoutL3.txt
[donnie@fedora ~]
</span></code></pre>
    <p class="normal"><span class="koboSpan" id="kobo.885.1">Okay, that pretty much does it for escaping and quoting, as well as for the whole chapter. </span><span class="koboSpan" id="kobo.885.2">Let’s summarize and move on.</span></p>
    <h1 id="_idParaDest-52" class="heading 1"><span class="koboSpan" id="kobo.886.1">Summary</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.887.1">We’ve covered some important basics in this chapter. </span><span class="koboSpan" id="kobo.887.2">We started by describing the structure and the components of a shell command, and how to perform multiple actions with just one single command. </span><span class="koboSpan" id="kobo.887.3">Then, we looked at the </span><code class="inlineCode"><span class="koboSpan" id="kobo.888.1">find</span></code><span class="koboSpan" id="kobo.889.1"> utility, and the cool things that you can do with it. </span><span class="koboSpan" id="kobo.889.2">We then looked at how to run commands recursively, and wrapped up with a discussion about escaping and quoting.</span></p>
    <p class="normal"><span class="koboSpan" id="kobo.890.1">In the next chapter, we’ll talk about variables and pipelines. </span><span class="koboSpan" id="kobo.890.2">I’ll see you there.</span></p>
    <h1 id="_idParaDest-53" class="heading 1"><span class="koboSpan" id="kobo.891.1">Questions</span></h1>
    <ol>
      <li class="numberedList" value="1"><span class="koboSpan" id="kobo.892.1">Which of the following sets of metacharacters would cause the second command to run only if the first command runs successfully?</span><ol>
          <li class="alphabeticList level 2" value="1"><code class="inlineCode"><span class="koboSpan" id="kobo.893.1">||</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.894.1">&amp;&amp;</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.895.1">|</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.896.1">&amp;</span></code></li>
        </ol>
      </li>
      <li class="numberedList"><span class="koboSpan" id="kobo.897.1">You want to run a command that contains the </span><code class="inlineCode"><span class="koboSpan" id="kobo.898.1">$</span></code><span class="koboSpan" id="kobo.899.1"> metacharacter, but you want the shell to interpret the metacharacter literally. </span><span class="koboSpan" id="kobo.899.2">How would you do that? </span><span class="koboSpan" id="kobo.899.3">(Choose two.)</span><ol>
          <li class="alphabeticList level 2" value="1"><span class="koboSpan" id="kobo.900.1">Precede the metacharacter with a </span><code class="inlineCode"><span class="koboSpan" id="kobo.901.1">/</span></code><span class="koboSpan" id="kobo.902.1">.</span></li>
          <li class="alphabeticList level 2"><span class="koboSpan" id="kobo.903.1">Surround the text string that contains the metacharacter with a pair of single quotes.</span></li>
          <li class="alphabeticList level 2"><span class="koboSpan" id="kobo.904.1">Precede the metacharacter with a </span><code class="inlineCode"><span class="koboSpan" id="kobo.905.1">\</span></code><span class="koboSpan" id="kobo.906.1">.</span></li>
          <li class="alphabeticList level 2"><span class="koboSpan" id="kobo.907.1">Surround the text string that contains the metacharacter with a pair of double quotes.</span></li>
          <li class="alphabeticList level 2"><span class="koboSpan" id="kobo.908.1">It’s not possible.</span></li>
        </ol>
      </li>
      <li class="numberedList"><span class="koboSpan" id="kobo.909.1">You’re using </span><code class="inlineCode"><span class="koboSpan" id="kobo.910.1">find</span></code><span class="koboSpan" id="kobo.911.1"> to search for files on a FreeBSD system. </span><span class="koboSpan" id="kobo.911.2">To search through the current working directory, what must you do on FreeBSD that you don’t have to do on Linux?</span><ol>
          <li class="alphabeticList level 2" value="1"><span class="koboSpan" id="kobo.912.1">Use a dot to designate the search path.</span></li>
          <li class="alphabeticList level 2"><span class="koboSpan" id="kobo.913.1">Nothing. </span><span class="koboSpan" id="kobo.913.2">The commands are performed the same way on both systems.</span></li>
          <li class="alphabeticList level 2"><span class="koboSpan" id="kobo.914.1">This isn’t possible on a FreeBSD system.</span></li>
          <li class="alphabeticList level 2"><span class="koboSpan" id="kobo.915.1">Use </span><code class="inlineCode"><span class="koboSpan" id="kobo.916.1">sudo</span></code><span class="koboSpan" id="kobo.917.1">.</span></li>
        </ol>
      </li>
      <li class="numberedList"><span class="koboSpan" id="kobo.918.1">You want to create a nested directory structure with one single </span><code class="inlineCode"><span class="koboSpan" id="kobo.919.1">mkdir</span></code><span class="koboSpan" id="kobo.920.1"> command. </span><span class="koboSpan" id="kobo.920.2">How would you do that?</span><ol>
          <li class="alphabeticList level 2" value="1"><span class="koboSpan" id="kobo.921.1">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.922.1">-r</span></code><span class="koboSpan" id="kobo.923.1"> option to make </span><code class="inlineCode"><span class="koboSpan" id="kobo.924.1">mkdir</span></code><span class="koboSpan" id="kobo.925.1"> run recursively.</span></li>
          <li class="alphabeticList level 2"><span class="koboSpan" id="kobo.926.1">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.927.1">-R</span></code><span class="koboSpan" id="kobo.928.1"> option to make </span><code class="inlineCode"><span class="koboSpan" id="kobo.929.1">mkdir</span></code><span class="koboSpan" id="kobo.930.1"> run recursively.</span></li>
          <li class="alphabeticList level 2"><span class="koboSpan" id="kobo.931.1">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.932.1">-P</span></code><span class="koboSpan" id="kobo.933.1"> option.</span></li>
          <li class="alphabeticList level 2"><span class="koboSpan" id="kobo.934.1">Use the </span><code class="inlineCode"><span class="koboSpan" id="kobo.935.1">-p</span></code><span class="koboSpan" id="kobo.936.1"> option.</span></li>
        </ol>
      </li>
      <li class="numberedList"><span class="koboSpan" id="kobo.937.1">You want to automatically perform an action on every file that </span><code class="inlineCode"><span class="koboSpan" id="kobo.938.1">find</span></code><span class="koboSpan" id="kobo.939.1"> finds, without being prompted. </span><span class="koboSpan" id="kobo.939.2">Which </span><code class="inlineCode"><span class="koboSpan" id="kobo.940.1">find</span></code><span class="koboSpan" id="kobo.941.1"> option would you use to do that?</span><ol>
          <li class="alphabeticList level 2" value="1"><code class="inlineCode"><span class="koboSpan" id="kobo.942.1">-ok</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.943.1">-exec</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.944.1">--exec</span></code></li>
          <li class="alphabeticList level 2"><code class="inlineCode"><span class="koboSpan" id="kobo.945.1">--ok</span></code></li>
        </ol>
      </li>
    </ol>
    <h1 id="_idParaDest-54" class="heading 1"><span class="koboSpan" id="kobo.946.1">Further Reading</span></h1>
    <ul>
      <li class="bulletList"><span class="koboSpan" id="kobo.947.1">Linux File Permissions Explained: </span><a href="https://www.redhat.com/sysadmin/linux-file-permissions-explained"><span class="url"><span class="koboSpan" id="kobo.948.1">https://www.redhat.com/sysadmin/linux-file-permissions-explained</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.949.1">How to Use Bash Wildcards for Globbing?: </span><a href="https://www.shell-tips.com/bash/wildcards-globbing/#gsc.tab=0"><span class="url"><span class="koboSpan" id="kobo.950.1">https://www.shell-tips.com/bash/wildcards-globbing/#gsc.tab=0</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.951.1">How to Recursively Search Directory Names in Linux: </span><a href="https://www.howtogeek.com/devops/how-to-recursively-search-directory-names-in-linux/"><span class="url"><span class="koboSpan" id="kobo.952.1">https://www.howtogeek.com/devops/how-to-recursively-search-directory-names-in-linux/</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.953.1">Find Command in Linux: </span><a href="https://linuxize.com/post/how-to-find-files-in-linux-using-the-command-line/"><span class="url"><span class="koboSpan" id="kobo.954.1">https://linuxize.com/post/how-to-find-files-in-linux-using-the-command-line/</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.955.1">10 Ways to Use the Linux find Command: </span><a href="https://www.redhat.com/sysadmin/linux-find-command"><span class="url"><span class="koboSpan" id="kobo.956.1">https://www.redhat.com/sysadmin/linux-find-command</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.957.1">What are Linux Metacharacters? </span><span class="koboSpan" id="kobo.957.2">Everything You Need to Know: </span><a href="https://www.makeuseof.com/what-are-linux-metacharacters/"><span class="url"><span class="koboSpan" id="kobo.958.1">https://www.makeuseof.com/what-are-linux-metacharacters/</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.959.1">6 Linux metacharacters I love to use on the command line: </span><a href="https://opensource.com/article/22/2/metacharacters-linux"><span class="url"><span class="koboSpan" id="kobo.960.1">https://opensource.com/article/22/2/metacharacters-linux</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.961.1">How to Use Your Bash Historyin the Linux or MacOS Terminal: </span><a href="https://www.howtogeek.com/44997/how-to-use-bash-history-to-improve-your-command-line-productivity/"><span class="url"><span class="koboSpan" id="kobo.962.1">https://www.howtogeek.com/44997/how-to-use-bash-history-to-improve-your-command-line-productivity/</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.963.1">Navigating Bash History Ctrl+r: </span><a href="https://lornajane.net/posts/2011/navigating-bash-history-with-ctrlr"><span class="url"><span class="koboSpan" id="kobo.964.1">https://lornajane.net/posts/2011/navigating-bash-history-with-ctrlr</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.965.1">How to Find When a Command is Executed in Linux: </span><a href="https://ostechnix.com/find-when-a-command-is-executed-in-linux/"><span class="url"><span class="koboSpan" id="kobo.966.1">https://ostechnix.com/find-when-a-command-is-executed-in-linux/</span></span></a></li>
      <li class="bulletList"><span class="koboSpan" id="kobo.967.1">Escape Quotes in Bash: </span><a href="https://linuxsimply.com/bash-scripting-tutorial/quotes/escape-quotes/"><span class="url"><span class="koboSpan" id="kobo.968.1">https://linuxsimply.com/bash-scripting-tutorial/quotes/escape-quotes/</span></span></a></li>
    </ul>
    <h1 id="_idParaDest-55" class="heading 1"><span class="koboSpan" id="kobo.969.1">Answers</span></h1>
    <ol>
      <li class="numberedList" value="1"><span class="koboSpan" id="kobo.970.1">b</span></li>
      <li class="numberedList"><span class="koboSpan" id="kobo.971.1">b and c</span></li>
      <li class="numberedList"><span class="koboSpan" id="kobo.972.1">a</span></li>
      <li class="numberedList"><span class="koboSpan" id="kobo.973.1">d</span></li>
      <li class="numberedList"><span class="koboSpan" id="kobo.974.1">b</span></li>
    </ol>
    <h1 id="_idParaDest-56" class="heading 1"><span class="koboSpan" id="kobo.975.1">Join our community on Discord!</span></h1>
    <p class="normal"><span class="koboSpan" id="kobo.976.1">Read this book alongside other users, Linux experts, and the author himself. </span></p>
    <p class="normal"><span class="koboSpan" id="kobo.977.1">Ask questions, provide solutions to other readers, chat with the author via Ask Me Anything sessions, and much more. </span><span class="koboSpan" id="kobo.977.2">Scan the QR code or visit the link to join the community.</span></p>
    <p class="normal"><a href="https://packt.link/SecNet"><span class="url"><span class="koboSpan" id="kobo.978.1">https://packt.link/SecNet</span></span></a></p>
    <p class="normal"><span class="koboSpan" id="kobo.979.1"><img src="../Images/QR_Code10596186092701843.png" alt=""/></span></p>
  </div>
</body></html>