<html><head></head><body><div id="sbo-rt-content"><div id="_idContainer113" class="_idGenObjectStyleOverride-1">&#13;
			<p id="_idParaDest-50" class="Chapter-Title"><span class="ChapterMarker">7. </span><a id="_idTextAnchor081"/>An Overview of the CentOS 8 Cockpit Web Interface</p>&#13;
			<p class="My-Basic-Paragraph">Although it comes equipped with the latest in Linux desktop environments, CentOS 8 is very much a server operating system and, as such, the majority of CentOS deployments will either be to remote physical servers or as cloud-based virtual machine instances. Invariably, these systems run without a keyboard, mouse or monitor, with direct access only available via the command-prompt over a network connection. This presents a challenge in terms of administering the system from remote locations. While much can certainly be achieved via remote access to the command-line and desktop environments, this is far from a consistent and cohesive solution to the administrative and monitoring tasks that need to be performed on a daily basis on an enterprise level operating system such as CentOS 8.</p>&#13;
			<p class="My-Basic-Paragraph">This issue has been addressed with the introduction of the Cockpit web-based administration interface. This chapter will explain how to install, configure and access the Cockpit interface while also providing an overview of the key features of Cockpit, many of which will be covered in greater detail in later chapters.</p>&#13;
			<p id="_idParaDest-51" class="Heading-1-1"><span class="Heading11Marker">7.1 </span><a id="_idTextAnchor082"/>An Overview of <a id="_idIndexMarker077"/>Cockpit</p>&#13;
			<p class="My-Basic-Paragraph">Cockpit is a light-weight, web-based interface that allows general system administrative tasks to be performed remotely. When installed and configured, the system administrator simply opens a local browser window and navigates to the Cockpit port on the remote server. After loading the Cockpit interface into the browser and logging in, a wide range of tasks can be performed visually using administration and monitoring tools. </p>&#13;
			<p class="My-Basic-Paragraph">Behind the scenes, Cockpit uses the same tools to perform tasks as would normally be used when working at the command-line, and updates automatically to reflect changes occurring elsewhere on the system. This allows Cockpit to be used in conjunction with other administration tools and techniques without the risk of one approach overriding another. Cockpit can also be configured to access more than one server, allowing multiple servers to be administered and monitored simultaneously through a single browser session.</p>&#13;
			<p class="My-Basic-Paragraph">Cockpit is installed by default with a wide range of tools already bundled. Cockpit also, however, allows additional extension plugins to be installed as needed. Cockpit is also designed so that you can create your own <a id="_idIndexMarker078"/>extensions using a combination of HTML and JavaScript to add missing or custom functionality. </p>&#13;
			<p class="My-Basic-Paragraph">Cockpit’s modular design also allows many features to be embedded into other web-based applications.</p>&#13;
			<p id="_idParaDest-52" class="Heading-1-1"><span class="Heading11Marker">7.2 </span><a id="_idTextAnchor083"/>Installing and Enabling <a id="_idIndexMarker079"/><a id="_idIndexMarker080"/>Cockpit</p>&#13;
			<p class="My-Basic-Paragraph">Cockpit is generally not installed on CentOS 8 by default, but can be set up and enabled in a few simple steps. The first step is to install the Cockpit package as follows:</p>&#13;
			<p class="Code"># dnf install cockpit</p>&#13;
			<p class="My-Basic-Paragraph">Next, the Cockpit socket service needs to be enabled:</p>&#13;
			<p class="Code"># systemctl enable --now cockpit.socket</p>&#13;
			<p class="My-Basic-Paragraph">Finally, the necessary ports need to be opened on the firewall to allow remote browser connections to reach Cockpit:</p>&#13;
			<p class="Code"># firewall-cmd --add-service=cockpit --permanent</p>&#13;
			<p class="Code"># firewall-cmd --reload</p>&#13;
			<p id="_idParaDest-53" class="Heading-1-1"><span class="Heading11Marker">7.3 </span><a id="_idTextAnchor084"/>Accessing <a id="_idIndexMarker081"/><a id="_idIndexMarker082"/>Cockpit</p>&#13;
			<p class="My-Basic-Paragraph">If you have access to the desktop environment of the server on which Cockpit has been installed, open a browser window and navigate to <span class="My-Italic _idGenCharOverride-1">https://localhost:9090</span> to access the Cockpit sign in screen. If, on the other hand, the server is remote, simply navigate to the server using the domain name or IP address (for example <span class="My-Italic _idGenCharOverride-1">https://myserver.com</span>:9090).</p>&#13;
			<p class="My-Basic-Paragraph">When the connection is established, the browser may issue a warning that the connection is not secure. This is because the Cockpit service is using a self-signed certificate. Either select the option to proceed to the web site or, to avoid this message in the future, select the advanced option and add an exception for the server address. </p>&#13;
			<p class="My-Basic-Paragraph">Once connected, the browser will load the log in page shown in <a href="../Text/Cockpit_Overview.xhtml#_idTextAnchor085">Figure 7-1</a> below:</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-1" src="Images/centos_8_cockpit_login.png" alt="" width="1121" height="633"/></p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-1</span><a id="_idTextAnchor085"/></p>&#13;
			<p class="My-Basic-Paragraph">Sign in to the Cockpit interface either as root or with your a user account credentials. Note that when signed in as a user some tasks will be restricted within the Cockpit interface due to permission constraints. After signing in, Cockpit will display the System screen.</p>&#13;
			<p id="_idParaDest-54" class="Heading-1-1"><span class="Heading11Marker">7.4 </span><a id="_idTextAnchor086"/><a id="_idIndexMarker083"/>System</p>&#13;
			<p class="My-Basic-Paragraph">The System screen provides an overview of the current system including realtime performance metrics for CPU, memory, disk I/O and network usage. This screen also includes information about the system including the underlying hardware, host name, system time and whether the system software is up to date. Options are also provided to restart or shutdown the system. </p>&#13;
			<p class="My-Basic-Paragraph"><a href="../Text/Cockpit_Overview.xhtml#_idTextAnchor087">Figure 7-2</a>, for example, shows the system monitoring page of the Cockpit interface:</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-2" src="Images/centos_8_cockpit_system.png" alt="" width="1415" height="817"/></p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-2</span><a id="_idTextAnchor087"/></p>&#13;
			<p id="_idParaDest-55" class="Heading-1-1"><span class="Heading11Marker">7.5 </span><a id="_idTextAnchor088"/>Logs<a id="_idIndexMarker084"/></p>&#13;
			<p class="My-Basic-Paragraph">When the Logs category is selected, Cockpit displays the contents of the <span class="My-Italic _idGenCharOverride-1">systemd</span> journal logs. Selecting a log entry will display the entire log message. The log entries are ordered with the most recent at the top and menus are included to filter the logs for different time durations and based on message severity.</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-3" src="Images/centos_8_cockpit_logs.png" alt="" width="1385" height="629"/></p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-3</span></p>&#13;
			<p id="_idParaDest-56" class="Heading-1-1"><span class="Heading11Marker">7.6 </span><a id="_idTextAnchor089"/>Storage<a id="_idIndexMarker085"/></p>&#13;
			<p class="My-Basic-Paragraph">Select the Storage option to review and manage the storage on the system including disks, partitions and volume groups, Network File System (NFS) mounts and RAID storage. This screen also allows disk I/O activity to be monitored in realtime and lists log output from the system <span class="My-Italic _idGenCharOverride-1">udisksd</span> service used to query and manage storage devices.</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-4" src="Images/centos_8_cockpit_storage.png" alt="" width="1214" height="832"/></p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-4</span></p>&#13;
			<p id="_idParaDest-57" class="Heading-1-1"><span class="Heading11Marker">7.7 </span><a id="_idTextAnchor090"/>Networking<a id="_idIndexMarker086"/></p>&#13;
			<p class="My-Basic-Paragraph">The Network screen provides information on a wide range of network related configurations and services including network interfaces and firewall settings and allows configuration changes to be made such as creating network bridges or setting up virtual networks.</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-5" src="Images/centos_8_cockpit_network.png" alt="" width="1164" height="734"/></p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-5</span></p>&#13;
			<p id="_idParaDest-58" class="Heading-1-1"><span class="Heading11Marker">7.8 </span><a id="_idTextAnchor091"/>Virtual Machines<a id="_idIndexMarker087"/></p>&#13;
			<p class="My-Basic-Paragraph">Virtualization allows multiple operating system instances to run simultaneously on a single computer system, with each system running inside its own <span class="My-Italic _idGenCharOverride-1">virtual machine</span>. The Virtual Machines Cockpit extension provides a way to create and manage the virtual machine guests installed on the server.</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-6" src="Images/centos_8_cockpit_virtual_machine_list.png" alt="" width="1568" height="602"/></p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-6</span></p>&#13;
			<p class="My-Basic-Paragraph">The Virtual Machines extension is not installed by default but can be added to Cockpit by running the following command:</p>&#13;
			<p class="Code"># dnf install cockpit-machines</p>&#13;
			<p class="My-Basic-Paragraph">The use of virtualization with CentOS 8 is covered starting with the chapter entitled <a href="../Text/KVM_Installation.xhtml#_idTextAnchor257"><span class="My-Italic _idGenCharOverride-1">“Installing KVM Virtualization on CentOS 8”</span></a></p>&#13;
			<p id="_idParaDest-59" class="Heading-1-1"><span class="Heading11Marker">7.9 </span><a id="_idTextAnchor092"/>Accounts<a id="_idIndexMarker088"/></p>&#13;
			<p class="My-Basic-Paragraph">Select this option to view the current user accounts configured on the system, and create accounts for additional users. The topic of user management will be covered later in the chapter entitled <a href="../Text/User_Management.xhtml#_idTextAnchor125"><span class="My-Italic _idGenCharOverride-1">“Managing CentOS 8 Users and Groups”</span></a><span class="My-Italic _idGenCharOverride-1">.</span></p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-7" src="Images/centos_8_cockpit_accounts.png" alt="" width="1590" height="354"/></p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-7</span></p>&#13;
			<p class="My-Basic-Paragraph">Click on an existing account to view details and make changes. The user account details page may also be used to review and add Public SSH keys to the user’s account for remote access to the server as outlined in the chapter entitled <a href="../Text/SSH_Authentication.xhtml#_idTextAnchor181"><span class="My-Italic _idGenCharOverride-1">“Configuring SSH Key-based Authentication on CentOS 8”</span></a>.</p>&#13;
			<p id="_idParaDest-60" class="Heading-1-1"><span class="Heading11Marker">7.10 </span><a id="_idTextAnchor093"/>Services<a id="_idIndexMarker089"/></p>&#13;
			<p class="My-Basic-Paragraph">This screen displays a list of the system services running on the server and allows those services to be added, removed, stopped and started.</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-8" src="Images/centos_8_cockpit_services.png" alt="" width="1607" height="855"/> </p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-8</span></p>&#13;
			<p class="My-Basic-Paragraph">The topic of services will be covered in detail in the chapter entitled <a href="../Text/Systemd_Targets_and_States.xhtml#_idTextAnchor136"><span class="My-Italic _idGenCharOverride-1">“Configuring CentOS 8 systemd Units”</span></a>.</p>&#13;
			<p id="_idParaDest-61" class="Heading-1-1"><span class="Heading11Marker">7.11 </span><a id="_idTextAnchor094"/>Applications<a id="_idIndexMarker090"/><a id="_idIndexMarker091"/><a id="_idIndexMarker092"/></p>&#13;
			<p class="My-Basic-Paragraph">As previously mentioned, additional functionality can be added to Cockpit in the form of extensions. These can either be self-developed extensions, or those provided by third parties. The Applications screen lists installed extensions and allows extensions to be added or deleted.</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-9" src="Images/centos_8_cockpit_applications.png" alt="" width="1632" height="304"/></p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-9</span></p>&#13;
			<p id="_idParaDest-62" class="Heading-1-1"><span class="Heading11Marker">7.12 </span><a id="_idTextAnchor095"/><a id="_idIndexMarker093"/>Diagnostic Reports</p>&#13;
			<p class="My-Basic-Paragraph">When selected, this option allows a diagnostic report to be generated and downloaded to the local system for analysis. The generated report is provided in the form of a compressed archive file containing a collection of all the log files on the server system.</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-10" src="Images/centos_8_cockpit_diagnostics.png" alt="" width="1650" height="369"/></p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-10</span></p>&#13;
			<p id="_idParaDest-63" class="Heading-1-1"><span class="Heading11Marker">7.13 </span><a id="_idTextAnchor096"/><a id="_idIndexMarker094"/>Kernel Dump</p>&#13;
			<p class="My-Basic-Paragraph">This screen simply displays the current <a id="_idIndexMarker095"/>KDump service status and indicates where the kernel dump file will be located in the event of a kernel crash on the system. This dump file can then be used to identify the cause of the crash. A button is provided to test the Kernel dump by triggering a kernel crash, though use of this option is not recommended on a production server system:</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-11" src="Images/centos_8_cockpit_kdump.png" alt="" width="1620" height="263"/></p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-11</span></p>&#13;
			<p id="_idParaDest-64" class="Heading-1-1"><span class="Heading11Marker">7.14 </span><a id="_idTextAnchor097"/><a id="_idIndexMarker096"/>SELinux</p>&#13;
			<p class="My-Basic-Paragraph">When selected, the SELinux category indicates whether SELinux policy is currently being enforced and displays any alerts generated by this security system.</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-12" src="Images/centos_8_cockpit_selinux.png" alt="" width="1654" height="308"/></p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-12</span></p>&#13;
			<p id="_idParaDest-65" class="Heading-1-1"><span class="Heading11Marker">7.15 </span><a id="_idTextAnchor098"/><a id="_idIndexMarker097"/><a id="_idIndexMarker098"/>Software Updates</p>&#13;
			<p class="My-Basic-Paragraph">If any software updates are available for the system they will be listed on this screen. If updates are available, they can be installed from this screen.</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-13" src="Images/centos_8_cockpit_updates.png" alt="" width="1092" height="397"/></p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-13</span></p>&#13;
			<p id="_idParaDest-66" class="Heading-1-1"><span class="Heading11Marker">7.16 </span><a id="_idTextAnchor099"/><a id="_idTextAnchor101"/>Terminal<a id="_idIndexMarker101"/></p>&#13;
			<p class="My-Basic-Paragraph">As the name suggests, the Terminal screen provides access to the command-line prompt.</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-14" src="Images/centos_8_cockpit_terminal.png" alt="" width="1707" height="651"/></p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-14</span></p>&#13;
			<p id="_idParaDest-67" class="Heading-1-1"><span class="Heading11Marker">7.17 </span><a id="_idTextAnchor102"/>Connecting to <a id="_idIndexMarker102"/>Multiple Servers</p>&#13;
			<p class="My-Basic-Paragraph">Cockpit can be configured to administer multiple servers from within a single session. This requires that the <a id="_idIndexMarker103"/>Cockpit dashboard be installed on the primary system (in other words the system to which the initial Cockpit session will be established) To install the Cockpit dashboard package, run the following command:</p>&#13;
			<p class="Code"># dnf install cockpit-dashboard</p>&#13;
			<p class="My-Basic-Paragraph">Once the dashboard has been installed, sign out of Cockpit and then sign in again. The dashboard will now appear in the Cockpit interface as highlighted in <a href="../Text/Cockpit_Overview.xhtml#_idTextAnchor103">Figure 7-15</a>:</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-15" src="Images/centos_8_cockpit_dashboard.png" alt="" width="1053" height="399"/></p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-15</span><a id="_idTextAnchor103"/></p>&#13;
			<p class="My-Basic-Paragraph">When selected, the dashboard page will display performance graphs for the current system and provide a list of currently connected systems:</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-16" src="Images/centos_8_cockpit_dashboard_running.png" alt="" width="1302" height="596"/></p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-16</span><a id="_idTextAnchor104"/></p>&#13;
			<p class="My-Basic-Paragraph">To add another system, click on the + button highlighted in <a href="../Text/Cockpit_Overview.xhtml#_idTextAnchor104">Figure 7-16</a> above, enter the IP address or host name of the other system and select a color by which to distinguish this server from any others added to Cockpit before clicking on the Add button:</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-17" src="Images/rhel_8_cockpit_dashboard_add_server.png" alt="" width="598" height="199"/> </p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-17</span></p>&#13;
			<p class="My-Basic-Paragraph">Enter the user name and password to be used when connecting to the other system, then click on the log in button. The newly added server will now be listed in the Cockpit dashboard and will appear in graphs represented by the previously selected color:</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-18" src="Images/centos_8_cockpit_dashboard_two_servers.png" alt="" width="1090" height="526"/></p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-18</span></p>&#13;
			<p class="My-Basic-Paragraph">To switch between systems when using Cockpit, simply use the drop down menu shown in <a href="../Text/Cockpit_Overview.xhtml#_idTextAnchor105">Figure 7-19</a> below:</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-19" src="Images/centos_8_cockpit_dashboard_switch_server.png" alt="" width="647" height="560"/> </p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-19</span><a id="_idTextAnchor105"/></p>&#13;
			<p id="_idParaDest-68" class="Heading-1-1"><span class="Heading11Marker">7.18 </span><a id="_idTextAnchor106"/>Enabling <a id="_idIndexMarker104"/>Stored Metrics</p>&#13;
			<p class="My-Basic-Paragraph">In a standard installation Cockpit does not retain any of the performance metric data beyond what is displayed in the short time window covered by the graphs. To retain the data collected by Cockpit, the stored metrics feature needs to be installed. Begin by installing the <span class="My-Italic _idGenCharOverride-1">cockpit-pcp </span>package as follows:</p>&#13;
			<p class="Code"># dnf install cockpit-pcp</p>&#13;
			<p class="My-Basic-Paragraph">To enable metric persistence, display the System screen and click on the <span class="My-Italic _idGenCharOverride-1">Enable stored metrics...</span> link highlighted in <a href="../Text/Cockpit_Overview.xhtml#_idTextAnchor107">Figure 7-20</a>:</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-20" src="Images/centos_8_cockpit_stored_metrics.png" alt="" width="1275" height="246"/></p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-20</span><a id="_idTextAnchor107"/></p>&#13;
			<p class="My-Basic-Paragraph">Once this option has been selected, Cockpit will request permission to install the <a id="_idIndexMarker105"/><span class="My-Italic _idGenCharOverride-1">cockpit-pcp</span>, <a id="_idIndexMarker106"/><span class="My-Italic _idGenCharOverride-1">pcp-libs</span> and <a id="_idIndexMarker107"/><span class="My-Italic _idGenCharOverride-1">pcp-selinux</span> packages. Once these packages have been installed, the <span class="My-Italic _idGenCharOverride-1">Enable persistent metrics</span> link will have been replaced by a control labeled <span class="My-Italic _idGenCharOverride-1">Store Metrics</span>. When this option is enabled, the performance graphs will include additional controls allowing you to move back and forth in time to view historical data and to change the data time frame ranging from 1 hour up to 1 week:</p>&#13;
			<p class="My-Basic-Paragraph ParaOverride-1"><img class="_idGenObjectAttribute-21" src="Images/rhel_8_cockpit_persistent_data_controls.png" alt="" width="760" height="166"/> </p>&#13;
			<p class="Figure-Caption"><span class="FigureCaptionMarker">Figure 7-21</span><a id="_idTextAnchor108"/></p>&#13;
			<p id="_idParaDest-69" class="Heading-1-1"><span class="Heading11Marker">7.19 </span><a id="_idTextAnchor109"/>Summary</p>&#13;
			<p class="My-Basic-Paragraph">The Cockpit web interface allows remote system administration tasks to be performed visually from within a web browser without the need to rely on the command-prompt and command-line tools. Once installed and enabled, the system administrator simply opens a web browser, connects to the remote server and signs into the Cockpit interface. Behind the scenes, Cockpit uses the same command-line tools as those available via the command prompt, thereby allowing both options to be used without the risk of configuration conflicts. Cockpit uses a modular framework allowing additional extensions to be added, and for custom extensions to be developed and integrated. A Cockpit session can be used to administer a single server, or configured to access multiple servers simultaneously.</p>&#13;
			<p class="My-Basic-Paragraph"> </p>&#13;
		</div>&#13;
</div>



  </body></html>